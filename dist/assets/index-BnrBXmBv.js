var ow=Object.defineProperty;var aw=(r,e,t)=>e in r?ow(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Er=(r,e,t)=>aw(r,typeof e!="symbol"?e+"":e,t);function lw(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in r)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(r,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var HA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ip={exports:{}},ad={},sp={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function cw(){if(l0)return Qt;l0=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function S(G){return G===null||typeof G!="object"?null:(G=y&&G[y]||G["@@iterator"],typeof G=="function"?G:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function E(G,T,q){this.props=G,this.context=T,this.refs=k,this.updater=q||h}E.prototype.isReactComponent={},E.prototype.setState=function(G,T){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,T,"setState")},E.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function j(){}j.prototype=E.prototype;function C(G,T,q){this.props=G,this.context=T,this.refs=k,this.updater=q||h}var P=C.prototype=new j;P.constructor=C,A(P,E.prototype),P.isPureReactComponent=!0;var R=Array.isArray,U=Object.prototype.hasOwnProperty,oe={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function W(G,T,q){var Y,ae={},le=null,re=null;if(T!=null)for(Y in T.ref!==void 0&&(re=T.ref),T.key!==void 0&&(le=""+T.key),T)U.call(T,Y)&&!Q.hasOwnProperty(Y)&&(ae[Y]=T[Y]);var ue=arguments.length-2;if(ue===1)ae.children=q;else if(1<ue){for(var me=Array(ue),_e=0;_e<ue;_e++)me[_e]=arguments[_e+2];ae.children=me}if(G&&G.defaultProps)for(Y in ue=G.defaultProps,ue)ae[Y]===void 0&&(ae[Y]=ue[Y]);return{$$typeof:r,type:G,key:le,ref:re,props:ae,_owner:oe.current}}function H(G,T){return{$$typeof:r,type:G.type,key:T,ref:G.ref,props:G.props,_owner:G._owner}}function se(G){return typeof G=="object"&&G!==null&&G.$$typeof===r}function O(G){var T={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(q){return T[q]})}var F=/\/+/g;function J(G,T){return typeof G=="object"&&G!==null&&G.key!=null?O(""+G.key):T.toString(36)}function X(G,T,q,Y,ae){var le=typeof G;(le==="undefined"||le==="boolean")&&(G=null);var re=!1;if(G===null)re=!0;else switch(le){case"string":case"number":re=!0;break;case"object":switch(G.$$typeof){case r:case e:re=!0}}if(re)return re=G,ae=ae(re),G=Y===""?"."+J(re,0):Y,R(ae)?(q="",G!=null&&(q=G.replace(F,"$&/")+"/"),X(ae,T,q,"",function(_e){return _e})):ae!=null&&(se(ae)&&(ae=H(ae,q+(!ae.key||re&&re.key===ae.key?"":(""+ae.key).replace(F,"$&/")+"/")+G)),T.push(ae)),1;if(re=0,Y=Y===""?".":Y+":",R(G))for(var ue=0;ue<G.length;ue++){le=G[ue];var me=Y+J(le,ue);re+=X(le,T,q,me,ae)}else if(me=S(G),typeof me=="function")for(G=me.call(G),ue=0;!(le=G.next()).done;)le=le.value,me=Y+J(le,ue++),re+=X(le,T,q,me,ae);else if(le==="object")throw T=String(G),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return re}function fe(G,T,q){if(G==null)return G;var Y=[],ae=0;return X(G,Y,"","",function(le){return T.call(q,le,ae++)}),Y}function de(G){if(G._status===-1){var T=G._result;T=T(),T.then(function(q){(G._status===0||G._status===-1)&&(G._status=1,G._result=q)},function(q){(G._status===0||G._status===-1)&&(G._status=2,G._result=q)}),G._status===-1&&(G._status=0,G._result=T)}if(G._status===1)return G._result.default;throw G._result}var ye={current:null},$={transition:null},he={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:$,ReactCurrentOwner:oe};function xe(){throw Error("act(...) is not supported in production builds of React.")}return Qt.Children={map:fe,forEach:function(G,T,q){fe(G,function(){T.apply(this,arguments)},q)},count:function(G){var T=0;return fe(G,function(){T++}),T},toArray:function(G){return fe(G,function(T){return T})||[]},only:function(G){if(!se(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Qt.Component=E,Qt.Fragment=t,Qt.Profiler=o,Qt.PureComponent=C,Qt.StrictMode=n,Qt.Suspense=d,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Qt.act=xe,Qt.cloneElement=function(G,T,q){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Y=A({},G.props),ae=G.key,le=G.ref,re=G._owner;if(T!=null){if(T.ref!==void 0&&(le=T.ref,re=oe.current),T.key!==void 0&&(ae=""+T.key),G.type&&G.type.defaultProps)var ue=G.type.defaultProps;for(me in T)U.call(T,me)&&!Q.hasOwnProperty(me)&&(Y[me]=T[me]===void 0&&ue!==void 0?ue[me]:T[me])}var me=arguments.length-2;if(me===1)Y.children=q;else if(1<me){ue=Array(me);for(var _e=0;_e<me;_e++)ue[_e]=arguments[_e+2];Y.children=ue}return{$$typeof:r,type:G.type,key:ae,ref:le,props:Y,_owner:re}},Qt.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:a,_context:G},G.Consumer=G},Qt.createElement=W,Qt.createFactory=function(G){var T=W.bind(null,G);return T.type=G,T},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(G){return{$$typeof:c,render:G}},Qt.isValidElement=se,Qt.lazy=function(G){return{$$typeof:v,_payload:{_status:-1,_result:G},_init:de}},Qt.memo=function(G,T){return{$$typeof:p,type:G,compare:T===void 0?null:T}},Qt.startTransition=function(G){var T=$.transition;$.transition={};try{G()}finally{$.transition=T}},Qt.unstable_act=xe,Qt.useCallback=function(G,T){return ye.current.useCallback(G,T)},Qt.useContext=function(G){return ye.current.useContext(G)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(G){return ye.current.useDeferredValue(G)},Qt.useEffect=function(G,T){return ye.current.useEffect(G,T)},Qt.useId=function(){return ye.current.useId()},Qt.useImperativeHandle=function(G,T,q){return ye.current.useImperativeHandle(G,T,q)},Qt.useInsertionEffect=function(G,T){return ye.current.useInsertionEffect(G,T)},Qt.useLayoutEffect=function(G,T){return ye.current.useLayoutEffect(G,T)},Qt.useMemo=function(G,T){return ye.current.useMemo(G,T)},Qt.useReducer=function(G,T,q){return ye.current.useReducer(G,T,q)},Qt.useRef=function(G){return ye.current.useRef(G)},Qt.useState=function(G){return ye.current.useState(G)},Qt.useSyncExternalStore=function(G,T,q){return ye.current.useSyncExternalStore(G,T,q)},Qt.useTransition=function(){return ye.current.useTransition()},Qt.version="18.3.1",Qt}var c0;function Rm(){return c0||(c0=1,sp.exports=cw()),sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function uw(){if(u0)return ad;u0=1;var r=Rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var v,y={},S=null,h=null;p!==void 0&&(S=""+p),d.key!==void 0&&(S=""+d.key),d.ref!==void 0&&(h=d.ref);for(v in d)n.call(d,v)&&!a.hasOwnProperty(v)&&(y[v]=d[v]);if(c&&c.defaultProps)for(v in d=c.defaultProps,d)y[v]===void 0&&(y[v]=d[v]);return{$$typeof:e,type:c,key:S,ref:h,props:y,_owner:o.current}}return ad.Fragment=t,ad.jsx=l,ad.jsxs=l,ad}var d0;function dw(){return d0||(d0=1,ip.exports=uw()),ip.exports}var w=dw(),fh={},op={exports:{}},Yi={},ap={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function hw(){return h0||(h0=1,(function(r){function e($,he){var xe=$.length;$.push(he);e:for(;0<xe;){var G=xe-1>>>1,T=$[G];if(0<o(T,he))$[G]=he,$[xe]=T,xe=G;else break e}}function t($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var he=$[0],xe=$.pop();if(xe!==he){$[0]=xe;e:for(var G=0,T=$.length,q=T>>>1;G<q;){var Y=2*(G+1)-1,ae=$[Y],le=Y+1,re=$[le];if(0>o(ae,xe))le<T&&0>o(re,ae)?($[G]=re,$[le]=xe,G=le):($[G]=ae,$[Y]=xe,G=Y);else if(le<T&&0>o(re,xe))$[G]=re,$[le]=xe,G=le;else break e}}return he}function o($,he){var xe=$.sortIndex-he.sortIndex;return xe!==0?xe:$.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],p=[],v=1,y=null,S=3,h=!1,A=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P($){for(var he=t(p);he!==null;){if(he.callback===null)n(p);else if(he.startTime<=$)n(p),he.sortIndex=he.expirationTime,e(d,he);else break;he=t(p)}}function R($){if(k=!1,P($),!A)if(t(d)!==null)A=!0,de(U);else{var he=t(p);he!==null&&ye(R,he.startTime-$)}}function U($,he){A=!1,k&&(k=!1,j(W),W=-1),h=!0;var xe=S;try{for(P(he),y=t(d);y!==null&&(!(y.expirationTime>he)||$&&!O());){var G=y.callback;if(typeof G=="function"){y.callback=null,S=y.priorityLevel;var T=G(y.expirationTime<=he);he=r.unstable_now(),typeof T=="function"?y.callback=T:y===t(d)&&n(d),P(he)}else n(d);y=t(d)}if(y!==null)var q=!0;else{var Y=t(p);Y!==null&&ye(R,Y.startTime-he),q=!1}return q}finally{y=null,S=xe,h=!1}}var oe=!1,Q=null,W=-1,H=5,se=-1;function O(){return!(r.unstable_now()-se<H)}function F(){if(Q!==null){var $=r.unstable_now();se=$;var he=!0;try{he=Q(!0,$)}finally{he?J():(oe=!1,Q=null)}}else oe=!1}var J;if(typeof C=="function")J=function(){C(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,fe=X.port2;X.port1.onmessage=F,J=function(){fe.postMessage(null)}}else J=function(){E(F,0)};function de($){Q=$,oe||(oe=!0,J())}function ye($,he){W=E(function(){$(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_continueExecution=function(){A||h||(A=!0,de(U))},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var xe=S;S=he;try{return $()}finally{S=xe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($,he){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var xe=S;S=$;try{return he()}finally{S=xe}},r.unstable_scheduleCallback=function($,he,xe){var G=r.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?G+xe:G):xe=G,$){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=xe+T,$={id:v++,callback:he,priorityLevel:$,startTime:xe,expirationTime:T,sortIndex:-1},xe>G?($.sortIndex=xe,e(p,$),t(d)===null&&$===t(p)&&(k?(j(W),W=-1):k=!0,ye(R,xe-G))):($.sortIndex=T,e(d,$),A||h||(A=!0,de(U))),$},r.unstable_shouldYield=O,r.unstable_wrapCallback=function($){var he=S;return function(){var xe=S;S=he;try{return $.apply(this,arguments)}finally{S=xe}}}})(lp)),lp}var f0;function fw(){return f0||(f0=1,ap.exports=hw()),ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function pw(){if(p0)return Yi;p0=1;var r=Rm(),e=fw();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)n.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function S(i){return d.call(y,i)?!0:d.call(v,i)?!1:p.test(i)?y[i]=!0:(v[i]=!0,!1)}function h(i,s,u,m){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,s,u,m){if(s===null||typeof s>"u"||h(i,s,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(i,s,u,m,x,N,M){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=N,this.removeEmptyString=M}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];E[s]=new k(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function C(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(j,C);E[s]=new k(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(j,C);E[s]=new k(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(j,C);E[s]=new k(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,s,u,m){var x=E.hasOwnProperty(s)?E[s]:null;(x!==null?x.type!==0:m||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,u,x,m)&&(u=null),m||x===null?S(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):x.mustUseProperty?i[x.propertyName]=u===null?x.type===3?!1:"":u:(s=x.attributeName,m=x.attributeNamespace,u===null?i.removeAttribute(s):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,m?i.setAttributeNS(m,s,u):i.setAttribute(s,u))))}var R=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),oe=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),$=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var xe=Object.assign,G;function T(i){if(G===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);G=s&&s[1]||""}return`
`+G+i}var q=!1;function Y(i,s){if(!i||q)return"";q=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(je){var m=je}Reflect.construct(i,[],s)}else{try{s.call()}catch(je){m=je}i.call(s.prototype)}else{try{throw Error()}catch(je){m=je}i()}}catch(je){if(je&&m&&typeof je.stack=="string"){for(var x=je.stack.split(`
`),N=m.stack.split(`
`),M=x.length-1,ce=N.length-1;1<=M&&0<=ce&&x[M]!==N[ce];)ce--;for(;1<=M&&0<=ce;M--,ce--)if(x[M]!==N[ce]){if(M!==1||ce!==1)do if(M--,ce--,0>ce||x[M]!==N[ce]){var ve=`
`+x[M].replace(" at new "," at ");return i.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",i.displayName)),ve}while(1<=M&&0<=ce);break}}}finally{q=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?T(i):""}function ae(i){switch(i.tag){case 5:return T(i.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return i=Y(i.type,!1),i;case 11:return i=Y(i.type.render,!1),i;case 1:return i=Y(i.type,!0),i;default:return""}}function le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case oe:return"Portal";case H:return"Profiler";case W:return"StrictMode";case J:return"Suspense";case X:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case se:return(i._context.displayName||"Context")+".Provider";case F:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case fe:return s=i.displayName||null,s!==null?s:le(i.type)||"Memo";case de:s=i._payload,i=i._init;try{return le(i(s))}catch{}}return null}function re(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(s);case 8:return s===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function me(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _e(i){var s=me(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),m=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,N=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return x.call(this)},set:function(M){m=""+M,N.call(this,M)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Pe(i){i._valueTracker||(i._valueTracker=_e(i))}function Me(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),m="";return i&&(m=me(i)?i.checked?"true":"false":i.value),i=m,i!==u?(s.setValue(i),!0):!1}function $e(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ke(i,s){var u=s.checked;return xe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Z(i,s){var u=s.defaultValue==null?"":s.defaultValue,m=s.checked!=null?s.checked:s.defaultChecked;u=ue(s.value!=null?s.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function He(i,s){s=s.checked,s!=null&&P(i,"checked",s,!1)}function _t(i,s){He(i,s);var u=ue(s.value),m=s.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?De(i,s.type,u):s.hasOwnProperty("defaultValue")&&De(i,s.type,ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function vt(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var m=s.type;if(!(m!=="submit"&&m!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function De(i,s,u){(s!=="number"||$e(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var yt=Array.isArray;function Ye(i,s,u,m){if(i=i.options,s){s={};for(var x=0;x<u.length;x++)s["$"+u[x]]=!0;for(u=0;u<i.length;u++)x=s.hasOwnProperty("$"+i[u].value),i[u].selected!==x&&(i[u].selected=x),x&&m&&(i[u].defaultSelected=!0)}else{for(u=""+ue(u),s=null,x=0;x<i.length;x++){if(i[x].value===u){i[x].selected=!0,m&&(i[x].defaultSelected=!0);return}s!==null||i[x].disabled||(s=i[x])}s!==null&&(s.selected=!0)}}function Qe(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return xe({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function at(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(yt(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:ue(u)}}function tr(i,s){var u=ue(s.value),m=ue(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function Vt(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Et(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Et(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ut,rt=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,m,x){MSApp.execUnsafeLocalFunction(function(){return i(s,u,m,x)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ut.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function kt(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vr=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(i){vr.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),nt[s]=nt[i]})});function Yt(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||nt.hasOwnProperty(i)&&nt[i]?(""+s).trim():s+"px"}function zt(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var m=u.indexOf("--")===0,x=Yt(u,s[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,x):i[u]=x}}var qt=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hr(i,s){if(s){if(qt[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function wt(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=null;function ht(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Pt=null,sr=null,Ot=null;function St(i){if(i=ll(i)){if(typeof Pt!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Xl(s),Pt(i.stateNode,i.type,s))}}function Je(i){sr?Ot?Ot.push(i):Ot=[i]:sr=i}function _r(){if(sr){var i=sr,s=Ot;if(Ot=sr=null,St(i),s)for(i=0;i<s.length;i++)St(s[i])}}function er(i,s){return i(s)}function Ir(){}var Rn=!1;function Xe(i,s,u){if(Rn)return i(s,u);Rn=!0;try{return er(i,s,u)}finally{Rn=!1,(sr!==null||Ot!==null)&&(Ir(),_r())}}function jr(i,s){var u=i.stateNode;if(u===null)return null;var m=Xl(u);if(m===null)return null;u=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var $n=!1;if(c)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){$n=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{$n=!1}function Dr(i,s,u,m,x,N,M,ce,ve){var je=Array.prototype.slice.call(arguments,3);try{s.apply(u,je)}catch(ze){this.onError(ze)}}var fr=!1,pr=null,Xr=!1,zs=null,vo={onError:function(i){fr=!0,pr=i}};function es(i,s,u,m,x,N,M,ce,ve){fr=!1,pr=null,Dr.apply(vo,arguments)}function Ss(i,s,u,m,x,N,M,ce,ve){if(es.apply(this,arguments),fr){if(fr){var je=pr;fr=!1,pr=null}else throw Error(t(198));Xr||(Xr=!0,zs=je)}}function In(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Di(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Si(i){if(In(i)!==i)throw Error(t(188))}function Go(i){var s=i.alternate;if(!s){if(s=In(i),s===null)throw Error(t(188));return s!==i?null:i}for(var u=i,m=s;;){var x=u.return;if(x===null)break;var N=x.alternate;if(N===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===u)return Si(x),i;if(N===m)return Si(x),s;N=N.sibling}throw Error(t(188))}if(u.return!==m.return)u=x,m=N;else{for(var M=!1,ce=x.child;ce;){if(ce===u){M=!0,u=x,m=N;break}if(ce===m){M=!0,m=x,u=N;break}ce=ce.sibling}if(!M){for(ce=N.child;ce;){if(ce===u){M=!0,u=N,m=x;break}if(ce===m){M=!0,m=N,u=x;break}ce=ce.sibling}if(!M)throw Error(t(189))}}if(u.alternate!==m)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:s}function ts(i){return i=Go(i),i!==null?yo(i):null}function yo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=yo(i);if(s!==null)return s;i=i.sibling}return null}var Ko=e.unstable_scheduleCallback,Jo=e.unstable_cancelCallback,Ua=e.unstable_shouldYield,Ru=e.unstable_requestPaint,Tr=e.unstable_now,Sc=e.unstable_getCurrentPriorityLevel,za=e.unstable_ImmediatePriority,ki=e.unstable_UserBlockingPriority,wo=e.unstable_NormalPriority,kc=e.unstable_LowPriority,qa=e.unstable_IdlePriority,Yo=null,Ni=null;function Nc(i){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(Yo,i,void 0,(i.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:cn,$a=Math.log,Iu=Math.LN2;function cn(i){return i>>>=0,i===0?32:31-($a(i)/Iu|0)|0}var Xo=64,Ai=4194304;function ks(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Qo(i,s){var u=i.pendingLanes;if(u===0)return 0;var m=0,x=i.suspendedLanes,N=i.pingedLanes,M=u&268435455;if(M!==0){var ce=M&~x;ce!==0?m=ks(ce):(N&=M,N!==0&&(m=ks(N)))}else M=u&~x,M!==0?m=ks(M):N!==0&&(m=ks(N));if(m===0)return 0;if(s!==0&&s!==m&&(s&x)===0&&(x=m&-m,N=s&-s,x>=N||x===16&&(N&4194240)!==0))return s;if((m&4)!==0&&(m|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=m;0<s;)u=31-ln(s),x=1<<u,m|=i[u],s&=~x;return m}function Fi(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(i,s){for(var u=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,N=i.pendingLanes;0<N;){var M=31-ln(N),ce=1<<M,ve=x[M];ve===-1?((ce&u)===0||(ce&m)!==0)&&(x[M]=Fi(ce,s)):ve<=s&&(i.expiredLanes|=ce),N&=~ce}}function rs(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ol(){var i=Xo;return Xo<<=1,(Xo&4194240)===0&&(Xo=64),i}function Rl(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Zo(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-ln(s),i[s]=u}function Ns(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var x=31-ln(u),N=1<<x;s[x]=0,m[x]=-1,i[x]=-1,u&=~N}}function Wa(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var m=31-ln(u),x=1<<m;x&s|i[m]&s&&(i[m]|=s),u&=~x}}var ir=0;function ea(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var bo,Il,Ac,Ec,Va,Ha=!1,oi=[],As=null,ai=null,Mi=null,ta=new Map,Ct=new Map,Es=[],Du="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(i,s){switch(i){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":ta.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(s.pointerId)}}function Ei(i,s,u,m,x,N){return i===null||i.nativeEvent!==N?(i={blockedOn:s,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[x]},s!==null&&(s=ll(s),s!==null&&Il(s)),i):(i.eventSystemFlags|=m,s=i.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),i)}function qs(i,s,u,m,x){switch(s){case"focusin":return As=Ei(As,i,s,u,m,x),!0;case"dragenter":return ai=Ei(ai,i,s,u,m,x),!0;case"mouseover":return Mi=Ei(Mi,i,s,u,m,x),!0;case"pointerover":var N=x.pointerId;return ta.set(N,Ei(ta.get(N)||null,i,s,u,m,x)),!0;case"gotpointercapture":return N=x.pointerId,Ct.set(N,Ei(Ct.get(N)||null,i,s,u,m,x)),!0}return!1}function jc(i){var s=Po(i.target);if(s!==null){var u=In(s);if(u!==null){if(s=u.tag,s===13){if(s=Di(u),s!==null){i.blockedOn=s,Va(i.priority,function(){Ac(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ga(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=ia(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);nr=m,u.target.dispatchEvent(m),nr=null}else return s=ll(u),s!==null&&Il(s),i.blockedOn=u,!1;s.shift()}return!0}function ra(i,s,u){Ga(i)&&u.delete(s)}function Dl(){Ha=!1,As!==null&&Ga(As)&&(As=null),ai!==null&&Ga(ai)&&(ai=null),Mi!==null&&Ga(Mi)&&(Mi=null),ta.forEach(ra),Ct.forEach(ra)}function ns(i,s){i.blockedOn===s&&(i.blockedOn=null,Ha||(Ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dl)))}function na(i){function s(x){return ns(x,i)}if(0<oi.length){ns(oi[0],i);for(var u=1;u<oi.length;u++){var m=oi[u];m.blockedOn===i&&(m.blockedOn=null)}}for(As!==null&&ns(As,i),ai!==null&&ns(ai,i),Mi!==null&&ns(Mi,i),ta.forEach(s),Ct.forEach(s),u=0;u<Es.length;u++)m=Es[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<Es.length&&(u=Es[0],u.blockedOn===null);)jc(u),u.blockedOn===null&&Es.shift()}var li=R.ReactCurrentBatchConfig,Ka=!0;function Fl(i,s,u,m){var x=ir,N=li.transition;li.transition=null;try{ir=1,Ja(i,s,u,m)}finally{ir=x,li.transition=N}}function Ml(i,s,u,m){var x=ir,N=li.transition;li.transition=null;try{ir=4,Ja(i,s,u,m)}finally{ir=x,li.transition=N}}function Ja(i,s,u,m){if(Ka){var x=ia(i,s,u,m);if(x===null)Kl(i,s,m,Bi,u),Cc(i,m);else if(qs(x,i,s,u,m))m.stopPropagation();else if(Cc(i,m),s&4&&-1<Du.indexOf(i)){for(;x!==null;){var N=ll(x);if(N!==null&&bo(N),N=ia(i,s,u,m),N===null&&Kl(i,s,m,Bi,u),N===x)break;x=N}x!==null&&m.stopPropagation()}else Kl(i,s,m,null,u)}}var Bi=null;function ia(i,s,u,m){if(Bi=null,i=ht(m),i=Po(i),i!==null)if(s=In(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Di(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Bi=i,null}function sa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sc()){case za:return 1;case ki:return 4;case wo:case kc:return 16;case qa:return 536870912;default:return 16}default:return 16}}var Ui=null,$s=null,xo=null;function Bl(){if(xo)return xo;var i,s=$s,u=s.length,m,x="value"in Ui?Ui.value:Ui.textContent,N=x.length;for(i=0;i<u&&s[i]===x[i];i++);var M=u-i;for(m=1;m<=M&&s[u-m]===x[N-m];m++);return xo=x.slice(i,1<m?1-m:void 0)}function oa(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function zi(){return!0}function Cs(){return!1}function Wn(i){function s(u,m,x,N,M){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=N,this.target=M,this.currentTarget=null;for(var ce in i)i.hasOwnProperty(ce)&&(u=i[ce],this[ce]=u?u(N):N[ce]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?zi:Cs,this.isPropagationStopped=Cs,this}return xe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),s}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Wn(qi),b=xe({},qi,{view:0,detail:0}),D=Wn(b),ie,pe,Se,Re=xe({},b,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Se&&(Se&&i.type==="mousemove"?(ie=i.screenX-Se.screenX,pe=i.screenY-Se.screenY):pe=ie=0,Se=i),ie)},movementY:function(i){return"movementY"in i?i.movementY:pe}}),Be=Wn(Re),st=xe({},Re,{dataTransfer:0}),pt=Wn(st),Rt=xe({},b,{relatedTarget:0}),Mt=Wn(Rt),rr=xe({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Wn(rr),un=xe({},qi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Lr=Wn(un),wn=xe({},qi,{data:0}),Qr=Wn(wn),Dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},is={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vs(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=is[i])?!!s[i]:!1}function aa(){return Vs}var Xa=xe({},b,{key:function(i){if(i.key){var s=Dn[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ws[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_o=Wn(Xa),la=xe({},Re,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Wn(la),ko=xe({},b,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),Fn=Wn(ko),ca=xe({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ua=Wn(ca),Ul=xe({},Re,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zl=Wn(Ul),Qn=[9,13,27,32],ss=c&&"CompositionEvent"in window,js=null;c&&"documentMode"in document&&(js=document.documentMode);var Lc=c&&"TextEvent"in window&&!js,Ci=c&&(!ss||js&&8<js&&11>=js),No=" ",Qa=!1;function Za(i,s){switch(i){case"keyup":return Qn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hs(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $i=!1;function ji(i,s){switch(i){case"compositionend":return Hs(s);case"keypress":return s.which!==32?null:(Qa=!0,No);case"textInput":return i=s.data,i===No&&Qa?null:i;default:return null}}function Li(i,s){if($i)return i==="compositionend"||!ss&&Za(i,s)?(i=Bl(),xo=$s=Ui=null,$i=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ci&&s.locale!=="ko"?null:s.data;default:return null}}var Ao={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ls(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ao[i.type]:s==="textarea"}function Gs(i,s,u,m){Je(m),s=Ic(s,"onChange"),0<s.length&&(u=new Ya("onChange","change",null,u,m),i.push({event:u,listeners:s}))}var Ks=null,Ps=null;function Zr(i){Hl(i,0)}function da(i){var s=xa(i);if(Me(s))return i}function Ts(i,s){if(i==="change")return s}var os=!1;if(c){var ha;if(c){var fa="oninput"in document;if(!fa){var el=document.createElement("div");el.setAttribute("oninput","return;"),fa=typeof el.oninput=="function"}ha=fa}else ha=!1;os=ha&&(!document.documentMode||9<document.documentMode)}function tl(){Ks&&(Ks.detachEvent("onpropertychange",Js),Ps=Ks=null)}function Js(i){if(i.propertyName==="value"&&da(Ps)){var s=[];Gs(s,Ps,i,ht(i)),Xe(Zr,s)}}function Eo(i,s,u){i==="focusin"?(tl(),Ks=s,Ps=u,Ks.attachEvent("onpropertychange",Js)):i==="focusout"&&tl()}function Co(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return da(Ps)}function pa(i,s){if(i==="click")return da(s)}function jo(i,s){if(i==="input"||i==="change")return da(s)}function ma(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wr=typeof Object.is=="function"?Object.is:ma;function ci(i,s){if(Wr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),m=Object.keys(s);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!d.call(s,x)||!Wr(i[x],s[x]))return!1}return!0}function or(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wr(i,s){var u=or(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=s&&m>=s)return{node:u,offset:s-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=or(u)}}function Vr(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Vr(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function dn(){for(var i=window,s=$e();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=$e(i.document)}return s}function as(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function ql(i){var s=dn(),u=i.focusedElem,m=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&Vr(u.ownerDocument.documentElement,u)){if(m!==null&&as(u)){if(s=m.start,i=m.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var x=u.textContent.length,N=Math.min(m.start,x);m=m.end===void 0?N:Math.min(m.end,x),!i.extend&&N>m&&(x=m,m=N,N=x),x=wr(u,N);var M=wr(u,m);x&&M&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==M.node||i.focusOffset!==M.offset)&&(s=s.createRange(),s.setStart(x.node,x.offset),i.removeAllRanges(),N>m?(i.addRange(s),i.extend(M.node,M.offset)):(s.setEnd(M.node,M.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var rl=c&&"documentMode"in document&&11>=document.documentMode,Ys=null,Pc=null,nl=null,Tc=!1;function Fu(i,s,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tc||Ys==null||Ys!==$e(m)||(m=Ys,"selectionStart"in m&&as(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),nl&&ci(nl,m)||(nl=m,m=Ic(Pc,"onSelect"),0<m.length&&(s=new Ya("onSelect","select",null,s,u),i.push({event:s,listeners:m}),s.target=Ys)))}function $l(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var ga={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},va={},Mu={};c&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Wl(i){if(va[i])return va[i];if(!ga[i])return i;var s=ga[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Mu)return va[i]=s[u];return i}var Bu=Wl("animationend"),Uu=Wl("animationiteration"),zu=Wl("animationstart"),qu=Wl("transitionend"),$u=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(i,s){$u.set(i,s),a(s,[i])}for(var il=0;il<Wu.length;il++){var Zn=Wu[il],Wi=Zn.toLowerCase(),Oc=Zn[0].toUpperCase()+Zn.slice(1);Os(Wi,"on"+Oc)}Os(Bu,"onAnimationEnd"),Os(Uu,"onAnimationIteration"),Os(zu,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(qu,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Od=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Vl(i,s,u){var m=i.type||"unknown-event";i.currentTarget=u,Ss(m,s,void 0,i),i.currentTarget=null}function Hl(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],x=m.event;m=m.listeners;e:{var N=void 0;if(s)for(var M=m.length-1;0<=M;M--){var ce=m[M],ve=ce.instance,je=ce.currentTarget;if(ce=ce.listener,ve!==N&&x.isPropagationStopped())break e;Vl(x,ce,je),N=ve}else for(M=0;M<m.length;M++){if(ce=m[M],ve=ce.instance,je=ce.currentTarget,ce=ce.listener,ve!==N&&x.isPropagationStopped())break e;Vl(x,ce,je),N=ve}}}if(Xr)throw i=zs,Xr=!1,zs=null,i}function Sr(i,s){var u=s[di];u===void 0&&(u=s[di]=new Set);var m=i+"__bubble";u.has(m)||(Gl(s,i,2,!1),u.add(m))}function Rc(i,s,u){var m=0;s&&(m|=4),Gl(u,i,m,s)}var sl="_reactListening"+Math.random().toString(36).slice(2);function ya(i){if(!i[sl]){i[sl]=!0,n.forEach(function(u){u!=="selectionchange"&&(Od.has(u)||Rc(u,!1,i),Rc(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[sl]||(s[sl]=!0,Rc("selectionchange",!1,s))}}function Gl(i,s,u,m){switch(sa(s)){case 1:var x=Fl;break;case 4:x=Ml;break;default:x=Ja}u=x.bind(null,s,u,i),x=void 0,!$n||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),m?x!==void 0?i.addEventListener(s,u,{capture:!0,passive:x}):i.addEventListener(s,u,!0):x!==void 0?i.addEventListener(s,u,{passive:x}):i.addEventListener(s,u,!1)}function Kl(i,s,u,m,x){var N=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var ce=m.stateNode.containerInfo;if(ce===x||ce.nodeType===8&&ce.parentNode===x)break;if(M===4)for(M=m.return;M!==null;){var ve=M.tag;if((ve===3||ve===4)&&(ve=M.stateNode.containerInfo,ve===x||ve.nodeType===8&&ve.parentNode===x))return;M=M.return}for(;ce!==null;){if(M=Po(ce),M===null)return;if(ve=M.tag,ve===5||ve===6){m=N=M;continue e}ce=ce.parentNode}}m=m.return}Xe(function(){var je=N,ze=ht(u),qe=[];e:{var Ue=$u.get(i);if(Ue!==void 0){var Ze=Ya,lt=i;switch(i){case"keypress":if(oa(u)===0)break e;case"keydown":case"keyup":Ze=_o;break;case"focusin":lt="focus",Ze=Mt;break;case"focusout":lt="blur",Ze=Mt;break;case"beforeblur":case"afterblur":Ze=Mt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Be;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=pt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=Fn;break;case Bu:case Uu:case zu:Ze=zr;break;case qu:Ze=ua;break;case"scroll":Ze=D;break;case"wheel":Ze=zl;break;case"copy":case"cut":case"paste":Ze=Lr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=So}var ft=(s&4)!==0,_n=!ft&&i==="scroll",Ae=ft?Ue!==null?Ue+"Capture":null:Ue;ft=[];for(var be=je,Ce;be!==null;){Ce=be;var We=Ce.stateNode;if(Ce.tag===5&&We!==null&&(Ce=We,Ae!==null&&(We=jr(be,Ae),We!=null&&ft.push(Jl(be,We,Ce)))),_n)break;be=be.return}0<ft.length&&(Ue=new Ze(Ue,lt,null,u,ze),qe.push({event:Ue,listeners:ft}))}}if((s&7)===0){e:{if(Ue=i==="mouseover"||i==="pointerover",Ze=i==="mouseout"||i==="pointerout",Ue&&u!==nr&&(lt=u.relatedTarget||u.fromElement)&&(Po(lt)||lt[Vn]))break e;if((Ze||Ue)&&(Ue=ze.window===ze?ze:(Ue=ze.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,Ze?(lt=u.relatedTarget||u.toElement,Ze=je,lt=lt?Po(lt):null,lt!==null&&(_n=In(lt),lt!==_n||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(Ze=null,lt=je),Ze!==lt)){if(ft=Be,We="onMouseLeave",Ae="onMouseEnter",be="mouse",(i==="pointerout"||i==="pointerover")&&(ft=So,We="onPointerLeave",Ae="onPointerEnter",be="pointer"),_n=Ze==null?Ue:xa(Ze),Ce=lt==null?Ue:xa(lt),Ue=new ft(We,be+"leave",Ze,u,ze),Ue.target=_n,Ue.relatedTarget=Ce,We=null,Po(ze)===je&&(ft=new ft(Ae,be+"enter",lt,u,ze),ft.target=Ce,ft.relatedTarget=_n,We=ft),_n=We,Ze&&lt)t:{for(ft=Ze,Ae=lt,be=0,Ce=ft;Ce;Ce=wa(Ce))be++;for(Ce=0,We=Ae;We;We=wa(We))Ce++;for(;0<be-Ce;)ft=wa(ft),be--;for(;0<Ce-be;)Ae=wa(Ae),Ce--;for(;be--;){if(ft===Ae||Ae!==null&&ft===Ae.alternate)break t;ft=wa(ft),Ae=wa(Ae)}ft=null}else ft=null;Ze!==null&&Rd(qe,Ue,Ze,ft,!1),lt!==null&&_n!==null&&Rd(qe,_n,lt,ft,!0)}}e:{if(Ue=je?xa(je):window,Ze=Ue.nodeName&&Ue.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Ue.type==="file")var gt=Ts;else if(Ls(Ue))if(os)gt=jo;else{gt=Co;var Nt=Eo}else(Ze=Ue.nodeName)&&Ze.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(gt=pa);if(gt&&(gt=gt(i,je))){Gs(qe,gt,u,ze);break e}Nt&&Nt(i,Ue,je),i==="focusout"&&(Nt=Ue._wrapperState)&&Nt.controlled&&Ue.type==="number"&&De(Ue,"number",Ue.value)}switch(Nt=je?xa(je):window,i){case"focusin":(Ls(Nt)||Nt.contentEditable==="true")&&(Ys=Nt,Pc=je,nl=null);break;case"focusout":nl=Pc=Ys=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Fu(qe,u,ze);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":Fu(qe,u,ze)}var At;if(ss)e:{switch(i){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else $i?Za(i,u)&&(Dt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ci&&u.locale!=="ko"&&($i||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&$i&&(At=Bl()):(Ui=ze,$s="value"in Ui?Ui.value:Ui.textContent,$i=!0)),Nt=Ic(je,Dt),0<Nt.length&&(Dt=new Qr(Dt,i,null,u,ze),qe.push({event:Dt,listeners:Nt}),At?Dt.data=At:(At=Hs(u),At!==null&&(Dt.data=At)))),(At=Lc?ji(i,u):Li(i,u))&&(je=Ic(je,"onBeforeInput"),0<je.length&&(ze=new Qr("onBeforeInput","beforeinput",null,u,ze),qe.push({event:ze,listeners:je}),ze.data=At))}Hl(qe,s)})}function Jl(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Ic(i,s){for(var u=s+"Capture",m=[];i!==null;){var x=i,N=x.stateNode;x.tag===5&&N!==null&&(x=N,N=jr(i,u),N!=null&&m.unshift(Jl(i,N,x)),N=jr(i,s),N!=null&&m.push(Jl(i,N,x))),i=i.return}return m}function wa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Rd(i,s,u,m,x){for(var N=s._reactName,M=[];u!==null&&u!==m;){var ce=u,ve=ce.alternate,je=ce.stateNode;if(ve!==null&&ve===m)break;ce.tag===5&&je!==null&&(ce=je,x?(ve=jr(u,N),ve!=null&&M.unshift(Jl(u,ve,ce))):x||(ve=jr(u,N),ve!=null&&M.push(Jl(u,ve,ce)))),u=u.return}M.length!==0&&i.push({event:s,listeners:M})}var yf=/\r\n?/g,wf=/\u0000|\uFFFD/g;function Id(i){return(typeof i=="string"?i:""+i).replace(yf,`
`).replace(wf,"")}function Dc(i,s,u){if(s=Id(s),Id(i)!==s&&u)throw Error(t(425))}function ol(){}var Yl=null,ba=null;function Vu(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,Dd=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,bf=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(i){return Fd.resolve(null).then(i).catch(xf)}:Hu;function xf(i){setTimeout(function(){throw i})}function Gu(i,s){var u=s,m=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(m===0){i.removeChild(x),na(s);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=x}while(u);na(s)}function ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Vi(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var ui=Math.random().toString(36).slice(2),Rs="__reactFiber$"+ui,al="__reactProps$"+ui,Vn="__reactContainer$"+ui,di="__reactEvents$"+ui,_f="__reactListeners$"+ui,Sf="__reactHandles$"+ui;function Po(i){var s=i[Rs];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Vn]||u[Rs]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Vi(i);i!==null;){if(u=i[Rs])return u;i=Vi(i)}return s}i=u,u=i.parentNode}return null}function ll(i){return i=i[Rs]||i[Vn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Xl(i){return i[al]||null}var Ku=[],Xs=-1;function ls(i){return{current:i}}function mr(i){0>Xs||(i.current=Ku[Xs],Ku[Xs]=null,Xs--)}function br(i,s){Xs++,Ku[Xs]=i.current,i.current=s}var To={},Mn=ls(To),hi=ls(!1),_a=To;function cl(i,s){var u=i.type.contextTypes;if(!u)return To;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===s)return m.__reactInternalMemoizedMaskedChildContext;var x={},N;for(N in u)x[N]=s[N];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=x),x}function fi(i){return i=i.childContextTypes,i!=null}function Fc(){mr(hi),mr(Mn)}function Md(i,s,u){if(Mn.current!==To)throw Error(t(168));br(Mn,s),br(hi,u)}function Ju(i,s,u){var m=i.stateNode;if(s=s.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var x in m)if(!(x in s))throw Error(t(108,re(i)||"Unknown",x));return xe({},u,m)}function Sa(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||To,_a=Mn.current,br(Mn,i),br(hi,hi.current),!0}function Bd(i,s,u){var m=i.stateNode;if(!m)throw Error(t(169));u?(i=Ju(i,s,_a),m.__reactInternalMemoizedMergedChildContext=i,mr(hi),mr(Mn),br(Mn,i)):mr(hi),br(hi,u)}var Qs=null,Ql=!1,f=!1;function g(i){Qs===null?Qs=[i]:Qs.push(i)}function _(i){Ql=!0,g(i)}function L(){if(!f&&Qs!==null){f=!0;var i=0,s=ir;try{var u=Qs;for(ir=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}Qs=null,Ql=!1}catch(x){throw Qs!==null&&(Qs=Qs.slice(i+1)),Ko(za,L),x}finally{ir=s,f=!1}}return null}var I=[],B=0,z=null,V=0,K=[],ee=0,ge=null,Ne=1,te="";function we(i,s){I[B++]=V,I[B++]=z,z=i,V=s}function ke(i,s,u){K[ee++]=Ne,K[ee++]=te,K[ee++]=ge,ge=i;var m=Ne;i=te;var x=32-ln(m)-1;m&=~(1<<x),u+=1;var N=32-ln(s)+x;if(30<N){var M=x-x%5;N=(m&(1<<M)-1).toString(32),m>>=M,x-=M,Ne=1<<32-ln(s)+x|u<<x|m,te=N+i}else Ne=1<<N|u<<x|m,te=i}function Oe(i){i.return!==null&&(we(i,1),ke(i,1,0))}function Ee(i){for(;i===z;)z=I[--B],I[B]=null,V=I[--B],I[B]=null;for(;i===ge;)ge=K[--ee],K[ee]=null,te=K[--ee],K[ee]=null,Ne=K[--ee],K[ee]=null}var Le=null,Te=null,Ie=!1,Fe=null;function mt(i,s){var u=Bs(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function et(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Le=i,Te=ei(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Le=i,Te=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=ge!==null?{id:Ne,overflow:te}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Bs(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Le=i,Te=null,!0):!1;default:return!1}}function Bt(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ot(i){if(Ie){var s=Te;if(s){var u=s;if(!et(i,s)){if(Bt(i))throw Error(t(418));s=ei(u.nextSibling);var m=Le;s&&et(i,s)?mt(m,u):(i.flags=i.flags&-4097|2,Ie=!1,Le=i)}}else{if(Bt(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ie=!1,Le=i}}}function Xt(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Le=i}function Hr(i){if(i!==Le)return!1;if(!Ie)return Xt(i),Ie=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Vu(i.type,i.memoizedProps)),s&&(s=Te)){if(Bt(i))throw $t(),Error(t(418));for(;s;)mt(i,s),s=ei(s.nextSibling)}if(Xt(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){Te=ei(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}Te=null}}else Te=Le?ei(i.stateNode.nextSibling):null;return!0}function $t(){for(var i=Te;i;)i=ei(i.nextSibling)}function tt(){Te=Le=null,Ie=!1}function Ge(i){Fe===null?Fe=[i]:Fe.push(i)}var en=R.ReactCurrentBatchConfig;function Tt(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var m=u.stateNode}if(!m)throw Error(t(147,i));var x=m,N=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===N?s.ref:(s=function(M){var ce=x.refs;M===null?delete ce[N]:ce[N]=M},s._stringRef=N,s)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Gt(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Pr(i){var s=i._init;return s(i._payload)}function En(i){function s(Ae,be){if(i){var Ce=Ae.deletions;Ce===null?(Ae.deletions=[be],Ae.flags|=16):Ce.push(be)}}function u(Ae,be){if(!i)return null;for(;be!==null;)s(Ae,be),be=be.sibling;return null}function m(Ae,be){for(Ae=new Map;be!==null;)be.key!==null?Ae.set(be.key,be):Ae.set(be.index,be),be=be.sibling;return Ae}function x(Ae,be){return Ae=wl(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function N(Ae,be,Ce){return Ae.index=Ce,i?(Ce=Ae.alternate,Ce!==null?(Ce=Ce.index,Ce<be?(Ae.flags|=2,be):Ce):(Ae.flags|=2,be)):(Ae.flags|=1048576,be)}function M(Ae){return i&&Ae.alternate===null&&(Ae.flags|=2),Ae}function ce(Ae,be,Ce,We){return be===null||be.tag!==6?(be=Qf(Ce,Ae.mode,We),be.return=Ae,be):(be=x(be,Ce),be.return=Ae,be)}function ve(Ae,be,Ce,We){var gt=Ce.type;return gt===Q?ze(Ae,be,Ce.props.children,We,Ce.key):be!==null&&(be.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===de&&Pr(gt)===be.type)?(We=x(be,Ce.props),We.ref=Tt(Ae,be,Ce),We.return=Ae,We):(We=sh(Ce.type,Ce.key,Ce.props,null,Ae.mode,We),We.ref=Tt(Ae,be,Ce),We.return=Ae,We)}function je(Ae,be,Ce,We){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ce.containerInfo||be.stateNode.implementation!==Ce.implementation?(be=Zf(Ce,Ae.mode,We),be.return=Ae,be):(be=x(be,Ce.children||[]),be.return=Ae,be)}function ze(Ae,be,Ce,We,gt){return be===null||be.tag!==7?(be=oc(Ce,Ae.mode,We,gt),be.return=Ae,be):(be=x(be,Ce),be.return=Ae,be)}function qe(Ae,be,Ce){if(typeof be=="string"&&be!==""||typeof be=="number")return be=Qf(""+be,Ae.mode,Ce),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case U:return Ce=sh(be.type,be.key,be.props,null,Ae.mode,Ce),Ce.ref=Tt(Ae,null,be),Ce.return=Ae,Ce;case oe:return be=Zf(be,Ae.mode,Ce),be.return=Ae,be;case de:var We=be._init;return qe(Ae,We(be._payload),Ce)}if(yt(be)||he(be))return be=oc(be,Ae.mode,Ce,null),be.return=Ae,be;Gt(Ae,be)}return null}function Ue(Ae,be,Ce,We){var gt=be!==null?be.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return gt!==null?null:ce(Ae,be,""+Ce,We);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case U:return Ce.key===gt?ve(Ae,be,Ce,We):null;case oe:return Ce.key===gt?je(Ae,be,Ce,We):null;case de:return gt=Ce._init,Ue(Ae,be,gt(Ce._payload),We)}if(yt(Ce)||he(Ce))return gt!==null?null:ze(Ae,be,Ce,We,null);Gt(Ae,Ce)}return null}function Ze(Ae,be,Ce,We,gt){if(typeof We=="string"&&We!==""||typeof We=="number")return Ae=Ae.get(Ce)||null,ce(be,Ae,""+We,gt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case U:return Ae=Ae.get(We.key===null?Ce:We.key)||null,ve(be,Ae,We,gt);case oe:return Ae=Ae.get(We.key===null?Ce:We.key)||null,je(be,Ae,We,gt);case de:var Nt=We._init;return Ze(Ae,be,Ce,Nt(We._payload),gt)}if(yt(We)||he(We))return Ae=Ae.get(Ce)||null,ze(be,Ae,We,gt,null);Gt(be,We)}return null}function lt(Ae,be,Ce,We){for(var gt=null,Nt=null,At=be,Dt=be=0,Yn=null;At!==null&&Dt<Ce.length;Dt++){At.index>Dt?(Yn=At,At=null):Yn=At.sibling;var ur=Ue(Ae,At,Ce[Dt],We);if(ur===null){At===null&&(At=Yn);break}i&&At&&ur.alternate===null&&s(Ae,At),be=N(ur,be,Dt),Nt===null?gt=ur:Nt.sibling=ur,Nt=ur,At=Yn}if(Dt===Ce.length)return u(Ae,At),Ie&&we(Ae,Dt),gt;if(At===null){for(;Dt<Ce.length;Dt++)At=qe(Ae,Ce[Dt],We),At!==null&&(be=N(At,be,Dt),Nt===null?gt=At:Nt.sibling=At,Nt=At);return Ie&&we(Ae,Dt),gt}for(At=m(Ae,At);Dt<Ce.length;Dt++)Yn=Ze(At,Ae,Dt,Ce[Dt],We),Yn!==null&&(i&&Yn.alternate!==null&&At.delete(Yn.key===null?Dt:Yn.key),be=N(Yn,be,Dt),Nt===null?gt=Yn:Nt.sibling=Yn,Nt=Yn);return i&&At.forEach(function(bl){return s(Ae,bl)}),Ie&&we(Ae,Dt),gt}function ft(Ae,be,Ce,We){var gt=he(Ce);if(typeof gt!="function")throw Error(t(150));if(Ce=gt.call(Ce),Ce==null)throw Error(t(151));for(var Nt=gt=null,At=be,Dt=be=0,Yn=null,ur=Ce.next();At!==null&&!ur.done;Dt++,ur=Ce.next()){At.index>Dt?(Yn=At,At=null):Yn=At.sibling;var bl=Ue(Ae,At,ur.value,We);if(bl===null){At===null&&(At=Yn);break}i&&At&&bl.alternate===null&&s(Ae,At),be=N(bl,be,Dt),Nt===null?gt=bl:Nt.sibling=bl,Nt=bl,At=Yn}if(ur.done)return u(Ae,At),Ie&&we(Ae,Dt),gt;if(At===null){for(;!ur.done;Dt++,ur=Ce.next())ur=qe(Ae,ur.value,We),ur!==null&&(be=N(ur,be,Dt),Nt===null?gt=ur:Nt.sibling=ur,Nt=ur);return Ie&&we(Ae,Dt),gt}for(At=m(Ae,At);!ur.done;Dt++,ur=Ce.next())ur=Ze(At,Ae,Dt,ur.value,We),ur!==null&&(i&&ur.alternate!==null&&At.delete(ur.key===null?Dt:ur.key),be=N(ur,be,Dt),Nt===null?gt=ur:Nt.sibling=ur,Nt=ur);return i&&At.forEach(function(sw){return s(Ae,sw)}),Ie&&we(Ae,Dt),gt}function _n(Ae,be,Ce,We){if(typeof Ce=="object"&&Ce!==null&&Ce.type===Q&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case U:e:{for(var gt=Ce.key,Nt=be;Nt!==null;){if(Nt.key===gt){if(gt=Ce.type,gt===Q){if(Nt.tag===7){u(Ae,Nt.sibling),be=x(Nt,Ce.props.children),be.return=Ae,Ae=be;break e}}else if(Nt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===de&&Pr(gt)===Nt.type){u(Ae,Nt.sibling),be=x(Nt,Ce.props),be.ref=Tt(Ae,Nt,Ce),be.return=Ae,Ae=be;break e}u(Ae,Nt);break}else s(Ae,Nt);Nt=Nt.sibling}Ce.type===Q?(be=oc(Ce.props.children,Ae.mode,We,Ce.key),be.return=Ae,Ae=be):(We=sh(Ce.type,Ce.key,Ce.props,null,Ae.mode,We),We.ref=Tt(Ae,be,Ce),We.return=Ae,Ae=We)}return M(Ae);case oe:e:{for(Nt=Ce.key;be!==null;){if(be.key===Nt)if(be.tag===4&&be.stateNode.containerInfo===Ce.containerInfo&&be.stateNode.implementation===Ce.implementation){u(Ae,be.sibling),be=x(be,Ce.children||[]),be.return=Ae,Ae=be;break e}else{u(Ae,be);break}else s(Ae,be);be=be.sibling}be=Zf(Ce,Ae.mode,We),be.return=Ae,Ae=be}return M(Ae);case de:return Nt=Ce._init,_n(Ae,be,Nt(Ce._payload),We)}if(yt(Ce))return lt(Ae,be,Ce,We);if(he(Ce))return ft(Ae,be,Ce,We);Gt(Ae,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,be!==null&&be.tag===6?(u(Ae,be.sibling),be=x(be,Ce),be.return=Ae,Ae=be):(u(Ae,be),be=Qf(Ce,Ae.mode,We),be.return=Ae,Ae=be),M(Ae)):u(Ae,be)}return _n}var hn=En(!0),qr=En(!1),bn=ls(null),Cn=null,Fr=null,Zt=null;function ar(){Zt=Fr=Cn=null}function Mr(i){var s=bn.current;mr(bn),i._currentValue=s}function lr(i,s,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),i===u)break;i=i.return}}function Gr(i,s){Cn=i,Zt=Fr=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(Gi=!0),i.firstContext=null)}function Kr(i){var s=i._currentValue;if(Zt!==i)if(i={context:i,memoizedValue:s,next:null},Fr===null){if(Cn===null)throw Error(t(308));Fr=i,Cn.dependencies={lanes:0,firstContext:i}}else Fr=Fr.next=i;return s}var kr=null;function Hn(i){kr===null?kr=[i]:kr.push(i)}function xr(i,s,u,m){var x=s.interleaved;return x===null?(u.next=u,Hn(s)):(u.next=x.next,x.next=u),s.interleaved=u,Nr(i,m)}function Nr(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var fn=!1;function Bn(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pi(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function tn(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function rn(i,s,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(cr&2)!==0){var x=m.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),m.pending=s,Nr(i,u)}return x=m.interleaved,x===null?(s.next=s,Hn(m)):(s.next=x.next,x.next=s),m.interleaved=s,Nr(i,u)}function Gn(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var m=s.lanes;m&=i.pendingLanes,u|=m,s.lanes=u,Wa(i,u)}}function Ar(i,s){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var M={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?x=N=M:N=N.next=M,u=u.next}while(u!==null);N===null?x=N=s:N=N.next=s}else x=N=s;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Kn(i,s,u,m){var x=i.updateQueue;fn=!1;var N=x.firstBaseUpdate,M=x.lastBaseUpdate,ce=x.shared.pending;if(ce!==null){x.shared.pending=null;var ve=ce,je=ve.next;ve.next=null,M===null?N=je:M.next=je,M=ve;var ze=i.alternate;ze!==null&&(ze=ze.updateQueue,ce=ze.lastBaseUpdate,ce!==M&&(ce===null?ze.firstBaseUpdate=je:ce.next=je,ze.lastBaseUpdate=ve))}if(N!==null){var qe=x.baseState;M=0,ze=je=ve=null,ce=N;do{var Ue=ce.lane,Ze=ce.eventTime;if((m&Ue)===Ue){ze!==null&&(ze=ze.next={eventTime:Ze,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var lt=i,ft=ce;switch(Ue=s,Ze=u,ft.tag){case 1:if(lt=ft.payload,typeof lt=="function"){qe=lt.call(Ze,qe,Ue);break e}qe=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ft.payload,Ue=typeof lt=="function"?lt.call(Ze,qe,Ue):lt,Ue==null)break e;qe=xe({},qe,Ue);break e;case 2:fn=!0}}ce.callback!==null&&ce.lane!==0&&(i.flags|=64,Ue=x.effects,Ue===null?x.effects=[ce]:Ue.push(ce))}else Ze={eventTime:Ze,lane:Ue,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},ze===null?(je=ze=Ze,ve=qe):ze=ze.next=Ze,M|=Ue;if(ce=ce.next,ce===null){if(ce=x.shared.pending,ce===null)break;Ue=ce,ce=Ue.next,Ue.next=null,x.lastBaseUpdate=Ue,x.shared.pending=null}}while(!0);if(ze===null&&(ve=qe),x.baseState=ve,x.firstBaseUpdate=je,x.lastBaseUpdate=ze,s=x.shared.interleaved,s!==null){x=s;do M|=x.lane,x=x.next;while(x!==s)}else N===null&&(x.shared.lanes=0);rc|=M,i.lanes=M,i.memoizedState=qe}}function Hi(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var m=i[s],x=m.callback;if(x!==null){if(m.callback=null,m=u,typeof x!="function")throw Error(t(191,x));x.call(m)}}}var cs={},jn=ls(cs),nn=ls(cs),Oo=ls(cs);function Zs(i){if(i===cs)throw Error(t(174));return i}function ul(i,s){switch(br(Oo,s),br(nn,i),br(jn,cs),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ht(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Ht(s,i)}mr(jn),br(jn,s)}function Is(){mr(jn),mr(nn),mr(Oo)}function Ud(i){Zs(Oo.current);var s=Zs(jn.current),u=Ht(s,i.type);s!==u&&(br(nn,i),br(jn,u))}function Yu(i){nn.current===i&&(mr(jn),mr(nn))}var Or=ls(0);function us(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xu=[];function Qu(){for(var i=0;i<Xu.length;i++)Xu[i]._workInProgressVersionPrimary=null;Xu.length=0}var Mc=R.ReactCurrentDispatcher,Bc=R.ReactCurrentBatchConfig,Ds=0,Br=null,pn=null,sn=null,dl=!1,eo=!1,hl=0,kf=0;function xn(){throw Error(t(321))}function Uc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Wr(i[u],s[u]))return!1;return!0}function Zl(i,s,u,m,x,N){if(Ds=N,Br=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mc.current=i===null||i.memoizedState===null?P5:T5,i=u(m,x),eo){N=0;do{if(eo=!1,hl=0,25<=N)throw Error(t(301));N+=1,sn=pn=null,s.updateQueue=null,Mc.current=O5,i=u(m,x)}while(eo)}if(Mc.current=Vd,s=pn!==null&&pn.next!==null,Ds=0,sn=pn=Br=null,dl=!1,s)throw Error(t(300));return i}function Fs(){var i=hl!==0;return hl=0,i}function ds(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Br.memoizedState=sn=i:sn=sn.next=i,sn}function Pi(){if(pn===null){var i=Br.alternate;i=i!==null?i.memoizedState:null}else i=pn.next;var s=sn===null?Br.memoizedState:sn.next;if(s!==null)sn=s,pn=i;else{if(i===null)throw Error(t(310));pn=i,i={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},sn===null?Br.memoizedState=sn=i:sn=sn.next=i}return sn}function ec(i,s){return typeof s=="function"?s(i):s}function zc(i){var s=Pi(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var m=pn,x=m.baseQueue,N=u.pending;if(N!==null){if(x!==null){var M=x.next;x.next=N.next,N.next=M}m.baseQueue=x=N,u.pending=null}if(x!==null){N=x.next,m=m.baseState;var ce=M=null,ve=null,je=N;do{var ze=je.lane;if((Ds&ze)===ze)ve!==null&&(ve=ve.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),m=je.hasEagerState?je.eagerState:i(m,je.action);else{var qe={lane:ze,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};ve===null?(ce=ve=qe,M=m):ve=ve.next=qe,Br.lanes|=ze,rc|=ze}je=je.next}while(je!==null&&je!==N);ve===null?M=m:ve.next=ce,Wr(m,s.memoizedState)||(Gi=!0),s.memoizedState=m,s.baseState=M,s.baseQueue=ve,u.lastRenderedState=m}if(i=u.interleaved,i!==null){x=i;do N=x.lane,Br.lanes|=N,rc|=N,x=x.next;while(x!==i)}else x===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Ro(i){var s=Pi(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var m=u.dispatch,x=u.pending,N=s.memoizedState;if(x!==null){u.pending=null;var M=x=x.next;do N=i(N,M.action),M=M.next;while(M!==x);Wr(N,s.memoizedState)||(Gi=!0),s.memoizedState=N,s.baseQueue===null&&(s.baseState=N),u.lastRenderedState=N}return[N,m]}function zd(){}function Zu(i,s){var u=Br,m=Pi(),x=s(),N=!Wr(m.memoizedState,x);if(N&&(m.memoizedState=x,Gi=!0),m=m.queue,Wc($d.bind(null,u,m,i),[i]),m.getSnapshot!==s||N||sn!==null&&sn.memoizedState.tag&1){if(u.flags|=2048,Ti(9,ed.bind(null,u,m,x,s),void 0,null),Jn===null)throw Error(t(349));(Ds&30)!==0||qd(u,s,x)}return x}function qd(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Br.updateQueue,s===null?(s={lastEffect:null,stores:null},Br.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function ed(i,s,u,m){s.value=u,s.getSnapshot=m,fl(s)&&qc(i)}function $d(i,s,u){return u(function(){fl(s)&&qc(i)})}function fl(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Wr(i,u)}catch{return!0}}function qc(i){var s=Nr(i,1);s!==null&&so(s,i,1,-1)}function tc(i){var s=ds();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:i},s.queue=i,i=i.dispatch=L5.bind(null,Br,i),[s.memoizedState,i]}function Ti(i,s,u,m){return i={tag:i,create:s,destroy:u,deps:m,next:null},s=Br.updateQueue,s===null?(s={lastEffect:null,stores:null},Br.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,s.lastEffect=i)),i}function to(){return Pi().memoizedState}function hs(i,s,u,m){var x=ds();Br.flags|=i,x.memoizedState=Ti(1|s,u,void 0,m===void 0?null:m)}function ka(i,s,u,m){var x=Pi();m=m===void 0?null:m;var N=void 0;if(pn!==null){var M=pn.memoizedState;if(N=M.destroy,m!==null&&Uc(m,M.deps)){x.memoizedState=Ti(s,u,N,m);return}}Br.flags|=i,x.memoizedState=Ti(1|s,u,N,m)}function $c(i,s){return hs(8390656,8,i,s)}function Wc(i,s){return ka(2048,8,i,s)}function Wd(i,s){return ka(4,2,i,s)}function Vc(i,s){return ka(4,4,i,s)}function Hc(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function og(i,s,u){return u=u!=null?u.concat([i]):null,ka(4,4,Hc.bind(null,s,i),u)}function Nf(){}function ag(i,s){var u=Pi();s=s===void 0?null:s;var m=u.memoizedState;return m!==null&&s!==null&&Uc(s,m[1])?m[0]:(u.memoizedState=[i,s],i)}function lg(i,s){var u=Pi();s=s===void 0?null:s;var m=u.memoizedState;return m!==null&&s!==null&&Uc(s,m[1])?m[0]:(i=i(),u.memoizedState=[i,s],i)}function cg(i,s,u){return(Ds&21)===0?(i.baseState&&(i.baseState=!1,Gi=!0),i.memoizedState=u):(Wr(u,s)||(u=Ol(),Br.lanes|=u,rc|=u,i.baseState=!0),s)}function C5(i,s){var u=ir;ir=u!==0&&4>u?u:4,i(!0);var m=Bc.transition;Bc.transition={};try{i(!1),s()}finally{ir=u,Bc.transition=m}}function ug(){return Pi().memoizedState}function j5(i,s,u){var m=vl(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},dg(i))hg(s,u);else if(u=xr(i,s,u,m),u!==null){var x=Ri();so(u,i,m,x),fg(u,s,m)}}function L5(i,s,u){var m=vl(i),x={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(dg(i))hg(s,x);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=s.lastRenderedReducer,N!==null))try{var M=s.lastRenderedState,ce=N(M,u);if(x.hasEagerState=!0,x.eagerState=ce,Wr(ce,M)){var ve=s.interleaved;ve===null?(x.next=x,Hn(s)):(x.next=ve.next,ve.next=x),s.interleaved=x;return}}catch{}finally{}u=xr(i,s,x,m),u!==null&&(x=Ri(),so(u,i,m,x),fg(u,s,m))}}function dg(i){var s=i.alternate;return i===Br||s!==null&&s===Br}function hg(i,s){eo=dl=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function fg(i,s,u){if((u&4194240)!==0){var m=s.lanes;m&=i.pendingLanes,u|=m,s.lanes=u,Wa(i,u)}}var Vd={readContext:Kr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},P5={readContext:Kr,useCallback:function(i,s){return ds().memoizedState=[i,s===void 0?null:s],i},useContext:Kr,useEffect:$c,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,hs(4194308,4,Hc.bind(null,s,i),u)},useLayoutEffect:function(i,s){return hs(4194308,4,i,s)},useInsertionEffect:function(i,s){return hs(4,2,i,s)},useMemo:function(i,s){var u=ds();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var m=ds();return s=u!==void 0?u(s):s,m.memoizedState=m.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},m.queue=i,i=i.dispatch=j5.bind(null,Br,i),[m.memoizedState,i]},useRef:function(i){var s=ds();return i={current:i},s.memoizedState=i},useState:tc,useDebugValue:Nf,useDeferredValue:function(i){return ds().memoizedState=i},useTransition:function(){var i=tc(!1),s=i[0];return i=C5.bind(null,i[1]),ds().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var m=Br,x=ds();if(Ie){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),Jn===null)throw Error(t(349));(Ds&30)!==0||qd(m,s,u)}x.memoizedState=u;var N={value:u,getSnapshot:s};return x.queue=N,$c($d.bind(null,m,N,i),[i]),m.flags|=2048,Ti(9,ed.bind(null,m,N,u,s),void 0,null),u},useId:function(){var i=ds(),s=Jn.identifierPrefix;if(Ie){var u=te,m=Ne;u=(m&~(1<<32-ln(m)-1)).toString(32)+u,s=":"+s+"R"+u,u=hl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=kf++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},T5={readContext:Kr,useCallback:ag,useContext:Kr,useEffect:Wc,useImperativeHandle:og,useInsertionEffect:Wd,useLayoutEffect:Vc,useMemo:lg,useReducer:zc,useRef:to,useState:function(){return zc(ec)},useDebugValue:Nf,useDeferredValue:function(i){var s=Pi();return cg(s,pn.memoizedState,i)},useTransition:function(){var i=zc(ec)[0],s=Pi().memoizedState;return[i,s]},useMutableSource:zd,useSyncExternalStore:Zu,useId:ug,unstable_isNewReconciler:!1},O5={readContext:Kr,useCallback:ag,useContext:Kr,useEffect:Wc,useImperativeHandle:og,useInsertionEffect:Wd,useLayoutEffect:Vc,useMemo:lg,useReducer:Ro,useRef:to,useState:function(){return Ro(ec)},useDebugValue:Nf,useDeferredValue:function(i){var s=Pi();return pn===null?s.memoizedState=i:cg(s,pn.memoizedState,i)},useTransition:function(){var i=Ro(ec)[0],s=Pi().memoizedState;return[i,s]},useMutableSource:zd,useSyncExternalStore:Zu,useId:ug,unstable_isNewReconciler:!1};function ro(i,s){if(i&&i.defaultProps){s=xe({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function Af(i,s,u,m){s=i.memoizedState,u=u(m,s),u=u==null?s:xe({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Hd={isMounted:function(i){return(i=i._reactInternals)?In(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var m=Ri(),x=vl(i),N=tn(m,x);N.payload=s,u!=null&&(N.callback=u),s=rn(i,N,x),s!==null&&(so(s,i,x,m),Gn(s,i,x))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var m=Ri(),x=vl(i),N=tn(m,x);N.tag=1,N.payload=s,u!=null&&(N.callback=u),s=rn(i,N,x),s!==null&&(so(s,i,x,m),Gn(s,i,x))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ri(),m=vl(i),x=tn(u,m);x.tag=2,s!=null&&(x.callback=s),s=rn(i,x,m),s!==null&&(so(s,i,m,u),Gn(s,i,m))}};function pg(i,s,u,m,x,N,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,N,M):s.prototype&&s.prototype.isPureReactComponent?!ci(u,m)||!ci(x,N):!0}function mg(i,s,u){var m=!1,x=To,N=s.contextType;return typeof N=="object"&&N!==null?N=Kr(N):(x=fi(s)?_a:Mn.current,m=s.contextTypes,N=(m=m!=null)?cl(i,x):To),s=new s(u,N),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Hd,i.stateNode=s,s._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=N),s}function gg(i,s,u,m){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,m),s.state!==i&&Hd.enqueueReplaceState(s,s.state,null)}function Ef(i,s,u,m){var x=i.stateNode;x.props=u,x.state=i.memoizedState,x.refs={},Bn(i);var N=s.contextType;typeof N=="object"&&N!==null?x.context=Kr(N):(N=fi(s)?_a:Mn.current,x.context=cl(i,N)),x.state=i.memoizedState,N=s.getDerivedStateFromProps,typeof N=="function"&&(Af(i,s,N,u),x.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(s=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),s!==x.state&&Hd.enqueueReplaceState(x,x.state,null),Kn(i,u,x,m),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Gc(i,s){try{var u="",m=s;do u+=ae(m),m=m.return;while(m);var x=u}catch(N){x=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:s,stack:x,digest:null}}function Cf(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function jf(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var R5=typeof WeakMap=="function"?WeakMap:Map;function vg(i,s,u){u=tn(-1,u),u.tag=3,u.payload={element:null};var m=s.value;return u.callback=function(){Zd||(Zd=!0,Wf=m),jf(i,s)},u}function yg(i,s,u){u=tn(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var x=s.value;u.payload=function(){return m(x)},u.callback=function(){jf(i,s)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){jf(i,s),typeof m!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var M=s.stack;this.componentDidCatch(s.value,{componentStack:M!==null?M:""})}),u}function wg(i,s,u){var m=i.pingCache;if(m===null){m=i.pingCache=new R5;var x=new Set;m.set(s,x)}else x=m.get(s),x===void 0&&(x=new Set,m.set(s,x));x.has(u)||(x.add(u),i=K5.bind(null,i,s,u),s.then(i,i))}function bg(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function xg(i,s,u,m,x){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=tn(-1,1),s.tag=2,rn(u,s,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var I5=R.ReactCurrentOwner,Gi=!1;function Oi(i,s,u,m){s.child=i===null?qr(s,null,u,m):hn(s,i.child,u,m)}function _g(i,s,u,m,x){u=u.render;var N=s.ref;return Gr(s,x),m=Zl(i,s,u,m,N,x),u=Fs(),i!==null&&!Gi?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~x,Na(i,s,x)):(Ie&&u&&Oe(s),s.flags|=1,Oi(i,s,m,x),s.child)}function Sg(i,s,u,m,x){if(i===null){var N=u.type;return typeof N=="function"&&!Xf(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=N,kg(i,s,N,m,x)):(i=sh(u.type,null,m,s,s.mode,x),i.ref=s.ref,i.return=s,s.child=i)}if(N=i.child,(i.lanes&x)===0){var M=N.memoizedProps;if(u=u.compare,u=u!==null?u:ci,u(M,m)&&i.ref===s.ref)return Na(i,s,x)}return s.flags|=1,i=wl(N,m),i.ref=s.ref,i.return=s,s.child=i}function kg(i,s,u,m,x){if(i!==null){var N=i.memoizedProps;if(ci(N,m)&&i.ref===s.ref)if(Gi=!1,s.pendingProps=m=N,(i.lanes&x)!==0)(i.flags&131072)!==0&&(Gi=!0);else return s.lanes=i.lanes,Na(i,s,x)}return Lf(i,s,u,m,x)}function Ng(i,s,u){var m=s.pendingProps,x=m.children,N=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},br(Jc,fs),fs|=u;else{if((u&1073741824)===0)return i=N!==null?N.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,br(Jc,fs),fs|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=N!==null?N.baseLanes:u,br(Jc,fs),fs|=m}else N!==null?(m=N.baseLanes|u,s.memoizedState=null):m=u,br(Jc,fs),fs|=m;return Oi(i,s,x,u),s.child}function Ag(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Lf(i,s,u,m,x){var N=fi(u)?_a:Mn.current;return N=cl(s,N),Gr(s,x),u=Zl(i,s,u,m,N,x),m=Fs(),i!==null&&!Gi?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~x,Na(i,s,x)):(Ie&&m&&Oe(s),s.flags|=1,Oi(i,s,u,x),s.child)}function Eg(i,s,u,m,x){if(fi(u)){var N=!0;Sa(s)}else N=!1;if(Gr(s,x),s.stateNode===null)Kd(i,s),mg(s,u,m),Ef(s,u,m,x),m=!0;else if(i===null){var M=s.stateNode,ce=s.memoizedProps;M.props=ce;var ve=M.context,je=u.contextType;typeof je=="object"&&je!==null?je=Kr(je):(je=fi(u)?_a:Mn.current,je=cl(s,je));var ze=u.getDerivedStateFromProps,qe=typeof ze=="function"||typeof M.getSnapshotBeforeUpdate=="function";qe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ce!==m||ve!==je)&&gg(s,M,m,je),fn=!1;var Ue=s.memoizedState;M.state=Ue,Kn(s,m,M,x),ve=s.memoizedState,ce!==m||Ue!==ve||hi.current||fn?(typeof ze=="function"&&(Af(s,u,ze,m),ve=s.memoizedState),(ce=fn||pg(s,u,ce,m,Ue,ve,je))?(qe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(s.flags|=4194308)):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=ve),M.props=m,M.state=ve,M.context=je,m=ce):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{M=s.stateNode,pi(i,s),ce=s.memoizedProps,je=s.type===s.elementType?ce:ro(s.type,ce),M.props=je,qe=s.pendingProps,Ue=M.context,ve=u.contextType,typeof ve=="object"&&ve!==null?ve=Kr(ve):(ve=fi(u)?_a:Mn.current,ve=cl(s,ve));var Ze=u.getDerivedStateFromProps;(ze=typeof Ze=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ce!==qe||Ue!==ve)&&gg(s,M,m,ve),fn=!1,Ue=s.memoizedState,M.state=Ue,Kn(s,m,M,x);var lt=s.memoizedState;ce!==qe||Ue!==lt||hi.current||fn?(typeof Ze=="function"&&(Af(s,u,Ze,m),lt=s.memoizedState),(je=fn||pg(s,u,je,m,Ue,lt,ve)||!1)?(ze||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,lt,ve),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,lt,ve)),typeof M.componentDidUpdate=="function"&&(s.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof M.componentDidUpdate!="function"||ce===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||ce===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=lt),M.props=m,M.state=lt,M.context=ve,m=je):(typeof M.componentDidUpdate!="function"||ce===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||ce===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=1024),m=!1)}return Pf(i,s,u,m,N,x)}function Pf(i,s,u,m,x,N){Ag(i,s);var M=(s.flags&128)!==0;if(!m&&!M)return x&&Bd(s,u,!1),Na(i,s,N);m=s.stateNode,I5.current=s;var ce=M&&typeof u.getDerivedStateFromError!="function"?null:m.render();return s.flags|=1,i!==null&&M?(s.child=hn(s,i.child,null,N),s.child=hn(s,null,ce,N)):Oi(i,s,ce,N),s.memoizedState=m.state,x&&Bd(s,u,!0),s.child}function Cg(i){var s=i.stateNode;s.pendingContext?Md(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Md(i,s.context,!1),ul(i,s.containerInfo)}function jg(i,s,u,m,x){return tt(),Ge(x),s.flags|=256,Oi(i,s,u,m),s.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Of(i){return{baseLanes:i,cachePool:null,transitions:null}}function Lg(i,s,u){var m=s.pendingProps,x=Or.current,N=!1,M=(s.flags&128)!==0,ce;if((ce=M)||(ce=i!==null&&i.memoizedState===null?!1:(x&2)!==0),ce?(N=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),br(Or,x&1),i===null)return ot(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(M=m.children,i=m.fallback,N?(m=s.mode,N=s.child,M={mode:"hidden",children:M},(m&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=M):N=oh(M,m,0,null),i=oc(i,m,u,null),N.return=s,i.return=s,N.sibling=i,s.child=N,s.child.memoizedState=Of(u),s.memoizedState=Tf,i):Rf(s,M));if(x=i.memoizedState,x!==null&&(ce=x.dehydrated,ce!==null))return D5(i,s,M,m,ce,x,u);if(N){N=m.fallback,M=s.mode,x=i.child,ce=x.sibling;var ve={mode:"hidden",children:m.children};return(M&1)===0&&s.child!==x?(m=s.child,m.childLanes=0,m.pendingProps=ve,s.deletions=null):(m=wl(x,ve),m.subtreeFlags=x.subtreeFlags&14680064),ce!==null?N=wl(ce,N):(N=oc(N,M,u,null),N.flags|=2),N.return=s,m.return=s,m.sibling=N,s.child=m,m=N,N=s.child,M=i.child.memoizedState,M=M===null?Of(u):{baseLanes:M.baseLanes|u,cachePool:null,transitions:M.transitions},N.memoizedState=M,N.childLanes=i.childLanes&~u,s.memoizedState=Tf,m}return N=i.child,i=N.sibling,m=wl(N,{mode:"visible",children:m.children}),(s.mode&1)===0&&(m.lanes=u),m.return=s,m.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=m,s.memoizedState=null,m}function Rf(i,s){return s=oh({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Gd(i,s,u,m){return m!==null&&Ge(m),hn(s,i.child,null,u),i=Rf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function D5(i,s,u,m,x,N,M){if(u)return s.flags&256?(s.flags&=-257,m=Cf(Error(t(422))),Gd(i,s,M,m)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(N=m.fallback,x=s.mode,m=oh({mode:"visible",children:m.children},x,0,null),N=oc(N,x,M,null),N.flags|=2,m.return=s,N.return=s,m.sibling=N,s.child=m,(s.mode&1)!==0&&hn(s,i.child,null,M),s.child.memoizedState=Of(M),s.memoizedState=Tf,N);if((s.mode&1)===0)return Gd(i,s,M,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var ce=m.dgst;return m=ce,N=Error(t(419)),m=Cf(N,m,void 0),Gd(i,s,M,m)}if(ce=(M&i.childLanes)!==0,Gi||ce){if(m=Jn,m!==null){switch(M&-M){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|M))!==0?0:x,x!==0&&x!==N.retryLane&&(N.retryLane=x,Nr(i,x),so(m,i,x,-1))}return Yf(),m=Cf(Error(t(421))),Gd(i,s,M,m)}return x.data==="$?"?(s.flags|=128,s.child=i.child,s=J5.bind(null,i),x._reactRetry=s,null):(i=N.treeContext,Te=ei(x.nextSibling),Le=s,Ie=!0,Fe=null,i!==null&&(K[ee++]=Ne,K[ee++]=te,K[ee++]=ge,Ne=i.id,te=i.overflow,ge=s),s=Rf(s,m.children),s.flags|=4096,s)}function Pg(i,s,u){i.lanes|=s;var m=i.alternate;m!==null&&(m.lanes|=s),lr(i.return,s,u)}function If(i,s,u,m,x){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=x)}function Tg(i,s,u){var m=s.pendingProps,x=m.revealOrder,N=m.tail;if(Oi(i,s,m.children,u),m=Or.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Pg(i,u,s);else if(i.tag===19)Pg(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(br(Or,m),(s.mode&1)===0)s.memoizedState=null;else switch(x){case"forwards":for(u=s.child,x=null;u!==null;)i=u.alternate,i!==null&&us(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=s.child,s.child=null):(x=u.sibling,u.sibling=null),If(s,!1,x,u,N);break;case"backwards":for(u=null,x=s.child,s.child=null;x!==null;){if(i=x.alternate,i!==null&&us(i)===null){s.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}If(s,!0,u,null,N);break;case"together":If(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Kd(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Na(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),rc|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,u=wl(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=wl(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function F5(i,s,u){switch(s.tag){case 3:Cg(s),tt();break;case 5:Ud(s);break;case 1:fi(s.type)&&Sa(s);break;case 4:ul(s,s.stateNode.containerInfo);break;case 10:var m=s.type._context,x=s.memoizedProps.value;br(bn,m._currentValue),m._currentValue=x;break;case 13:if(m=s.memoizedState,m!==null)return m.dehydrated!==null?(br(Or,Or.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?Lg(i,s,u):(br(Or,Or.current&1),i=Na(i,s,u),i!==null?i.sibling:null);br(Or,Or.current&1);break;case 19:if(m=(u&s.childLanes)!==0,(i.flags&128)!==0){if(m)return Tg(i,s,u);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),br(Or,Or.current),m)break;return null;case 22:case 23:return s.lanes=0,Ng(i,s,u)}return Na(i,s,u)}var Og,Df,Rg,Ig;Og=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Df=function(){},Rg=function(i,s,u,m){var x=i.memoizedProps;if(x!==m){i=s.stateNode,Zs(jn.current);var N=null;switch(u){case"input":x=Ke(i,x),m=Ke(i,m),N=[];break;case"select":x=xe({},x,{value:void 0}),m=xe({},m,{value:void 0}),N=[];break;case"textarea":x=Qe(i,x),m=Qe(i,m),N=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=ol)}hr(u,m);var M;u=null;for(je in x)if(!m.hasOwnProperty(je)&&x.hasOwnProperty(je)&&x[je]!=null)if(je==="style"){var ce=x[je];for(M in ce)ce.hasOwnProperty(M)&&(u||(u={}),u[M]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(o.hasOwnProperty(je)?N||(N=[]):(N=N||[]).push(je,null));for(je in m){var ve=m[je];if(ce=x!=null?x[je]:void 0,m.hasOwnProperty(je)&&ve!==ce&&(ve!=null||ce!=null))if(je==="style")if(ce){for(M in ce)!ce.hasOwnProperty(M)||ve&&ve.hasOwnProperty(M)||(u||(u={}),u[M]="");for(M in ve)ve.hasOwnProperty(M)&&ce[M]!==ve[M]&&(u||(u={}),u[M]=ve[M])}else u||(N||(N=[]),N.push(je,u)),u=ve;else je==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ce=ce?ce.__html:void 0,ve!=null&&ce!==ve&&(N=N||[]).push(je,ve)):je==="children"?typeof ve!="string"&&typeof ve!="number"||(N=N||[]).push(je,""+ve):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(o.hasOwnProperty(je)?(ve!=null&&je==="onScroll"&&Sr("scroll",i),N||ce===ve||(N=[])):(N=N||[]).push(je,ve))}u&&(N=N||[]).push("style",u);var je=N;(s.updateQueue=je)&&(s.flags|=4)}},Ig=function(i,s,u,m){u!==m&&(s.flags|=4)};function td(i,s){if(!Ie)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function mi(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(s)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=u,s}function M5(i,s,u){var m=s.pendingProps;switch(Ee(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(s),null;case 1:return fi(s.type)&&Fc(),mi(s),null;case 3:return m=s.stateNode,Is(),mr(hi),mr(Mn),Qu(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Hr(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fe!==null&&(Gf(Fe),Fe=null))),Df(i,s),mi(s),null;case 5:Yu(s);var x=Zs(Oo.current);if(u=s.type,i!==null&&s.stateNode!=null)Rg(i,s,u,m,x),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!m){if(s.stateNode===null)throw Error(t(166));return mi(s),null}if(i=Zs(jn.current),Hr(s)){m=s.stateNode,u=s.type;var N=s.memoizedProps;switch(m[Rs]=s,m[al]=N,i=(s.mode&1)!==0,u){case"dialog":Sr("cancel",m),Sr("close",m);break;case"iframe":case"object":case"embed":Sr("load",m);break;case"video":case"audio":for(x=0;x<Lo.length;x++)Sr(Lo[x],m);break;case"source":Sr("error",m);break;case"img":case"image":case"link":Sr("error",m),Sr("load",m);break;case"details":Sr("toggle",m);break;case"input":Z(m,N),Sr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!N.multiple},Sr("invalid",m);break;case"textarea":at(m,N),Sr("invalid",m)}hr(u,N),x=null;for(var M in N)if(N.hasOwnProperty(M)){var ce=N[M];M==="children"?typeof ce=="string"?m.textContent!==ce&&(N.suppressHydrationWarning!==!0&&Dc(m.textContent,ce,i),x=["children",ce]):typeof ce=="number"&&m.textContent!==""+ce&&(N.suppressHydrationWarning!==!0&&Dc(m.textContent,ce,i),x=["children",""+ce]):o.hasOwnProperty(M)&&ce!=null&&M==="onScroll"&&Sr("scroll",m)}switch(u){case"input":Pe(m),vt(m,N,!0);break;case"textarea":Pe(m),Vt(m);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(m.onclick=ol)}m=x,s.updateQueue=m,m!==null&&(s.flags|=4)}else{M=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Et(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=M.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=M.createElement(u,{is:m.is}):(i=M.createElement(u),u==="select"&&(M=i,m.multiple?M.multiple=!0:m.size&&(M.size=m.size))):i=M.createElementNS(i,u),i[Rs]=s,i[al]=m,Og(i,s,!1,!1),s.stateNode=i;e:{switch(M=wt(u,m),u){case"dialog":Sr("cancel",i),Sr("close",i),x=m;break;case"iframe":case"object":case"embed":Sr("load",i),x=m;break;case"video":case"audio":for(x=0;x<Lo.length;x++)Sr(Lo[x],i);x=m;break;case"source":Sr("error",i),x=m;break;case"img":case"image":case"link":Sr("error",i),Sr("load",i),x=m;break;case"details":Sr("toggle",i),x=m;break;case"input":Z(i,m),x=Ke(i,m),Sr("invalid",i);break;case"option":x=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},x=xe({},m,{value:void 0}),Sr("invalid",i);break;case"textarea":at(i,m),x=Qe(i,m),Sr("invalid",i);break;default:x=m}hr(u,x),ce=x;for(N in ce)if(ce.hasOwnProperty(N)){var ve=ce[N];N==="style"?zt(i,ve):N==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&rt(i,ve)):N==="children"?typeof ve=="string"?(u!=="textarea"||ve!=="")&&kt(i,ve):typeof ve=="number"&&kt(i,""+ve):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?ve!=null&&N==="onScroll"&&Sr("scroll",i):ve!=null&&P(i,N,ve,M))}switch(u){case"input":Pe(i),vt(i,m,!1);break;case"textarea":Pe(i),Vt(i);break;case"option":m.value!=null&&i.setAttribute("value",""+ue(m.value));break;case"select":i.multiple=!!m.multiple,N=m.value,N!=null?Ye(i,!!m.multiple,N,!1):m.defaultValue!=null&&Ye(i,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=ol)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return mi(s),null;case 6:if(i&&s.stateNode!=null)Ig(i,s,i.memoizedProps,m);else{if(typeof m!="string"&&s.stateNode===null)throw Error(t(166));if(u=Zs(Oo.current),Zs(jn.current),Hr(s)){if(m=s.stateNode,u=s.memoizedProps,m[Rs]=s,(N=m.nodeValue!==u)&&(i=Le,i!==null))switch(i.tag){case 3:Dc(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Dc(m.nodeValue,u,(i.mode&1)!==0)}N&&(s.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Rs]=s,s.stateNode=m}return mi(s),null;case 13:if(mr(Or),m=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ie&&Te!==null&&(s.mode&1)!==0&&(s.flags&128)===0)$t(),tt(),s.flags|=98560,N=!1;else if(N=Hr(s),m!==null&&m.dehydrated!==null){if(i===null){if(!N)throw Error(t(318));if(N=s.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[Rs]=s}else tt(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mi(s),N=!1}else Fe!==null&&(Gf(Fe),Fe=null),N=!0;if(!N)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Or.current&1)!==0?Un===0&&(Un=3):Yf())),s.updateQueue!==null&&(s.flags|=4),mi(s),null);case 4:return Is(),Df(i,s),i===null&&ya(s.stateNode.containerInfo),mi(s),null;case 10:return Mr(s.type._context),mi(s),null;case 17:return fi(s.type)&&Fc(),mi(s),null;case 19:if(mr(Or),N=s.memoizedState,N===null)return mi(s),null;if(m=(s.flags&128)!==0,M=N.rendering,M===null)if(m)td(N,!1);else{if(Un!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(M=us(i),M!==null){for(s.flags|=128,td(N,!1),m=M.updateQueue,m!==null&&(s.updateQueue=m,s.flags|=4),s.subtreeFlags=0,m=u,u=s.child;u!==null;)N=u,i=m,N.flags&=14680066,M=N.alternate,M===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=M.childLanes,N.lanes=M.lanes,N.child=M.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=M.memoizedProps,N.memoizedState=M.memoizedState,N.updateQueue=M.updateQueue,N.type=M.type,i=M.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return br(Or,Or.current&1|2),s.child}i=i.sibling}N.tail!==null&&Tr()>Yc&&(s.flags|=128,m=!0,td(N,!1),s.lanes=4194304)}else{if(!m)if(i=us(M),i!==null){if(s.flags|=128,m=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),td(N,!0),N.tail===null&&N.tailMode==="hidden"&&!M.alternate&&!Ie)return mi(s),null}else 2*Tr()-N.renderingStartTime>Yc&&u!==1073741824&&(s.flags|=128,m=!0,td(N,!1),s.lanes=4194304);N.isBackwards?(M.sibling=s.child,s.child=M):(u=N.last,u!==null?u.sibling=M:s.child=M,N.last=M)}return N.tail!==null?(s=N.tail,N.rendering=s,N.tail=s.sibling,N.renderingStartTime=Tr(),s.sibling=null,u=Or.current,br(Or,m?u&1|2:u&1),s):(mi(s),null);case 22:case 23:return Jf(),m=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(s.flags|=8192),m&&(s.mode&1)!==0?(fs&1073741824)!==0&&(mi(s),s.subtreeFlags&6&&(s.flags|=8192)):mi(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function B5(i,s){switch(Ee(s),s.tag){case 1:return fi(s.type)&&Fc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Is(),mr(hi),mr(Mn),Qu(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Yu(s),null;case 13:if(mr(Or),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));tt()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return mr(Or),null;case 4:return Is(),null;case 10:return Mr(s.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Jd=!1,gi=!1,U5=typeof WeakSet=="function"?WeakSet:Set,it=null;function Kc(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){mn(i,s,m)}else u.current=null}function Ff(i,s,u){try{u()}catch(m){mn(i,s,m)}}var Dg=!1;function z5(i,s){if(Yl=Ka,i=dn(),as(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var M=0,ce=-1,ve=-1,je=0,ze=0,qe=i,Ue=null;t:for(;;){for(var Ze;qe!==u||x!==0&&qe.nodeType!==3||(ce=M+x),qe!==N||m!==0&&qe.nodeType!==3||(ve=M+m),qe.nodeType===3&&(M+=qe.nodeValue.length),(Ze=qe.firstChild)!==null;)Ue=qe,qe=Ze;for(;;){if(qe===i)break t;if(Ue===u&&++je===x&&(ce=M),Ue===N&&++ze===m&&(ve=M),(Ze=qe.nextSibling)!==null)break;qe=Ue,Ue=qe.parentNode}qe=Ze}u=ce===-1||ve===-1?null:{start:ce,end:ve}}else u=null}u=u||{start:0,end:0}}else u=null;for(ba={focusedElem:i,selectionRange:u},Ka=!1,it=s;it!==null;)if(s=it,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,it=i;else for(;it!==null;){s=it;try{var lt=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ft=lt.memoizedProps,_n=lt.memoizedState,Ae=s.stateNode,be=Ae.getSnapshotBeforeUpdate(s.elementType===s.type?ft:ro(s.type,ft),_n);Ae.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var Ce=s.stateNode.containerInfo;Ce.nodeType===1?Ce.textContent="":Ce.nodeType===9&&Ce.documentElement&&Ce.removeChild(Ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(We){mn(s,s.return,We)}if(i=s.sibling,i!==null){i.return=s.return,it=i;break}it=s.return}return lt=Dg,Dg=!1,lt}function rd(i,s,u){var m=s.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&i)===i){var N=x.destroy;x.destroy=void 0,N!==void 0&&Ff(s,u,N)}x=x.next}while(x!==m)}}function Yd(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==s)}}function Mf(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Fg(i){var s=i.alternate;s!==null&&(i.alternate=null,Fg(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Rs],delete s[al],delete s[di],delete s[_f],delete s[Sf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Mg(i){return i.tag===5||i.tag===3||i.tag===4}function Bg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Mg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bf(i,s,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=ol));else if(m!==4&&(i=i.child,i!==null))for(Bf(i,s,u),i=i.sibling;i!==null;)Bf(i,s,u),i=i.sibling}function Uf(i,s,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Uf(i,s,u),i=i.sibling;i!==null;)Uf(i,s,u),i=i.sibling}var ti=null,no=!1;function pl(i,s,u){for(u=u.child;u!==null;)Ug(i,s,u),u=u.sibling}function Ug(i,s,u){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(Yo,u)}catch{}switch(u.tag){case 5:gi||Kc(u,s);case 6:var m=ti,x=no;ti=null,pl(i,s,u),ti=m,no=x,ti!==null&&(no?(i=ti,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):ti.removeChild(u.stateNode));break;case 18:ti!==null&&(no?(i=ti,u=u.stateNode,i.nodeType===8?Gu(i.parentNode,u):i.nodeType===1&&Gu(i,u),na(i)):Gu(ti,u.stateNode));break;case 4:m=ti,x=no,ti=u.stateNode.containerInfo,no=!0,pl(i,s,u),ti=m,no=x;break;case 0:case 11:case 14:case 15:if(!gi&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var N=x,M=N.destroy;N=N.tag,M!==void 0&&((N&2)!==0||(N&4)!==0)&&Ff(u,s,M),x=x.next}while(x!==m)}pl(i,s,u);break;case 1:if(!gi&&(Kc(u,s),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(ce){mn(u,s,ce)}pl(i,s,u);break;case 21:pl(i,s,u);break;case 22:u.mode&1?(gi=(m=gi)||u.memoizedState!==null,pl(i,s,u),gi=m):pl(i,s,u);break;default:pl(i,s,u)}}function zg(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new U5),s.forEach(function(m){var x=Y5.bind(null,i,m);u.has(m)||(u.add(m),m.then(x,x))})}}function io(i,s){var u=s.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];try{var N=i,M=s,ce=M;e:for(;ce!==null;){switch(ce.tag){case 5:ti=ce.stateNode,no=!1;break e;case 3:ti=ce.stateNode.containerInfo,no=!0;break e;case 4:ti=ce.stateNode.containerInfo,no=!0;break e}ce=ce.return}if(ti===null)throw Error(t(160));Ug(N,M,x),ti=null,no=!1;var ve=x.alternate;ve!==null&&(ve.return=null),x.return=null}catch(je){mn(x,s,je)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qg(s,i),s=s.sibling}function qg(i,s){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(io(s,i),Io(i),m&4){try{rd(3,i,i.return),Yd(3,i)}catch(ft){mn(i,i.return,ft)}try{rd(5,i,i.return)}catch(ft){mn(i,i.return,ft)}}break;case 1:io(s,i),Io(i),m&512&&u!==null&&Kc(u,u.return);break;case 5:if(io(s,i),Io(i),m&512&&u!==null&&Kc(u,u.return),i.flags&32){var x=i.stateNode;try{kt(x,"")}catch(ft){mn(i,i.return,ft)}}if(m&4&&(x=i.stateNode,x!=null)){var N=i.memoizedProps,M=u!==null?u.memoizedProps:N,ce=i.type,ve=i.updateQueue;if(i.updateQueue=null,ve!==null)try{ce==="input"&&N.type==="radio"&&N.name!=null&&He(x,N),wt(ce,M);var je=wt(ce,N);for(M=0;M<ve.length;M+=2){var ze=ve[M],qe=ve[M+1];ze==="style"?zt(x,qe):ze==="dangerouslySetInnerHTML"?rt(x,qe):ze==="children"?kt(x,qe):P(x,ze,qe,je)}switch(ce){case"input":_t(x,N);break;case"textarea":tr(x,N);break;case"select":var Ue=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!N.multiple;var Ze=N.value;Ze!=null?Ye(x,!!N.multiple,Ze,!1):Ue!==!!N.multiple&&(N.defaultValue!=null?Ye(x,!!N.multiple,N.defaultValue,!0):Ye(x,!!N.multiple,N.multiple?[]:"",!1))}x[al]=N}catch(ft){mn(i,i.return,ft)}}break;case 6:if(io(s,i),Io(i),m&4){if(i.stateNode===null)throw Error(t(162));x=i.stateNode,N=i.memoizedProps;try{x.nodeValue=N}catch(ft){mn(i,i.return,ft)}}break;case 3:if(io(s,i),Io(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{na(s.containerInfo)}catch(ft){mn(i,i.return,ft)}break;case 4:io(s,i),Io(i);break;case 13:io(s,i),Io(i),x=i.child,x.flags&8192&&(N=x.memoizedState!==null,x.stateNode.isHidden=N,!N||x.alternate!==null&&x.alternate.memoizedState!==null||($f=Tr())),m&4&&zg(i);break;case 22:if(ze=u!==null&&u.memoizedState!==null,i.mode&1?(gi=(je=gi)||ze,io(s,i),gi=je):io(s,i),Io(i),m&8192){if(je=i.memoizedState!==null,(i.stateNode.isHidden=je)&&!ze&&(i.mode&1)!==0)for(it=i,ze=i.child;ze!==null;){for(qe=it=ze;it!==null;){switch(Ue=it,Ze=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:rd(4,Ue,Ue.return);break;case 1:Kc(Ue,Ue.return);var lt=Ue.stateNode;if(typeof lt.componentWillUnmount=="function"){m=Ue,u=Ue.return;try{s=m,lt.props=s.memoizedProps,lt.state=s.memoizedState,lt.componentWillUnmount()}catch(ft){mn(m,u,ft)}}break;case 5:Kc(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){Vg(qe);continue}}Ze!==null?(Ze.return=Ue,it=Ze):Vg(qe)}ze=ze.sibling}e:for(ze=null,qe=i;;){if(qe.tag===5){if(ze===null){ze=qe;try{x=qe.stateNode,je?(N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(ce=qe.stateNode,ve=qe.memoizedProps.style,M=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,ce.style.display=Yt("display",M))}catch(ft){mn(i,i.return,ft)}}}else if(qe.tag===6){if(ze===null)try{qe.stateNode.nodeValue=je?"":qe.memoizedProps}catch(ft){mn(i,i.return,ft)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===i)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===i)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===i)break e;ze===qe&&(ze=null),qe=qe.return}ze===qe&&(ze=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:io(s,i),Io(i),m&4&&zg(i);break;case 21:break;default:io(s,i),Io(i)}}function Io(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(Mg(u)){var m=u;break e}u=u.return}throw Error(t(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(kt(x,""),m.flags&=-33);var N=Bg(i);Uf(i,N,x);break;case 3:case 4:var M=m.stateNode.containerInfo,ce=Bg(i);Bf(i,ce,M);break;default:throw Error(t(161))}}catch(ve){mn(i,i.return,ve)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function q5(i,s,u){it=i,$g(i)}function $g(i,s,u){for(var m=(i.mode&1)!==0;it!==null;){var x=it,N=x.child;if(x.tag===22&&m){var M=x.memoizedState!==null||Jd;if(!M){var ce=x.alternate,ve=ce!==null&&ce.memoizedState!==null||gi;ce=Jd;var je=gi;if(Jd=M,(gi=ve)&&!je)for(it=x;it!==null;)M=it,ve=M.child,M.tag===22&&M.memoizedState!==null?Hg(x):ve!==null?(ve.return=M,it=ve):Hg(x);for(;N!==null;)it=N,$g(N),N=N.sibling;it=x,Jd=ce,gi=je}Wg(i)}else(x.subtreeFlags&8772)!==0&&N!==null?(N.return=x,it=N):Wg(i)}}function Wg(i){for(;it!==null;){var s=it;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:gi||Yd(5,s);break;case 1:var m=s.stateNode;if(s.flags&4&&!gi)if(u===null)m.componentDidMount();else{var x=s.elementType===s.type?u.memoizedProps:ro(s.type,u.memoizedProps);m.componentDidUpdate(x,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var N=s.updateQueue;N!==null&&Hi(s,N,m);break;case 3:var M=s.updateQueue;if(M!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Hi(s,M,u)}break;case 5:var ce=s.stateNode;if(u===null&&s.flags&4){u=ce;var ve=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&u.focus();break;case"img":ve.src&&(u.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var je=s.alternate;if(je!==null){var ze=je.memoizedState;if(ze!==null){var qe=ze.dehydrated;qe!==null&&na(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}gi||s.flags&512&&Mf(s)}catch(Ue){mn(s,s.return,Ue)}}if(s===i){it=null;break}if(u=s.sibling,u!==null){u.return=s.return,it=u;break}it=s.return}}function Vg(i){for(;it!==null;){var s=it;if(s===i){it=null;break}var u=s.sibling;if(u!==null){u.return=s.return,it=u;break}it=s.return}}function Hg(i){for(;it!==null;){var s=it;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Yd(4,s)}catch(ve){mn(s,u,ve)}break;case 1:var m=s.stateNode;if(typeof m.componentDidMount=="function"){var x=s.return;try{m.componentDidMount()}catch(ve){mn(s,x,ve)}}var N=s.return;try{Mf(s)}catch(ve){mn(s,N,ve)}break;case 5:var M=s.return;try{Mf(s)}catch(ve){mn(s,M,ve)}}}catch(ve){mn(s,s.return,ve)}if(s===i){it=null;break}var ce=s.sibling;if(ce!==null){ce.return=s.return,it=ce;break}it=s.return}}var $5=Math.ceil,Xd=R.ReactCurrentDispatcher,zf=R.ReactCurrentOwner,Ms=R.ReactCurrentBatchConfig,cr=0,Jn=null,Ln=null,ri=0,fs=0,Jc=ls(0),Un=0,nd=null,rc=0,Qd=0,qf=0,id=null,Ki=null,$f=0,Yc=1/0,Aa=null,Zd=!1,Wf=null,ml=null,eh=!1,gl=null,th=0,sd=0,Vf=null,rh=-1,nh=0;function Ri(){return(cr&6)!==0?Tr():rh!==-1?rh:rh=Tr()}function vl(i){return(i.mode&1)===0?1:(cr&2)!==0&&ri!==0?ri&-ri:en.transition!==null?(nh===0&&(nh=Ol()),nh):(i=ir,i!==0||(i=window.event,i=i===void 0?16:sa(i.type)),i)}function so(i,s,u,m){if(50<sd)throw sd=0,Vf=null,Error(t(185));Zo(i,u,m),((cr&2)===0||i!==Jn)&&(i===Jn&&((cr&2)===0&&(Qd|=u),Un===4&&yl(i,ri)),Ji(i,m),u===1&&cr===0&&(s.mode&1)===0&&(Yc=Tr()+500,Ql&&L()))}function Ji(i,s){var u=i.callbackNode;yn(i,s);var m=Qo(i,i===Jn?ri:0);if(m===0)u!==null&&Jo(u),i.callbackNode=null,i.callbackPriority=0;else if(s=m&-m,i.callbackPriority!==s){if(u!=null&&Jo(u),s===1)i.tag===0?_(Kg.bind(null,i)):g(Kg.bind(null,i)),bf(function(){(cr&6)===0&&L()}),u=null;else{switch(ea(m)){case 1:u=za;break;case 4:u=ki;break;case 16:u=wo;break;case 536870912:u=qa;break;default:u=wo}u=r0(u,Gg.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Gg(i,s){if(rh=-1,nh=0,(cr&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Xc()&&i.callbackNode!==u)return null;var m=Qo(i,i===Jn?ri:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||s)s=ih(i,m);else{s=m;var x=cr;cr|=2;var N=Yg();(Jn!==i||ri!==s)&&(Aa=null,Yc=Tr()+500,ic(i,s));do try{H5();break}catch(ce){Jg(i,ce)}while(!0);ar(),Xd.current=N,cr=x,Ln!==null?s=0:(Jn=null,ri=0,s=Un)}if(s!==0){if(s===2&&(x=rs(i),x!==0&&(m=x,s=Hf(i,x))),s===1)throw u=nd,ic(i,0),yl(i,m),Ji(i,Tr()),u;if(s===6)yl(i,m);else{if(x=i.current.alternate,(m&30)===0&&!W5(x)&&(s=ih(i,m),s===2&&(N=rs(i),N!==0&&(m=N,s=Hf(i,N))),s===1))throw u=nd,ic(i,0),yl(i,m),Ji(i,Tr()),u;switch(i.finishedWork=x,i.finishedLanes=m,s){case 0:case 1:throw Error(t(345));case 2:sc(i,Ki,Aa);break;case 3:if(yl(i,m),(m&130023424)===m&&(s=$f+500-Tr(),10<s)){if(Qo(i,0)!==0)break;if(x=i.suspendedLanes,(x&m)!==m){Ri(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Hu(sc.bind(null,i,Ki,Aa),s);break}sc(i,Ki,Aa);break;case 4:if(yl(i,m),(m&4194240)===m)break;for(s=i.eventTimes,x=-1;0<m;){var M=31-ln(m);N=1<<M,M=s[M],M>x&&(x=M),m&=~N}if(m=x,m=Tr()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*$5(m/1960))-m,10<m){i.timeoutHandle=Hu(sc.bind(null,i,Ki,Aa),m);break}sc(i,Ki,Aa);break;case 5:sc(i,Ki,Aa);break;default:throw Error(t(329))}}}return Ji(i,Tr()),i.callbackNode===u?Gg.bind(null,i):null}function Hf(i,s){var u=id;return i.current.memoizedState.isDehydrated&&(ic(i,s).flags|=256),i=ih(i,s),i!==2&&(s=Ki,Ki=u,s!==null&&Gf(s)),i}function Gf(i){Ki===null?Ki=i:Ki.push.apply(Ki,i)}function W5(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var x=u[m],N=x.getSnapshot;x=x.value;try{if(!Wr(N(),x))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yl(i,s){for(s&=~qf,s&=~Qd,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-ln(s),m=1<<u;i[u]=-1,s&=~m}}function Kg(i){if((cr&6)!==0)throw Error(t(327));Xc();var s=Qo(i,0);if((s&1)===0)return Ji(i,Tr()),null;var u=ih(i,s);if(i.tag!==0&&u===2){var m=rs(i);m!==0&&(s=m,u=Hf(i,m))}if(u===1)throw u=nd,ic(i,0),yl(i,s),Ji(i,Tr()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,sc(i,Ki,Aa),Ji(i,Tr()),null}function Kf(i,s){var u=cr;cr|=1;try{return i(s)}finally{cr=u,cr===0&&(Yc=Tr()+500,Ql&&L())}}function nc(i){gl!==null&&gl.tag===0&&(cr&6)===0&&Xc();var s=cr;cr|=1;var u=Ms.transition,m=ir;try{if(Ms.transition=null,ir=1,i)return i()}finally{ir=m,Ms.transition=u,cr=s,(cr&6)===0&&L()}}function Jf(){fs=Jc.current,mr(Jc)}function ic(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Dd(u)),Ln!==null)for(u=Ln.return;u!==null;){var m=u;switch(Ee(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Fc();break;case 3:Is(),mr(hi),mr(Mn),Qu();break;case 5:Yu(m);break;case 4:Is();break;case 13:mr(Or);break;case 19:mr(Or);break;case 10:Mr(m.type._context);break;case 22:case 23:Jf()}u=u.return}if(Jn=i,Ln=i=wl(i.current,null),ri=fs=s,Un=0,nd=null,qf=Qd=rc=0,Ki=id=null,kr!==null){for(s=0;s<kr.length;s++)if(u=kr[s],m=u.interleaved,m!==null){u.interleaved=null;var x=m.next,N=u.pending;if(N!==null){var M=N.next;N.next=x,m.next=M}u.pending=m}kr=null}return i}function Jg(i,s){do{var u=Ln;try{if(ar(),Mc.current=Vd,dl){for(var m=Br.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}dl=!1}if(Ds=0,sn=pn=Br=null,eo=!1,hl=0,zf.current=null,u===null||u.return===null){Un=1,nd=s,Ln=null;break}e:{var N=i,M=u.return,ce=u,ve=s;if(s=ri,ce.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var je=ve,ze=ce,qe=ze.tag;if((ze.mode&1)===0&&(qe===0||qe===11||qe===15)){var Ue=ze.alternate;Ue?(ze.updateQueue=Ue.updateQueue,ze.memoizedState=Ue.memoizedState,ze.lanes=Ue.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Ze=bg(M);if(Ze!==null){Ze.flags&=-257,xg(Ze,M,ce,N,s),Ze.mode&1&&wg(N,je,s),s=Ze,ve=je;var lt=s.updateQueue;if(lt===null){var ft=new Set;ft.add(ve),s.updateQueue=ft}else lt.add(ve);break e}else{if((s&1)===0){wg(N,je,s),Yf();break e}ve=Error(t(426))}}else if(Ie&&ce.mode&1){var _n=bg(M);if(_n!==null){(_n.flags&65536)===0&&(_n.flags|=256),xg(_n,M,ce,N,s),Ge(Gc(ve,ce));break e}}N=ve=Gc(ve,ce),Un!==4&&(Un=2),id===null?id=[N]:id.push(N),N=M;do{switch(N.tag){case 3:N.flags|=65536,s&=-s,N.lanes|=s;var Ae=vg(N,ve,s);Ar(N,Ae);break e;case 1:ce=ve;var be=N.type,Ce=N.stateNode;if((N.flags&128)===0&&(typeof be.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(ml===null||!ml.has(Ce)))){N.flags|=65536,s&=-s,N.lanes|=s;var We=yg(N,ce,s);Ar(N,We);break e}}N=N.return}while(N!==null)}Qg(u)}catch(gt){s=gt,Ln===u&&u!==null&&(Ln=u=u.return);continue}break}while(!0)}function Yg(){var i=Xd.current;return Xd.current=Vd,i===null?Vd:i}function Yf(){(Un===0||Un===3||Un===2)&&(Un=4),Jn===null||(rc&268435455)===0&&(Qd&268435455)===0||yl(Jn,ri)}function ih(i,s){var u=cr;cr|=2;var m=Yg();(Jn!==i||ri!==s)&&(Aa=null,ic(i,s));do try{V5();break}catch(x){Jg(i,x)}while(!0);if(ar(),cr=u,Xd.current=m,Ln!==null)throw Error(t(261));return Jn=null,ri=0,Un}function V5(){for(;Ln!==null;)Xg(Ln)}function H5(){for(;Ln!==null&&!Ua();)Xg(Ln)}function Xg(i){var s=t0(i.alternate,i,fs);i.memoizedProps=i.pendingProps,s===null?Qg(i):Ln=s,zf.current=null}function Qg(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=M5(u,s,fs),u!==null){Ln=u;return}}else{if(u=B5(u,s),u!==null){u.flags&=32767,Ln=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Un=6,Ln=null;return}}if(s=s.sibling,s!==null){Ln=s;return}Ln=s=i}while(s!==null);Un===0&&(Un=5)}function sc(i,s,u){var m=ir,x=Ms.transition;try{Ms.transition=null,ir=1,G5(i,s,u,m)}finally{Ms.transition=x,ir=m}return null}function G5(i,s,u,m){do Xc();while(gl!==null);if((cr&6)!==0)throw Error(t(327));u=i.finishedWork;var x=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var N=u.lanes|u.childLanes;if(Ns(i,N),i===Jn&&(Ln=Jn=null,ri=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||eh||(eh=!0,r0(wo,function(){return Xc(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=Ms.transition,Ms.transition=null;var M=ir;ir=1;var ce=cr;cr|=4,zf.current=null,z5(i,u),qg(u,i),ql(ba),Ka=!!Yl,ba=Yl=null,i.current=u,q5(u),Ru(),cr=ce,ir=M,Ms.transition=N}else i.current=u;if(eh&&(eh=!1,gl=i,th=x),N=i.pendingLanes,N===0&&(ml=null),Nc(u.stateNode),Ji(i,Tr()),s!==null)for(m=i.onRecoverableError,u=0;u<s.length;u++)x=s[u],m(x.value,{componentStack:x.stack,digest:x.digest});if(Zd)throw Zd=!1,i=Wf,Wf=null,i;return(th&1)!==0&&i.tag!==0&&Xc(),N=i.pendingLanes,(N&1)!==0?i===Vf?sd++:(sd=0,Vf=i):sd=0,L(),null}function Xc(){if(gl!==null){var i=ea(th),s=Ms.transition,u=ir;try{if(Ms.transition=null,ir=16>i?16:i,gl===null)var m=!1;else{if(i=gl,gl=null,th=0,(cr&6)!==0)throw Error(t(331));var x=cr;for(cr|=4,it=i.current;it!==null;){var N=it,M=N.child;if((it.flags&16)!==0){var ce=N.deletions;if(ce!==null){for(var ve=0;ve<ce.length;ve++){var je=ce[ve];for(it=je;it!==null;){var ze=it;switch(ze.tag){case 0:case 11:case 15:rd(8,ze,N)}var qe=ze.child;if(qe!==null)qe.return=ze,it=qe;else for(;it!==null;){ze=it;var Ue=ze.sibling,Ze=ze.return;if(Fg(ze),ze===je){it=null;break}if(Ue!==null){Ue.return=Ze,it=Ue;break}it=Ze}}}var lt=N.alternate;if(lt!==null){var ft=lt.child;if(ft!==null){lt.child=null;do{var _n=ft.sibling;ft.sibling=null,ft=_n}while(ft!==null)}}it=N}}if((N.subtreeFlags&2064)!==0&&M!==null)M.return=N,it=M;else e:for(;it!==null;){if(N=it,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:rd(9,N,N.return)}var Ae=N.sibling;if(Ae!==null){Ae.return=N.return,it=Ae;break e}it=N.return}}var be=i.current;for(it=be;it!==null;){M=it;var Ce=M.child;if((M.subtreeFlags&2064)!==0&&Ce!==null)Ce.return=M,it=Ce;else e:for(M=be;it!==null;){if(ce=it,(ce.flags&2048)!==0)try{switch(ce.tag){case 0:case 11:case 15:Yd(9,ce)}}catch(gt){mn(ce,ce.return,gt)}if(ce===M){it=null;break e}var We=ce.sibling;if(We!==null){We.return=ce.return,it=We;break e}it=ce.return}}if(cr=x,L(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(Yo,i)}catch{}m=!0}return m}finally{ir=u,Ms.transition=s}}return!1}function Zg(i,s,u){s=Gc(u,s),s=vg(i,s,1),i=rn(i,s,1),s=Ri(),i!==null&&(Zo(i,1,s),Ji(i,s))}function mn(i,s,u){if(i.tag===3)Zg(i,i,u);else for(;s!==null;){if(s.tag===3){Zg(s,i,u);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ml===null||!ml.has(m))){i=Gc(u,i),i=yg(s,i,1),s=rn(s,i,1),i=Ri(),s!==null&&(Zo(s,1,i),Ji(s,i));break}}s=s.return}}function K5(i,s,u){var m=i.pingCache;m!==null&&m.delete(s),s=Ri(),i.pingedLanes|=i.suspendedLanes&u,Jn===i&&(ri&u)===u&&(Un===4||Un===3&&(ri&130023424)===ri&&500>Tr()-$f?ic(i,0):qf|=u),Ji(i,s)}function e0(i,s){s===0&&((i.mode&1)===0?s=1:(s=Ai,Ai<<=1,(Ai&130023424)===0&&(Ai=4194304)));var u=Ri();i=Nr(i,s),i!==null&&(Zo(i,s,u),Ji(i,u))}function J5(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),e0(i,u)}function Y5(i,s){var u=0;switch(i.tag){case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(s),e0(i,u)}var t0;t0=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||hi.current)Gi=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return Gi=!1,F5(i,s,u);Gi=(i.flags&131072)!==0}else Gi=!1,Ie&&(s.flags&1048576)!==0&&ke(s,V,s.index);switch(s.lanes=0,s.tag){case 2:var m=s.type;Kd(i,s),i=s.pendingProps;var x=cl(s,Mn.current);Gr(s,u),x=Zl(null,s,m,i,x,u);var N=Fs();return s.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,fi(m)?(N=!0,Sa(s)):N=!1,s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Bn(s),x.updater=Hd,s.stateNode=x,x._reactInternals=s,Ef(s,m,i,u),s=Pf(null,s,m,!0,N,u)):(s.tag=0,Ie&&N&&Oe(s),Oi(null,s,x,u),s=s.child),s;case 16:m=s.elementType;e:{switch(Kd(i,s),i=s.pendingProps,x=m._init,m=x(m._payload),s.type=m,x=s.tag=Q5(m),i=ro(m,i),x){case 0:s=Lf(null,s,m,i,u);break e;case 1:s=Eg(null,s,m,i,u);break e;case 11:s=_g(null,s,m,i,u);break e;case 14:s=Sg(null,s,m,ro(m.type,i),u);break e}throw Error(t(306,m,""))}return s;case 0:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:ro(m,x),Lf(i,s,m,x,u);case 1:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:ro(m,x),Eg(i,s,m,x,u);case 3:e:{if(Cg(s),i===null)throw Error(t(387));m=s.pendingProps,N=s.memoizedState,x=N.element,pi(i,s),Kn(s,m,null,u);var M=s.memoizedState;if(m=M.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},s.updateQueue.baseState=N,s.memoizedState=N,s.flags&256){x=Gc(Error(t(423)),s),s=jg(i,s,m,u,x);break e}else if(m!==x){x=Gc(Error(t(424)),s),s=jg(i,s,m,u,x);break e}else for(Te=ei(s.stateNode.containerInfo.firstChild),Le=s,Ie=!0,Fe=null,u=qr(s,null,m,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(tt(),m===x){s=Na(i,s,u);break e}Oi(i,s,m,u)}s=s.child}return s;case 5:return Ud(s),i===null&&ot(s),m=s.type,x=s.pendingProps,N=i!==null?i.memoizedProps:null,M=x.children,Vu(m,x)?M=null:N!==null&&Vu(m,N)&&(s.flags|=32),Ag(i,s),Oi(i,s,M,u),s.child;case 6:return i===null&&ot(s),null;case 13:return Lg(i,s,u);case 4:return ul(s,s.stateNode.containerInfo),m=s.pendingProps,i===null?s.child=hn(s,null,m,u):Oi(i,s,m,u),s.child;case 11:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:ro(m,x),_g(i,s,m,x,u);case 7:return Oi(i,s,s.pendingProps,u),s.child;case 8:return Oi(i,s,s.pendingProps.children,u),s.child;case 12:return Oi(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(m=s.type._context,x=s.pendingProps,N=s.memoizedProps,M=x.value,br(bn,m._currentValue),m._currentValue=M,N!==null)if(Wr(N.value,M)){if(N.children===x.children&&!hi.current){s=Na(i,s,u);break e}}else for(N=s.child,N!==null&&(N.return=s);N!==null;){var ce=N.dependencies;if(ce!==null){M=N.child;for(var ve=ce.firstContext;ve!==null;){if(ve.context===m){if(N.tag===1){ve=tn(-1,u&-u),ve.tag=2;var je=N.updateQueue;if(je!==null){je=je.shared;var ze=je.pending;ze===null?ve.next=ve:(ve.next=ze.next,ze.next=ve),je.pending=ve}}N.lanes|=u,ve=N.alternate,ve!==null&&(ve.lanes|=u),lr(N.return,u,s),ce.lanes|=u;break}ve=ve.next}}else if(N.tag===10)M=N.type===s.type?null:N.child;else if(N.tag===18){if(M=N.return,M===null)throw Error(t(341));M.lanes|=u,ce=M.alternate,ce!==null&&(ce.lanes|=u),lr(M,u,s),M=N.sibling}else M=N.child;if(M!==null)M.return=N;else for(M=N;M!==null;){if(M===s){M=null;break}if(N=M.sibling,N!==null){N.return=M.return,M=N;break}M=M.return}N=M}Oi(i,s,x.children,u),s=s.child}return s;case 9:return x=s.type,m=s.pendingProps.children,Gr(s,u),x=Kr(x),m=m(x),s.flags|=1,Oi(i,s,m,u),s.child;case 14:return m=s.type,x=ro(m,s.pendingProps),x=ro(m.type,x),Sg(i,s,m,x,u);case 15:return kg(i,s,s.type,s.pendingProps,u);case 17:return m=s.type,x=s.pendingProps,x=s.elementType===m?x:ro(m,x),Kd(i,s),s.tag=1,fi(m)?(i=!0,Sa(s)):i=!1,Gr(s,u),mg(s,m,x),Ef(s,m,x,u),Pf(null,s,m,!0,i,u);case 19:return Tg(i,s,u);case 22:return Ng(i,s,u)}throw Error(t(156,s.tag))};function r0(i,s){return Ko(i,s)}function X5(i,s,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(i,s,u,m){return new X5(i,s,u,m)}function Xf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Q5(i){if(typeof i=="function")return Xf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===fe)return 14}return 2}function wl(i,s){var u=i.alternate;return u===null?(u=Bs(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function sh(i,s,u,m,x,N){var M=2;if(m=i,typeof i=="function")Xf(i)&&(M=1);else if(typeof i=="string")M=5;else e:switch(i){case Q:return oc(u.children,x,N,s);case W:M=8,x|=8;break;case H:return i=Bs(12,u,s,x|2),i.elementType=H,i.lanes=N,i;case J:return i=Bs(13,u,s,x),i.elementType=J,i.lanes=N,i;case X:return i=Bs(19,u,s,x),i.elementType=X,i.lanes=N,i;case ye:return oh(u,x,N,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case se:M=10;break e;case O:M=9;break e;case F:M=11;break e;case fe:M=14;break e;case de:M=16,m=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Bs(M,u,s,x),s.elementType=i,s.type=m,s.lanes=N,s}function oc(i,s,u,m){return i=Bs(7,i,m,s),i.lanes=u,i}function oh(i,s,u,m){return i=Bs(22,i,m,s),i.elementType=ye,i.lanes=u,i.stateNode={isHidden:!1},i}function Qf(i,s,u){return i=Bs(6,i,null,s),i.lanes=u,i}function Zf(i,s,u){return s=Bs(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Z5(i,s,u,m,x){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function ep(i,s,u,m,x,N,M,ce,ve){return i=new Z5(i,s,u,ce,ve),s===1?(s=1,N===!0&&(s|=8)):s=0,N=Bs(3,null,null,s),i.current=N,N.stateNode=i,N.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bn(N),i}function ew(i,s,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:m==null?null:""+m,children:i,containerInfo:s,implementation:u}}function n0(i){if(!i)return To;i=i._reactInternals;e:{if(In(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(fi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(fi(u))return Ju(i,u,s)}return s}function i0(i,s,u,m,x,N,M,ce,ve){return i=ep(u,m,!0,i,x,N,M,ce,ve),i.context=n0(null),u=i.current,m=Ri(),x=vl(u),N=tn(m,x),N.callback=s??null,rn(u,N,x),i.current.lanes=x,Zo(i,x,m),Ji(i,m),i}function ah(i,s,u,m){var x=s.current,N=Ri(),M=vl(x);return u=n0(u),s.context===null?s.context=u:s.pendingContext=u,s=tn(N,M),s.payload={element:i},m=m===void 0?null:m,m!==null&&(s.callback=m),i=rn(x,s,M),i!==null&&(so(i,x,M,N),Gn(i,x,M)),M}function lh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function s0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function tp(i,s){s0(i,s),(i=i.alternate)&&s0(i,s)}function tw(){return null}var o0=typeof reportError=="function"?reportError:function(i){console.error(i)};function rp(i){this._internalRoot=i}ch.prototype.render=rp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));ah(i,s,null,null)},ch.prototype.unmount=rp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;nc(function(){ah(null,i,null,null)}),s[Vn]=null}};function ch(i){this._internalRoot=i}ch.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ec();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Es.length&&s!==0&&s<Es[u].priority;u++);Es.splice(u,0,i),u===0&&jc(i)}};function np(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function uh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function a0(){}function rw(i,s,u,m,x){if(x){if(typeof m=="function"){var N=m;m=function(){var je=lh(M);N.call(je)}}var M=i0(s,m,i,0,null,!1,!1,"",a0);return i._reactRootContainer=M,i[Vn]=M.current,ya(i.nodeType===8?i.parentNode:i),nc(),M}for(;x=i.lastChild;)i.removeChild(x);if(typeof m=="function"){var ce=m;m=function(){var je=lh(ve);ce.call(je)}}var ve=ep(i,0,!1,null,null,!1,!1,"",a0);return i._reactRootContainer=ve,i[Vn]=ve.current,ya(i.nodeType===8?i.parentNode:i),nc(function(){ah(s,ve,u,m)}),ve}function dh(i,s,u,m,x){var N=u._reactRootContainer;if(N){var M=N;if(typeof x=="function"){var ce=x;x=function(){var ve=lh(M);ce.call(ve)}}ah(s,M,i,x)}else M=rw(u,s,i,x,m);return lh(M)}bo=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=ks(s.pendingLanes);u!==0&&(Wa(s,u|1),Ji(s,Tr()),(cr&6)===0&&(Yc=Tr()+500,L()))}break;case 13:nc(function(){var m=Nr(i,1);if(m!==null){var x=Ri();so(m,i,1,x)}}),tp(i,1)}},Il=function(i){if(i.tag===13){var s=Nr(i,134217728);if(s!==null){var u=Ri();so(s,i,134217728,u)}tp(i,134217728)}},Ac=function(i){if(i.tag===13){var s=vl(i),u=Nr(i,s);if(u!==null){var m=Ri();so(u,i,s,m)}tp(i,s)}},Ec=function(){return ir},Va=function(i,s){var u=ir;try{return ir=i,s()}finally{ir=u}},Pt=function(i,s,u){switch(s){case"input":if(_t(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var m=u[s];if(m!==i&&m.form===i.form){var x=Xl(m);if(!x)throw Error(t(90));Me(m),_t(m,x)}}}break;case"textarea":tr(i,u);break;case"select":s=u.value,s!=null&&Ye(i,!!u.multiple,s,!1)}},er=Kf,Ir=nc;var nw={usingClientEntryPoint:!1,Events:[ll,xa,Xl,Je,_r,Kf]},od={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iw={bundleType:od.bundleType,version:od.version,rendererPackageName:od.rendererPackageName,rendererConfig:od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ts(i),i===null?null:i.stateNode},findFiberByHostInstance:od.findFiberByHostInstance||tw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Yo=hh.inject(iw),Ni=hh}catch{}}return Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nw,Yi.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(s))throw Error(t(200));return ew(i,s,null,u)},Yi.createRoot=function(i,s){if(!np(i))throw Error(t(299));var u=!1,m="",x=o0;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=ep(i,1,!1,null,null,u,!1,m,x),i[Vn]=s.current,ya(i.nodeType===8?i.parentNode:i),new rp(s)},Yi.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ts(s),i=i===null?null:i.stateNode,i},Yi.flushSync=function(i){return nc(i)},Yi.hydrate=function(i,s,u){if(!uh(s))throw Error(t(200));return dh(null,i,s,!0,u)},Yi.hydrateRoot=function(i,s,u){if(!np(i))throw Error(t(405));var m=u!=null&&u.hydratedSources||null,x=!1,N="",M=o0;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(M=u.onRecoverableError)),s=i0(s,null,i,1,u??null,x,!1,N,M),i[Vn]=s.current,ya(i),m)for(i=0;i<m.length;i++)u=m[i],x=u._getVersion,x=x(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,x]:s.mutableSourceEagerHydrationData.push(u,x);return new ch(s)},Yi.render=function(i,s,u){if(!uh(s))throw Error(t(200));return dh(null,i,s,!1,u)},Yi.unmountComponentAtNode=function(i){if(!uh(i))throw Error(t(40));return i._reactRootContainer?(nc(function(){dh(null,null,i,!1,function(){i._reactRootContainer=null,i[Vn]=null})}),!0):!1},Yi.unstable_batchedUpdates=Kf,Yi.unstable_renderSubtreeIntoContainer=function(i,s,u,m){if(!uh(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return dh(i,s,u,!1,m)},Yi.version="18.3.1-next-f1338f8080-20240426",Yi}var m0;function Wv(){if(m0)return op.exports;m0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),op.exports=pw(),op.exports}var g0;function mw(){if(g0)return fh;g0=1;var r=Wv();return fh.createRoot=r.createRoot,fh.hydrateRoot=r.hydrateRoot,fh}var gw=mw(),ne=Rm();const Ve=$v(ne),vw=lw({__proto__:null,default:Ve},[ne]);var Bo=function(){return Bo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Bo.apply(this,arguments)};function Eu(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t}function yw(r,e,t,n){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(v){try{p(n.next(v))}catch(y){l(y)}}function d(v){try{p(n.throw(v))}catch(y){l(y)}}function p(v){v.done?a(v.value):o(v.value).then(c,d)}p((n=n.apply(r,e||[])).next())})}function ww(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,a;n<o;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}const bw=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Im extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class xw extends Im{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class v0 extends Im{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class y0 extends Im{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Xp||(Xp={}));class _w{constructor(e,{headers:t={},customFetch:n,region:o=Xp.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=bw(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return yw(this,arguments,void 0,function*(t,n={}){var o;let a,l;try{const{headers:c,method:d,body:p,signal:v,timeout:y}=n;let S={},{region:h}=n;h||(h=this.region);const A=new URL(`${this.url}/${t}`);h&&h!=="any"&&(S["x-region"]=h,A.searchParams.set("forceFunctionRegion",h));let k;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",k=p):typeof p=="string"?(S["Content-Type"]="text/plain",k=p):typeof FormData<"u"&&p instanceof FormData?k=p:(S["Content-Type"]="application/json",k=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?k=JSON.stringify(p):k=p;let E=v;y&&(l=new AbortController,a=setTimeout(()=>l.abort(),y),v?(E=l.signal,v.addEventListener("abort",()=>l.abort())):E=l.signal);const j=yield this.fetch(A.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),c),body:k,signal:E}).catch(U=>{throw new xw(U)}),C=j.headers.get("x-relay-error");if(C&&C==="true")throw new v0(j);if(!j.ok)throw new y0(j);let P=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return P==="application/json"?R=yield j.json():P==="application/octet-stream"||P==="application/pdf"?R=yield j.blob():P==="text/event-stream"?R=j:P==="multipart/form-data"?R=yield j.formData():R=yield j.text(),{data:R,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof y0||c instanceof v0?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var Sw=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},kw=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,c=null,d=null,p=a.status,v=a.statusText;if(a.ok){var y,S;if(t.method!=="HEAD"){var h;const j=await a.text();j===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((h=t.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?c=j:c=JSON.parse(j))}const k=(y=t.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),E=(S=a.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");k&&E&&E.length>1&&(d=parseInt(E[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,p=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var A;const k=await a.text();try{l=JSON.parse(k),Array.isArray(l)&&a.status===404&&(c=[],l=null,p=200,v="OK")}catch{a.status===404&&k===""?(p=204,v="No Content"):l={message:k}}if(l&&t.isMaybeSingle&&(!(l==null||(A=l.details)===null||A===void 0)&&A.includes("0 rows"))&&(l=null,p=200,v="OK"),l&&t.shouldThrowOnError)throw new Sw(l)}return{error:l,data:c,count:d,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(a=>{var l;let c="";const d=a==null?void 0:a.cause;if(d){var p,v,y,S;const A=(p=d==null?void 0:d.message)!==null&&p!==void 0?p:"",k=(v=d==null?void 0:d.code)!==null&&v!==void 0?v:"";c=`${(y=a==null?void 0:a.name)!==null&&y!==void 0?y:"FetchError"}: ${a==null?void 0:a.message}`,c+=`

Caused by: ${(S=d==null?void 0:d.name)!==null&&S!==void 0?S:"Error"}: ${A}`,k&&(c+=` (${k})`),d!=null&&d.stack&&(c+=`
${d.stack}`)}else{var h;c=(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,e)}returns(){return this}overrideTypes(){return this}},Nw=class extends kw{select(r){let e=!1;const t=(r??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:n,referencedTable:o=n}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const n=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(n,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:n=t}={}){const o=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(a,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:n=!1,wal:o=!1,format:a="text"}={}){var l;const c=[r?"analyze":null,e?"verbose":null,t?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const w0=new RegExp("[,()]");var du=class extends Nw{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&w0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(n=>typeof n=="string"&&w0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:n}={}){let o="";n==="plain"?o="pl":n==="phrase"?o="ph":n==="websearch"&&(o="w");const a=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${o}fts${a}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const n=t?`${t}.or`:"or";return this.url.searchParams.append(n,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},Aw=class{constructor(r,{headers:e={},schema:t,fetch:n}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,e){const{head:t=!1,count:n}=e??{},o=t?"HEAD":"GET";let a=!1;const l=(r??"*").split("").map(p=>/\s/.test(p)&&!a?"":(p==='"'&&(a=!a),p)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),n&&d.append("Prefer",`count=${n}`),new du({method:o,url:c,headers:d,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var n;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),t||l.append("Prefer","missing=default"),Array.isArray(r)){const c=r.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(c.length>0){const d=[...new Set(c)].map(p=>`"${p}"`);a.searchParams.set("columns",d.join(","))}}return new du({method:o,url:a,headers:l,schema:this.schema,body:r,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:n,defaultToNull:o=!0}={}){var a;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),o||d.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);c.searchParams.set("columns",v.join(","))}}return new du({method:l,url:c,headers:d,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(r,{count:e}={}){var t;const n="PATCH",{url:o,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new du({method:n,url:o,headers:a,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE",{url:n,headers:o}=this.cloneRequestState();return r&&o.append("Prefer",`count=${r}`),new du({method:t,url:n,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Ew=class Vv{constructor(e,{headers:t={},schema:n,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Aw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Vv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:o=!1,count:a}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let p;const v=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(v)),y=n&&Object.values(t).some(v);y?(c="POST",p=t):n||o?(c=n?"HEAD":"GET",Object.entries(t).filter(([h,A])=>A!==void 0).map(([h,A])=>[h,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([h,A])=>{d.searchParams.append(h,A)})):(c="POST",p=t);const S=new Headers(this.headers);return y?S.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&S.set("Prefer",`count=${a}`),new du({method:c,url:d,headers:S,schema:this.schemaName,body:p,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class Cw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const n=t.versions;if(n&&n.node){const o=n.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const jw="2.90.1",Lw=`realtime-js/${jw}`,Hv="1.0.0",Pw="2.0.0",b0=Hv,Qp=1e4,Tw=1e3,Ow=100;var Nl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Nl||(Nl={}));var qn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(qn||(qn={}));var uo;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(uo||(uo={}));var Zp;(function(r){r.websocket="websocket"})(Zp||(Zp={}));var hc;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(hc||(hc={}));class Rw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const o=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var t,n;const o=(n=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,n){var o,a;const l=e.topic,c=(o=e.ref)!==null&&o!==void 0?o:"",d=(a=e.join_ref)!==null&&a!==void 0?a:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+p.length+y.length,h=new ArrayBuffer(this.HEADER_LENGTH+S);let A=new DataView(h),k=0;A.setUint8(k++,this.KINDS.userBroadcastPush),A.setUint8(k++,d.length),A.setUint8(k++,c.length),A.setUint8(k++,l.length),A.setUint8(k++,p.length),A.setUint8(k++,y.length),A.setUint8(k++,t),Array.from(d,j=>A.setUint8(k++,j.charCodeAt(0))),Array.from(c,j=>A.setUint8(k++,j.charCodeAt(0))),Array.from(l,j=>A.setUint8(k++,j.charCodeAt(0))),Array.from(p,j=>A.setUint8(k++,j.charCodeAt(0))),Array.from(y,j=>A.setUint8(k++,j.charCodeAt(0)));var E=new Uint8Array(h.byteLength+n.byteLength);return E.set(new Uint8Array(h),0),E.set(new Uint8Array(n),h.byteLength),E.buffer}decode(e,t){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return t(n)}if(typeof e=="string"){const n=JSON.parse(e),[o,a,l,c,d]=n;return t({join_ref:o,ref:a,topic:l,event:c,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),o=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,o)}}_decodeUserBroadcast(e,t,n){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+4;const p=n.decode(e.slice(d,d+o));d=d+o;const v=n.decode(e.slice(d,d+a));d=d+a;const y=n.decode(e.slice(d,d+l));d=d+l;const S=e.slice(d,e.byteLength),h=c===this.JSON_ENCODING?JSON.parse(n.decode(S)):S,A={type:this.BROADCAST_EVENT,event:v,payload:h};return l>0&&(A.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>t.includes(n)))}}class Gv{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ur;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ur||(Ur={}));const x0=(r,e,t={})=>{var n;const o=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=Iw(l,r,e,o),a),{}):{}},Iw=(r,e,t,n)=>{const o=e.find(c=>c.name===r),a=o==null?void 0:o.type,l=t[r];return a&&!n.includes(a)?Kv(a,l):em(l)},Kv=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Bw(e,t)}switch(r){case Ur.bool:return Dw(e);case Ur.float4:case Ur.float8:case Ur.int2:case Ur.int4:case Ur.int8:case Ur.numeric:case Ur.oid:return Fw(e);case Ur.json:case Ur.jsonb:return Mw(e);case Ur.timestamp:return Uw(e);case Ur.abstime:case Ur.date:case Ur.daterange:case Ur.int4range:case Ur.int8range:case Ur.money:case Ur.reltime:case Ur.text:case Ur.time:case Ur.timestamptz:case Ur.timetz:case Ur.tsrange:case Ur.tstzrange:return em(e);default:return em(e)}},em=r=>r,Dw=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Fw=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Mw=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},Bw=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let a;const l=r.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Kv(e,c))}return r},Uw=r=>typeof r=="string"?r.replace(" ","T"):r,Jv=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cp{constructor(e,t,n={},o=Qp){this.channel=e,this.event=t,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(_0||(_0={}));class pd{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pd.syncState(this.state,o,a,l),this.pendingDiffs.forEach(d=>{this.state=pd.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=pd.syncDiff(this.state,o,a,l),c())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,o){const a=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(a,(p,v)=>{l[p]||(d[p]=v)}),this.map(l,(p,v)=>{const y=a[p];if(y){const S=v.map(E=>E.presence_ref),h=y.map(E=>E.presence_ref),A=v.filter(E=>h.indexOf(E.presence_ref)<0),k=y.filter(E=>S.indexOf(E.presence_ref)<0);A.length>0&&(c[p]=A),k.length>0&&(d[p]=k)}else c[p]=v}),this.syncDiff(a,{joins:c,leaves:d},n,o)}static syncDiff(e,t,n,o){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(a,(c,d)=>{var p;const v=(p=e[c])!==null&&p!==void 0?p:[];if(e[c]=this.cloneDeep(d),v.length>0){const y=e[c].map(h=>h.presence_ref),S=v.filter(h=>y.indexOf(h.presence_ref)<0);e[c].unshift(...S)}n(c,v,d)}),this.map(l,(c,d)=>{let p=e[c];if(!p)return;const v=d.map(y=>y.presence_ref);p=p.filter(y=>v.indexOf(y.presence_ref)<0),e[c]=p,o(c,p,d),p.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const o=e[n];return"metas"in o?t[n]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[n]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(S0||(S0={}));var md;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(md||(md={}));var La;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(La||(La={}));class gu{constructor(e,t={config:{}},n){var o,a;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new cp(this,uo.join,this.params,this.timeout),this.rejoinTimer=new Gv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uo.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new pd(this),this.broadcastEndpointURL=Jv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==qn.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,p=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[md.PRESENCE]&&this.bindings[md.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},S={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:v}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(La.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(La.CLOSED)),this.updateJoinPayload(Object.assign({config:S},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:h})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){e==null||e(La.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,E=(A=k==null?void 0:k.length)!==null&&A!==void 0?A:0,j=[];for(let C=0;C<E;C++){const P=k[C],{filter:{event:R,schema:U,table:oe,filter:Q}}=P,W=h&&h[C];if(W&&W.event===R&&gu.isFilterValueEqual(W.schema,U)&&gu.isFilterValueEqual(W.table,oe)&&gu.isFilterValueEqual(W.filter,Q))j.push(Object.assign(Object.assign({},P),{id:W.id}));else{this.unsubscribe(),this.state=qn.errored,e==null||e(La.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(La.SUBSCRIBED);return}}).receive("error",h=>{this.state=qn.errored,e==null||e(La.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(La.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===qn.joined&&e===md.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){var o;if(t==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const p=await c.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var n,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(uo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new cp(this,uo.leave,{},e),n.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qn.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const o=new AbortController,a=setTimeout(()=>o.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(a),l}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new cp(this,e,t,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Ow){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var o,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:p,join:v}=uo;if(n&&[c,d,p,v].indexOf(l)>=0&&n!==this._joinRef())return;let S=this._onMessage(l,t,n);if(t&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var A,k,E;return((A=h.filter)===null||A===void 0?void 0:A.event)==="*"||((E=(k=h.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(h=>h.callback(S,n)):(a=this.bindings[l])===null||a===void 0||a.filter(h=>{var A,k,E,j,C,P,R,U;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in h){const oe=h.id,Q=(A=h.filter)===null||A===void 0?void 0:A.event;return oe&&((k=t.ids)===null||k===void 0?void 0:k.includes(oe))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))&&(!(!((j=h.filter)===null||j===void 0)&&j.table)||h.filter.table===((C=t.data)===null||C===void 0?void 0:C.table))}else{const oe=(R=(P=h==null?void 0:h.filter)===null||P===void 0?void 0:P.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return oe==="*"||oe===((U=t==null?void 0:t.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===l}).map(h=>{if(typeof S=="object"&&"ids"in S){const A=S.data,{schema:k,table:E,commit_timestamp:j,type:C,errors:P}=A;S=Object.assign(Object.assign({},{schema:k,table:E,commit_timestamp:j,eventType:C,new:{},old:{},errors:P}),this._getPayloadRecords(A))}h.callback(S,n)})}_isClosed(){return this.state===qn.closed}_isJoined(){return this.state===qn.joined}_isJoining(){return this.state===qn.joining}_isLeaving(){return this.state===qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const o=e.toLocaleLowerCase(),a={type:o,filter:t,callback:n};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&gu.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(uo.close,{},e)}_onError(e){this._on(uo.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=x0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=x0(e.columns,e.old_record)),t}}const up=()=>{},ph={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zw=[1e3,2e3,5e3,1e4],qw=1e4,$w=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ww{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qp,this.transport=null,this.heartbeatIntervalMs=ph.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=up,this.ref=0,this.reconnectTimer=null,this.vsn=b0,this.logger=up,this.conn=null,this.sendBuffer=[],this.serializer=new Rw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((n=t==null?void 0:t.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Zp.websocket}`,this.httpEndpoint=Jv(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nl.connecting:return hc.Connecting;case Nl.open:return hc.Open;case Nl.closing:return hc.Closing;default:return hc.Closed}}isConnected(){return this.connectionState()===hc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===n);if(o)return o;{const a=new gu(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:n,payload:o,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${n} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Tw,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},ph.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:o,payload:a,ref:l}=t,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${o} ${c}`.trim(),a),this.channels.filter(p=>p._isMember(n)).forEach(p=>p._trigger(o,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Nl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nl.open||this.conn.readyState===Nl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(uo.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${n}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([$w],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(o=>{const a={access_token:t,version:Lw};t&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(uo.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Gv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ph.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,o,a,l,c,d,p,v,y,S,h;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Qp,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:ph.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:up,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:b0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(A=>zw[A-1]||qw),this.vsn){case Hv:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((A,k)=>k(JSON.stringify(A))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((A,k)=>k(JSON.parse(A)));break;case Pw:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var yd=class extends Error{constructor(r,e){var t;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Vw(r,e,t){const n=new URL(e,r);if(t)for(const[o,a]of Object.entries(t))a!==void 0&&n.searchParams.set(o,a);return n.toString()}async function Hw(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function Gw(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:n,query:o,body:a,headers:l}){const c=Vw(r.baseUrl,n,o),d=await Hw(r.auth),p=await e(c,{method:t,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),v=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),S=y&&v?JSON.parse(v):v;if(!p.ok){const h=y?S:void 0,A=h==null?void 0:h.error;throw new yd((A==null?void 0:A.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:h})}return{status:p.status,headers:p.headers,data:S}}}}function mh(r){return r.join("")}var Kw=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:mh(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mh(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mh(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mh(r.namespace)}`}),!0}catch(e){if(e instanceof yd&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof yd&&t.status===409)return;throw t}}};function Qc(r){return r.join("")}var Jw=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qc(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qc(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qc(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qc(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qc(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qc(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof yd&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof yd&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},Yw=class{constructor(r){var n;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=Gw({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(n=r.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Kw(this.client,e),this.tableOps=new Jw(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},of=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function on(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Xw=class extends of{constructor(r,e,t){super(r),this.name="StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tm=class extends of{constructor(r,e){super(r),this.name="StorageUnknownError",this.originalError=e}};const Dm=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Qw=()=>Response,rm=r=>{if(Array.isArray(r))return r.map(t=>rm(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const o=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=rm(n)}),e},Zw=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},eb=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function wd(r){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(r)}function tb(r,e){if(wd(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function rb(r){var e=tb(r,"string");return wd(e)=="symbol"?e:e+""}function nb(r,e,t){return(e=rb(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function k0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function Lt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k0(Object(t),!0).forEach(function(n){nb(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):k0(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const dp=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},ib=async(r,e,t)=>{r instanceof await Qw()&&!(t!=null&&t.noResolveJson)?r.json().then(n=>{const o=r.status||500,a=(n==null?void 0:n.statusCode)||o+"";e(new Xw(dp(n),o,a))}).catch(n=>{e(new tm(dp(n),n))}):e(new tm(dp(r),r))},sb=(r,e,t,n)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!n?o:(Zw(n)?(o.headers=Lt({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(n)):o.body=n,e!=null&&e.duplex&&(o.duplex=e.duplex),Lt(Lt({},o),t))};async function Cd(r,e,t,n,o,a){return new Promise((l,c)=>{r(t,sb(e,n,o,a)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>ib(d,c,n))})}async function bd(r,e,t,n){return Cd(r,"GET",e,t,n)}async function co(r,e,t,n,o){return Cd(r,"POST",e,n,o,t)}async function nm(r,e,t,n,o){return Cd(r,"PUT",e,n,o,t)}async function ob(r,e,t,n){return Cd(r,"HEAD",e,Lt(Lt({},t),{},{noResolveJson:!0}),n)}async function Fm(r,e,t,n,o){return Cd(r,"DELETE",e,n,o,t)}var ab=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(on(e))return{data:null,error:e};throw e}}};let Yv;Yv=Symbol.toStringTag;var lb=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[Yv]="BlobDownloadBuilder",this.promise=null}asStream(){return new ab(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(on(e))return{data:null,error:e};throw e}}};const cb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ub=class{constructor(r,e={},t,n){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.bucketId=t,this.fetch=Dm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,e,t,n){var o=this;try{let a;const l=Lt(Lt({},N0),n);let c=Lt(Lt({},o.headers),r==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&t instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",o.encodeMetadata(d)),a.append("",t)):typeof FormData<"u"&&t instanceof FormData?(a=t,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(d))):(a=t,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(c=Lt(Lt({},c),n.headers));const p=o._removeEmptyFolders(e),v=o._getFinalPath(p),y=await(r=="PUT"?nm:co)(o.fetch,`${o.url}/object/${v}`,a,Lt({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(on(a))return{data:null,error:a};throw a}}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,n){var o=this;const a=o._removeEmptyFolders(r),l=o._getFinalPath(a),c=new URL(o.url+`/object/upload/sign/${l}`);c.searchParams.set("token",e);try{let d;const p=Lt({upsert:N0.upsert},n),v=Lt(Lt({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&t instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",t)):typeof FormData<"u"&&t instanceof FormData?(d=t,d.append("cacheControl",p.cacheControl)):(d=t,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:a,fullPath:(await nm(o.fetch,c.toString(),d,{headers:v})).Key},error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(on(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(r,e){var t=this;try{let n=t._getFinalPath(r);const o=Lt({},t.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const a=await co(t.fetch,`${t.url}/object/upload/sign/${n}`,{},{headers:o}),l=new URL(t.url+a.url),c=l.searchParams.get("token");if(!c)throw new of("No token returned by API");return{data:{signedUrl:l.toString(),path:r,token:c},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var n=this;try{return{data:await co(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(on(o))return{data:null,error:o};throw o}}async copy(r,e,t){var n=this;try{return{data:{path:(await co(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:n.headers})).Key},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(on(o))return{data:null,error:o};throw o}}async createSignedUrl(r,e,t){var n=this;try{let o=n._getFinalPath(r),a=await co(n.fetch,`${n.url}/object/sign/${o}`,Lt({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:n.headers});const l=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(on(o))return{data:null,error:o};throw o}}async createSignedUrls(r,e,t){var n=this;try{const o=await co(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:r},{headers:n.headers}),a=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{data:o.map(l=>Lt(Lt({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${a}`):null})),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(on(o))return{data:null,error:o};throw o}}download(r,e){const t=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=n?`?${n}`:"",a=this._getFinalPath(r),l=()=>bd(this.fetch,`${this.url}/${t}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new lb(l,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);try{return{data:rm(await bd(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await ob(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(on(n)&&n instanceof tm){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}}getPublicUrl(r,e){const t=this._getFinalPath(r),n=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&n.push(o);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${t}${c}`)}}}async remove(r){var e=this;try{return{data:await Fm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(on(t))return{data:null,error:t};throw t}}async list(r,e,t){var n=this;try{const o=Lt(Lt(Lt({},cb),e),{},{prefix:r||""});return{data:await co(n.fetch,`${n.url}/object/list/${n.bucketId}`,o,{headers:n.headers},t),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(on(o))return{data:null,error:o};throw o}}async listV2(r,e){var t=this;try{const n=Lt({},r);return{data:await co(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,n,{headers:t.headers},e),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const Xv="2.90.1",Qv={"X-Client-Info":`storage-js/${Xv}`};var db=class{constructor(r,e={},t,n){this.shouldThrowOnError=!1;const o=new URL(r);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Lt(Lt({},Qv),e),this.fetch=Dm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var e=this;try{const t=e.listBucketOptionsToQueryString(r);return{data:await bd(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(on(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await bd(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(on(t))return{data:null,error:t};throw t}}async createBucket(r,e={public:!1}){var t=this;try{return{data:await co(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async updateBucket(r,e){var t=this;try{return{data:await nm(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}}async emptyBucket(r){var e=this;try{return{data:await co(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(on(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Fm(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(on(t))return{data:null,error:t};throw t}}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},hb=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Lt(Lt({},Qv),e),this.fetch=Dm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await co(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(on(t))return{data:null,error:t};throw t}}async listBuckets(r){var e=this;try{const t=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&t.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&t.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&t.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&t.set("sortOrder",r.sortOrder),r!=null&&r.search&&t.set("search",r.search);const n=t.toString(),o=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await bd(e.fetch,o,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(on(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await Fm(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(on(t))return{data:null,error:t};throw t}}from(r){var e=this;if(!eb(r))throw new of("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new Yw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(t,{get(o,a){const l=o[a];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(o,c),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const Mm={"X-Client-Info":`storage-js/${Xv}`,"Content-Type":"application/json"};var Zv=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ys(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var hp=class extends Zv{constructor(r,e,t){super(r),this.name="StorageVectorsApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fb=class extends Zv{constructor(r,e){super(r),this.name="StorageVectorsUnknownError",this.originalError=e}};const Bm=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),pb=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},A0=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),mb=async(r,e,t)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(t!=null&&t.noResolveJson)){const n=r.status||500,o=r;if(typeof o.json=="function")o.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";e(new hp(A0(a),n,l))}).catch(()=>{const a=n+"";e(new hp(o.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";e(new hp(o.statusText||`HTTP ${n} error`,n,a))}}else e(new fb(A0(r),r))},gb=(r,e,t,n)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return n?(pb(n)?(o.headers=Lt({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(n)):o.body=n,Lt(Lt({},o),t)):o};async function vb(r,e,t,n,o,a){return new Promise((l,c)=>{r(t,gb(e,n,o,a)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>mb(d,c,n))})}async function ws(r,e,t,n,o){return vb(r,"POST",e,n,o,t)}var yb=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Lt(Lt({},Mm),e),this.fetch=Bm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var e=this;try{return{data:await ws(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async getIndex(r,e){var t=this;try{return{data:await ws(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ys(n))return{data:null,error:n};throw n}}async listIndexes(r){var e=this;try{return{data:await ws(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async deleteIndex(r,e){var t=this;try{return{data:await ws(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ys(n))return{data:null,error:n};throw n}}},wb=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Lt(Lt({},Mm),e),this.fetch=Bm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var e=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ws(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async getVectors(r){var e=this;try{return{data:await ws(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async listVectors(r){var e=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await ws(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async queryVectors(r){var e=this;try{return{data:await ws(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async deleteVectors(r){var e=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ws(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}},bb=class{constructor(r,e={},t){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Lt(Lt({},Mm),e),this.fetch=Bm(t)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var e=this;try{return{data:await ws(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async getBucket(r){var e=this;try{return{data:await ws(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async listBuckets(r={}){var e=this;try{return{data:await ws(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}async deleteBucket(r){var e=this;try{return{data:await ws(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{},error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ys(t))return{data:null,error:t};throw t}}},xb=class extends bb{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new _b(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},_b=class extends yb{constructor(r,e,t,n){super(r,e,n),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,Lt(Lt({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,Lt(Lt({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new Sb(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Sb=class extends wb{constructor(r,e,t,n,o){super(r,e,o),this.vectorBucketName=t,this.indexName=n}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,Lt(Lt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,Lt(Lt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,Lt(Lt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,Lt(Lt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,Lt(Lt({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},kb=class extends db{constructor(r,e={},t,n){super(r,e,t,n)}from(r){return new ub(this.url,this.headers,r,this.fetch)}get vectors(){return new xb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hb(this.url+"/iceberg",this.headers,this.fetch)}};const e2="2.90.1",hu=30*1e3,im=3,fp=im*hu,Nb="http://localhost:9999",Ab="supabase.auth.token",Eb={"X-Client-Info":`gotrue-js/${e2}`},sm="X-Supabase-Api-Version",t2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jb=600*1e3;class xd extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function xt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Lb extends xd{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Pb(r){return xt(r)&&r.name==="AuthApiError"}class fc extends xd{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ba extends xd{constructor(e,t,n,o){super(e,n,o),this.name=t,this.status=n}}class gs extends Ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tb(r){return xt(r)&&r.name==="AuthSessionMissingError"}class Zc extends Ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gh extends Ba{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vh extends Ba{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ob(r){return xt(r)&&r.name==="AuthImplicitGrantRedirectError"}class E0 extends Ba{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rb extends Ba{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class om extends Ba{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function pp(r){return xt(r)&&r.name==="AuthRetryableFetchError"}class C0 extends Ba{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class am extends Ba{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),j0=` 	
\r=`.split(""),Ib=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<j0.length;e+=1)r[j0[e].charCodeAt(0)]=-2;for(let e=0;e<Wh.length;e+=1)r[Wh[e].charCodeAt(0)]=e;return r})();function L0(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Wh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(Wh[n]),e.queuedBits-=6}}function r2(r,e,t){const n=Ib[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function P0(r){const e=[],t=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{Mb(l,n,t)};for(let l=0;l<r.length;l+=1)r2(r.charCodeAt(l),o,a);return e.join("")}function Db(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Fb(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}Db(n,e)}}function Mb(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function yu(r){const e=[],t={queue:0,queuedBits:0},n=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)r2(r.charCodeAt(o),t,n);return new Uint8Array(e)}function Bb(r){const e=[];return Fb(r,t=>e.push(t)),new Uint8Array(e)}function mc(r){const e=[],t={queue:0,queuedBits:0},n=o=>{e.push(o)};return r.forEach(o=>L0(o,t,n)),L0(null,t,n),e.join("")}function Ub(r){return Math.round(Date.now()/1e3)+r}function zb(){return Symbol("auth-callback")}const ii=()=>typeof window<"u"&&typeof document<"u",ac={tested:!1,writable:!1},n2=()=>{if(!ii())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ac.tested)return ac.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ac.tested=!0,ac.writable=!0}catch{ac.tested=!0,ac.writable=!1}return ac.writable};function qb(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return t.searchParams.forEach((n,o)=>{e[o]=n}),e}const i2=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),$b=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",fu=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},lc=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ni=async(r,e)=>{await r.removeItem(e)};class af{constructor(){this.promise=new af.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}af.promiseConstructor=Promise;function mp(r){const e=r.split(".");if(e.length!==3)throw new am("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Cb.test(e[n]))throw new am("JWT not in base64url format");return{header:JSON.parse(P0(e[0])),payload:JSON.parse(P0(e[1])),signature:yu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wb(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Vb(r,e){return new Promise((n,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await r(a);if(!e(a,null,l)){n(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function Hb(r){return("0"+r.toString(16)).substr(-2)}function Gb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let o="";for(let a=0;a<56;a++)o+=t.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(e),Array.from(e,Hb).join("")}async function Kb(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(n);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function Jb(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Kb(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eu(r,e,t=!1){const n=Gb();let o=n;t&&(o+="/PASSWORD_RECOVERY"),await fu(r,`${e}-code-verifier`,o);const a=await Jb(n);return[a,n===a?"plain":"s256"]}const Yb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xb(r){const e=r.headers.get(sm);if(!e||!e.match(Yb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Qb(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Zb(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ex=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tu(r){if(!ex.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gp(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tx(r,e){return new Proxy(r,{get:(t,n,o)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,n,o)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,n,o)}})}function T0(r){return JSON.parse(JSON.stringify(r))}const uc=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),rx=[502,503,504];async function O0(r){var e;if(!$b(r))throw new om(uc(r),0);if(rx.includes(r.status))throw new om(uc(r),r.status);let t;try{t=await r.json()}catch(a){throw new fc(uc(a),a)}let n;const o=Xb(r);if(o&&o.getTime()>=t2["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new C0(uc(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gs}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new C0(uc(t),r.status,t.weak_password.reasons);throw new Lb(uc(t),r.status||500,n)}const nx=(r,e,t,n)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),t))};async function jt(r,e,t,n){var o;const a=Object.assign({},n==null?void 0:n.headers);a[sm]||(a[sm]=t2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await ix(r,e,t+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function ix(r,e,t,n,o,a){const l=nx(e,n,o,a);let c;try{c=await r(t,Object.assign({},l))}catch(d){throw console.error(d),new om(uc(d),0)}if(c.ok||await O0(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(d){await O0(d)}}function ao(r){var e;let t=null;ax(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Ub(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function R0(r){const e=ao(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Al(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function sx(r){return{data:r,error:null}}function ox(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:o,verification_type:a}=r,l=Eu(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:n,redirect_to:o,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function I0(r){return r}function ax(r){return r.access_token&&r.refresh_token&&r.expires_in}const vp=["global","local","others"];class lx{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=i2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=vp[0]){if(vp.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vp.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Al})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Eu(e,["options"]),o=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ox,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(xt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Al})}catch(t){if(xt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,o,a,l,c,d;try{const p={nextPage:null,lastPage:0,total:0},v=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:I0});if(v.error)throw v.error;const y=await v.json(),S=(l=v.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(d=(c=v.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return h.length>0&&(h.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(A.split(";")[1].split("=")[1]);p[`${E}Page`]=k}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(xt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){tu(e);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Al})}catch(t){if(xt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){tu(e);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Al})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){tu(e);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Al})}catch(n){if(xt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){tu(e.userId);try{const{data:t,error:n}=await jt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:n}}catch(t){if(xt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){tu(e.userId),tu(e.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,o,a,l,c,d;try{const p={nextPage:null,lastPage:0,total:0},v=await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:I0});if(v.error)throw v.error;const y=await v.json(),S=(l=v.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(d=(c=v.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return h.length>0&&(h.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(A.split(";")[1].split("=")[1]);p[`${E}Page`]=k}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(xt(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(xt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(xt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await jt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await jt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(xt(t))return{data:null,error:t};throw t}}}function D0(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const ru={debug:!!(globalThis&&n2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cx extends s2{}async function ux(r,e,t){ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ru.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await t()}finally{ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new cx(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ru.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function dx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function o2(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function hx(r){return parseInt(r,16)}function fx(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function px(r){var e;const{chainId:t,domain:n,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:p,scheme:v,uri:y,version:S}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const h=o2(r.address),A=v?`${v}://${n}`:n,k=r.statement?`${r.statement}
`:"",E=`${A} wants you to sign in with your Ethereum account:
${h}

${k}`;let j=`URI: ${y}
Version: ${S}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(j+=`
Expiration Time: ${o.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),p){let C=`
Resources:`;for(const P of p){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);C+=`
- ${P}`}j+=C}return`${E}
${j}`}class Pn extends Error{constructor({message:e,code:t,cause:n,name:o}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=o??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class Vh extends Pn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function mx({error:r,options:e}){var t,n,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Pn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(a2(l)){if(a.rp.id!==l)return new Pn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function gx({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Pn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const n=window.location.hostname;if(a2(n)){if(t.rpId!==n)return new Pn({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class vx{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yx=new vx;function wx(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:n}=r,o=Eu(r,["challenge","user","excludeCredentials"]),a=yu(e).buffer,l=Object.assign(Object.assign({},t),{id:yu(t.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:a,user:l});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:yu(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function bx(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,n=Eu(r,["challenge","allowCredentials"]),o=yu(e).buffer,a=Object.assign(Object.assign({},n),{challenge:o});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:yu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function xx(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:mc(new Uint8Array(r.response.attestationObject)),clientDataJSON:mc(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _x(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,n=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:mc(new Uint8Array(o.authenticatorData)),clientDataJSON:mc(new Uint8Array(o.clientDataJSON)),signature:mc(new Uint8Array(o.signature)),userHandle:o.userHandle?mc(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a2(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function F0(){var r,e;return!!(ii()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Sx(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vh("Browser returned unexpected credential type",e)}:{data:null,error:new Vh("Empty credential response",e)}}catch(e){return{data:null,error:mx({error:e,options:r})}}}async function kx(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vh("Browser returned unexpected credential type",e)}:{data:null,error:new Vh("Empty credential response",e)}}catch(e){return{data:null,error:gx({error:e,options:r})}}}const Nx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ax={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hh(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of r)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))n[a]=l;else if(t(l))n[a]=l;else if(e(l)){const c=n[a];e(c)?n[a]=Hh(c,l):n[a]=Hh(l)}else n[a]=l}return n}function Ex(r,e){return Hh(Nx,r,e||{})}function Cx(r,e){return Hh(Ax,r,e||{})}class jx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:o},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const d=o??yx.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${n}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{const p=Ex(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:v,error:y}=await Sx({publicKey:p,signal:d});return v?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const p=Cx(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:v,error:y}=await kx(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:d}));return v?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(l){return xt(l)?{data:null,error:l}:{data:null,error:new fc("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new xd("rpId is required for WebAuthn authentication")};try{if(!F0())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:o},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return xt(l)?{data:null,error:l}:{data:null,error:new fc("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new xd("rpId is required for WebAuthn registration")};try{if(!F0())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:c};const{data:d,error:p}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:o},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(l){return xt(l)?{data:null,error:l}:{data:null,error:new fc("Unexpected error in register",l)}}}}dx();const Lx={url:Nb,storageKey:Ab,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function M0(r,e,t){return await t()}const nu={};class _d{get jwks(){var e,t;return(t=(e=nu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){nu[this.storageKey]=Object.assign(Object.assign({},nu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=nu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nu[this.storageKey]=Object.assign(Object.assign({},nu[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Lx),e);if(this.storageKey=a.storageKey,this.instanceID=(t=_d.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,_d.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&ii()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new lx({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=i2(a.fetch),this.lock=a.lock||M0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&ii()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ux:this.lock=M0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:n2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=D0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=D0(this.memoryStorage)),ii()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${e2}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},n="none";if(ii()&&(t=qb(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),ii()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ob(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return xt(t)?this._returnResult({error:t}):this._returnResult({error:new fc("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,o;try{const a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:ao}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(a){if(xt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,n,o;try{let a;if("email"in e){const{email:v,password:y,options:S}=e;let h=null,A=null;this.flowType==="pkce"&&([h,A]=await eu(this.storage,this.storageKey)),a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:v,password:y,data:(t=S==null?void 0:S.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:h,code_challenge_method:A},xform:ao})}else if("phone"in e){const{phone:v,password:y,options:S}=e;a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},channel:(o=S==null?void 0:S.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:ao})}else throw new gh("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return await ni(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(a){if(await ni(this.storage,`${this.storageKey}-code-verifier`),xt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:R0})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:R0})}else throw new gh("You must provide either an email or phone number and a password");const{data:n,error:o}=t;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!n||!n.session||!n.user){const a=new Zc;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(t){if(xt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,o,a,l,c,d,p,v,y,S;let h,A;if("message"in e)h=e.message,A=e.signature;else{const{chain:k,wallet:E,statement:j,options:C}=e;let P;if(ii())if(typeof E=="object")P=E;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")P=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=E}const R=new URL((t=C==null?void 0:C.url)!==null&&t!==void 0?t:window.location.href),U=await P.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const oe=o2(U[0]);let Q=(n=C==null?void 0:C.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!Q){const H=await P.request({method:"eth_chainId"});Q=hx(H)}const W={domain:R.host,address:oe,statement:j,uri:R.href,version:"1",chainId:Q,nonce:(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=C==null?void 0:C.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=C==null?void 0:C.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=C==null?void 0:C.signInWithEthereum)===null||v===void 0?void 0:v.resources};h=px(W),A=await P.request({method:"personal_sign",params:[fx(h),oe]})}try{const{data:k,error:E}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:A},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ao});if(E)throw E;if(!k||!k.session||!k.user){const j=new Zc;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(xt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var t,n,o,a,l,c,d,p,v,y,S,h;let A,k;if("message"in e)A=e.message,k=e.signature;else{const{chain:E,wallet:j,statement:C,options:P}=e;let R;if(ii())if(typeof j=="object")R=j;else{const oe=window;if("solana"in oe&&typeof oe.solana=="object"&&("signIn"in oe.solana&&typeof oe.solana.signIn=="function"||"signMessage"in oe.solana&&typeof oe.solana.signMessage=="function"))R=oe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=j}const U=new URL((t=P==null?void 0:P.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in R&&R.signIn){const oe=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),C?{statement:C}:null));let Q;if(Array.isArray(oe)&&oe[0]&&typeof oe[0]=="object")Q=oe[0];else if(oe&&typeof oe=="object"&&"signedMessage"in oe&&"signature"in oe)Q=oe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)A=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),k=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${U.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(o=(n=P==null?void 0:P.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=P==null?void 0:P.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((y=(v=P==null?void 0:P.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...P.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const oe=await R.signMessage(new TextEncoder().encode(A),"utf8");if(!oe||!(oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=oe}}try{const{data:E,error:j}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:mc(k)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ao});if(j)throw j;if(!E||!E.session||!E.user){const C=new Zc;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:j})}catch(E){if(xt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const t=await lc(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(t??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Rb;const{data:a,error:l}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ao});if(await ni(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new Zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(await ni(this.storage,`${this.storageKey}-code-verifier`),xt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:o,access_token:a,nonce:l}=e,c=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ao}),{data:d,error:p}=c;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const v=new Zc;return this._returnResult({data:{user:null,session:null},error:v})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(t){if(xt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,o,a,l;try{if("email"in e){const{email:c,options:d}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await eu(this.storage,this.storageKey));const{error:y}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:c,options:d}=e,{data:p,error:v}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new gh("You must provide either an email or phone number.")}catch(c){if(await ni(this.storage,`${this.storageKey}-code-verifier`),xt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,n;try{let o,a;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:ao});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,p=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(xt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var t,n,o,a,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await eu(this.storage,this.storageKey));const p=await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:sx});return!((a=p.data)===null||a===void 0)&&a.url&&ii()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(c){if(await ni(this.storage,`${this.storageKey}-code-verifier`),xt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new gs;const{error:o}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(xt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:o,options:a}=e,{error:l}=await jt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:o,options:a}=e,{data:l,error:c}=await jt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new gh("You must provide either an email or phone number and a type")}catch(t){if(xt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<fp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await lc(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=gp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=tx(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Al}):await this._useSession(async t=>{var n,o,a;const{data:l,error:c}=t;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gs}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Al})})}catch(t){if(xt(t))return Tb(t)&&(await this._removeSession(),await ni(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:o,error:a}=n;if(a)throw a;if(!o.session)throw new gs;const l=o.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await eu(this.storage,this.storageKey));const{data:p,error:v}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Al});if(v)throw v;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await ni(this.storage,`${this.storageKey}-code-verifier`),xt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gs;const t=Date.now()/1e3;let n=t,o=!0,a=null;const{payload:l}=mp(e.access_token);if(l.exp&&(n=l.exp,o=n<=t),o){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(xt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gs;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(xt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!ii())throw new vh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new E0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new E0("No code detected.");const{data:C,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:p}=e;if(!a||!c||!l||!p)throw new vh("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(c);let S=v+y;d&&(S=parseInt(d));const h=S-v;h*1e3<=hu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${y}s`);const A=S-y;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,S,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,S,v);const{data:k,error:E}=await this._getUser(a);if(E)throw E;const j={provider_token:n,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:S,refresh_token:l,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(n){if(xt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await lc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:o,error:a}=t;if(a)return this._returnResult({error:a});const l=(n=o.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(Pb(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await ni(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=zb(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,o;try{const{data:{session:a},error:l}=t;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await eu(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await ni(this.storage,`${this.storageKey}-code-verifier`),xt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(xt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:o}=await this._useSession(async a=>{var l,c,d,p,v;const{data:y,error:S}=a;if(S)throw S;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",h,{headers:this.headers,jwt:(v=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return ii()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(xt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:o,data:{session:a}}=t;if(o)throw o;const{options:l,provider:c,token:d,access_token:p,nonce:v}=e,y=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ao}),{data:S,error:h}=y;return h?this._returnResult({data:{user:null,session:null},error:h}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Zc}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:h}))}catch(o){if(await ni(this.storage,`${this.storageKey}-code-verifier`),xt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,o;const{data:a,error:l}=t;if(l)throw l;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(xt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Vb(async o=>(o>0&&await Wb(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ao})),(o,a)=>{const l=200*Math.pow(2,o);return a&&pp(a)&&Date.now()+l-n<hu})}catch(n){if(this._debug(t,"error",n),xt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),ii()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await lc(this.storage,this.storageKey);if(o&&this.userStorage){let l=await lc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await fu(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:gp()}else if(o&&!o.user&&!o.user){const l=await lc(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(o.user=l.user,await ni(this.storage,this.storageKey+"-user"),await fu(this.storage,this.storageKey,o)):o.user=gp()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const a=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<fp;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${fp}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),pp(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(o.access_token);!c&&(l!=null&&l.user)?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new af;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new gs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),xt(a)){const l={data:null,error:a};return pp(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,n=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ni(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await fu(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const a=T0(o);await fu(this.storage,this.storageKey,a)}else{const o=T0(t);await fu(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ni(this.storage,this.storageKey),await ni(this.storage,this.storageKey+"-code-verifier"),await ni(this.storage,this.storageKey+"-user"),this.userStorage&&await ni(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ii()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-e)/hu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${hu}ms, refresh threshold is ${im} ticks`),o<=im&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof s2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ii()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const o=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await eu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);o.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:o,error:a}=t;return a?this._returnResult({data:null,error:a}):await jt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(xt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,o;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:p}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&d.type==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(xt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?xx(e.webauthn.credential_response):_x(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(t){if(xt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:wx(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:bx(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(xt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=mp(n.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((t=(e=n.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");const p=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;return o?this._returnResult({data:null,error:o}):n?await jt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new gs})})}catch(t){if(xt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new gs});const l=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ii()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(xt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:o},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new gs});const l=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&ii()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(xt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await jt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new gs})})}catch(e){if(xt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:o}=t;return o?this._returnResult({data:null,error:o}):n?(await jt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gs})})}catch(t){if(xt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(c=>c.kid===e);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+jb>o)return n;const{data:a,error:l}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,n=a.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:h,error:A}=await this.getSession();if(A||!h.session)return this._returnResult({data:null,error:A});n=h.session.access_token}const{header:o,payload:a,signature:l,raw:{header:c,payload:d}}=mp(n);t!=null&&t.allowExpired||Qb(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:o,signature:l},error:null}}const v=Zb(o.alg),y=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,l,Bb(`${c}.${d}`)))throw new am("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(n){if(xt(n))return this._returnResult({data:null,error:n});throw n}}}_d.nextInstanceID={};const Px=_d,Tx="2.90.1";let hd="";typeof Deno<"u"?hd="deno":typeof document<"u"?hd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hd="react-native":hd="node";const Ox={"X-Client-Info":`supabase-js-${hd}/${Tx}`},Rx={headers:Ox},Ix={schema:"public"},Dx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fx={};function Sd(r){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(r)}function Mx(r,e){if(Sd(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Bx(r){var e=Mx(r,"string");return Sd(e)=="symbol"?e:e+""}function Ux(r,e,t){return(e=Bx(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function B0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function vn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B0(Object(t),!0).forEach(function(n){Ux(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):B0(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const zx=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),qx=()=>Headers,$x=(r,e,t)=>{const n=zx(t),o=qx();return async(a,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:r;let p=new o(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",r),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),n(a,vn(vn({},l),{},{headers:p}))}};function Wx(r){return r.endsWith("/")?r:r+"/"}function Vx(r,e){var t,n;const{db:o,auth:a,realtime:l,global:c}=r,{db:d,auth:p,realtime:v,global:y}=e,S={db:vn(vn({},d),o),auth:vn(vn({},p),a),realtime:vn(vn({},v),l),storage:{},global:vn(vn(vn({},y),c),{},{headers:vn(vn({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return r.accessToken?S.accessToken=r.accessToken:delete S.accessToken,S}function Hx(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Wx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Gx=class extends Px{constructor(r){super(r)}},Kx=class{constructor(r,e,t){var n,o;this.supabaseUrl=r,this.supabaseKey=e;const a=Hx(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Ix,realtime:Fx,auth:vn(vn({},Dx),{},{storageKey:l}),global:Rx},d=Vx(t??{},c);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=d.auth)!==null&&p!==void 0?p:{},this.headers,d.global.fetch)}this.fetch=$x(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(vn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Ew(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new kb(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new _w(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:n}=await r.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:o,storageKey:a,flowType:l,lock:c,debug:d,throwOnError:p},v,y){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gx({url:this.authUrl.href,headers:vn(vn({},S),v),storageKey:a,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:n,userStorage:o,flowType:l,lock:c,debug:d,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Ww(this.realtimeUrl.href,vn(vn({},r),{},{params:vn(vn({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Jx=(r,e,t)=>new Kx(r,e,t);function Yx(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const e=r.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Yx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Um="jaivoyyymoaugslnxfeb",l2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImphaXZveXl5bW9hdWdzbG54ZmViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4ODc3NTYsImV4cCI6MjA4MzQ2Mzc1Nn0.W5hUxmzmdvlfU4RDzYX4xLu5FO2jgtGJyGuCOLHiiX8",c2=ne.createContext(void 0),ld=Jx(`https://${Um}.supabase.co`,l2),Xx=({children:r})=>{const[e,t]=ne.useState(null),[n,o]=ne.useState(null),[a,l]=ne.useState(!0);ne.useEffect(()=>{(async()=>{try{console.log("Checking for existing session...");const{data:{session:S},error:h}=await ld.auth.getSession();if(h&&console.log("Error getting session:",h),S){console.log("Session found, user:",S.user.email),console.log("Access token present:",!!S.access_token),console.log("Token expires at:",new Date(S.expires_at*1e3).toLocaleString());const A=S.expires_at*1e3,k=Date.now(),E=300*1e3;if(A-k<E){console.log("Token is about to expire, refreshing...");const{data:{session:j},error:C}=await ld.auth.refreshSession();j?(console.log("Token refreshed successfully"),t(j.user),o(j.access_token)):(console.log("Token refresh failed:",C),t(S.user),o(S.access_token))}else t(S.user),o(S.access_token)}else console.log("No active session found")}catch(S){console.log("Session check error:",S)}finally{l(!1)}})();const{data:{subscription:y}}=ld.auth.onAuthStateChange((S,h)=>{var A;console.log("Auth state changed:",S),console.log("New session user:",((A=h==null?void 0:h.user)==null?void 0:A.email)||"none"),console.log("Access token present:",!!(h!=null&&h.access_token)),t((h==null?void 0:h.user)??null),o((h==null?void 0:h.access_token)??null)});return()=>y.unsubscribe()},[]);const c=async(v,y,S,h)=>{try{const A=await fetch(`https://${Um}.supabase.co/functions/v1/server/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l2}`},body:JSON.stringify({email:v,password:y,name:S,companyName:h})}),k=await A.json();if(!A.ok){let E=k.error||"Aanmelden mislukt";throw E.includes("already registered")||E.includes("already exists")?E="Dit e-mailadres is al in gebruik. Probeer in te loggen.":E.includes("password")&&(E="Wachtwoord moet minimaal 6 tekens bevatten."),new Error(E)}await d(v,y)}catch(A){throw console.error("Sign up error:",A),A}},d=async(v,y)=>{var S;try{const{data:h,error:A}=await ld.auth.signInWithPassword({email:v,password:y});if(A)throw A.message.includes("Invalid login credentials")?new Error("Ongeldige inloggegevens. Controleer je e-mail en wachtwoord, of maak eerst een account aan."):new Error(A.message);t(h.user),o(((S=h.session)==null?void 0:S.access_token)??null)}catch(h){throw console.error("Sign in error:",h),h}},p=async()=>{try{await ld.auth.signOut(),t(null),o(null)}catch(v){throw console.error("Sign out error:",v),v}};return w.jsx(c2.Provider,{value:{user:e,accessToken:n,loading:a,signUp:c,signIn:d,signOut:p},children:r})},Wo=()=>{const r=ne.useContext(c2);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r};function U0(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function u2(...r){return e=>{let t=!1;const n=r.map(o=>{const a=U0(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():U0(r[o],null)}}}}function si(...r){return ne.useCallback(u2(...r),r)}var Nu=ne.forwardRef((r,e)=>{const{children:t,...n}=r,o=ne.Children.toArray(t),a=o.find(Zx);if(a){const l=a.props.children,c=o.map(d=>d===a?ne.Children.count(l)>1?ne.Children.only(null):ne.isValidElement(l)?l.props.children:null:d);return w.jsx(lm,{...n,ref:e,children:ne.isValidElement(l)?ne.cloneElement(l,void 0,c):null})}return w.jsx(lm,{...n,ref:e,children:t})});Nu.displayName="Slot";var lm=ne.forwardRef((r,e)=>{const{children:t,...n}=r;if(ne.isValidElement(t)){const o=t_(t),a=e_(n,t.props);return t.type!==ne.Fragment&&(a.ref=e?u2(e,o):o),ne.cloneElement(t,a)}return ne.Children.count(t)>1?ne.Children.only(null):null});lm.displayName="SlotClone";var Qx=({children:r})=>w.jsx(w.Fragment,{children:r});function Zx(r){return ne.isValidElement(r)&&r.type===Qx}function e_(r,e){const t={...e};for(const n in e){const o=r[n],a=e[n];/^on[A-Z]/.test(n)?o&&a?t[n]=(...c)=>{a(...c),o(...c)}:o&&(t[n]=o):n==="style"?t[n]={...o,...a}:n==="className"&&(t[n]=[o,a].filter(Boolean).join(" "))}return{...r,...t}}function t_(r){var n,o;let e=(n=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:n.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function d2(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=d2(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function h2(){for(var r,e,t=0,n="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=d2(r))&&(n&&(n+=" "),n+=e);return n}const z0=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,q0=h2,r_=(r,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return q0(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:a}=e,l=Object.keys(o).map(p=>{const v=t==null?void 0:t[p],y=a==null?void 0:a[p];if(v===null)return null;const S=z0(v)||z0(y);return o[p][S]}),c=t&&Object.entries(t).reduce((p,v)=>{let[y,S]=v;return S===void 0||(p[y]=S),p},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,v)=>{let{class:y,className:S,...h}=v;return Object.entries(h).every(A=>{let[k,E]=A;return Array.isArray(E)?E.includes({...a,...c}[k]):{...a,...c}[k]===E})?[...p,y,S]:p},[]);return q0(r,l,d,t==null?void 0:t.class,t==null?void 0:t.className)},zm="-",n_=r=>{const e=s_(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:l=>{const c=l.split(zm);return c[0]===""&&c.length!==1&&c.shift(),f2(c,e)||i_(l)},getConflictingClassGroupIds:(l,c)=>{const d=t[l]||[];return c&&n[l]?[...d,...n[l]]:d}}},f2=(r,e)=>{var l;if(r.length===0)return e.classGroupId;const t=r[0],n=e.nextPart.get(t),o=n?f2(r.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const a=r.join(zm);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},$0=/^\[(.+)\]$/,i_=r=>{if($0.test(r)){const e=$0.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},s_=r=>{const{theme:e,classGroups:t}=r,n={nextPart:new Map,validators:[]};for(const o in t)cm(t[o],n,o,e);return n},cm=(r,e,t,n)=>{r.forEach(o=>{if(typeof o=="string"){const a=o===""?e:W0(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(o_(o)){cm(o(n),e,t,n);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,l])=>{cm(l,W0(e,a),t,n)})})},W0=(r,e)=>{let t=r;return e.split(zm).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},o_=r=>r.isThemeGetter,a_=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const o=(a,l)=>{t.set(a,l),e++,e>r&&(e=0,n=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return o(a,l),l},set(a,l){t.has(a)?t.set(a,l):o(a,l)}}},um="!",dm=":",l_=dm.length,c_=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=o=>{const a=[];let l=0,c=0,d=0,p;for(let A=0;A<o.length;A++){let k=o[A];if(l===0&&c===0){if(k===dm){a.push(o.slice(d,A)),d=A+l_;continue}if(k==="/"){p=A;continue}}k==="["?l++:k==="]"?l--:k==="("?c++:k===")"&&c--}const v=a.length===0?o:o.substring(d),y=u_(v),S=y!==v,h=p&&p>d?p-d:void 0;return{modifiers:a,hasImportantModifier:S,baseClassName:y,maybePostfixModifierPosition:h}};if(e){const o=e+dm,a=n;n=l=>l.startsWith(o)?a(l.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const o=n;n=a=>t({className:a,parseClassName:o})}return n},u_=r=>r.endsWith(um)?r.substring(0,r.length-1):r.startsWith(um)?r.substring(1):r,d_=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const o=[];let a=[];return n.forEach(l=>{l[0]==="["||e[l]?(o.push(...a.sort(),l),a=[]):a.push(l)}),o.push(...a.sort()),o}},h_=r=>({cache:a_(r.cacheSize),parseClassName:c_(r),sortModifiers:d_(r),...n_(r)}),f_=/\s+/,p_=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:a}=e,l=[],c=r.trim().split(f_);let d="";for(let p=c.length-1;p>=0;p-=1){const v=c[p],{isExternal:y,modifiers:S,hasImportantModifier:h,baseClassName:A,maybePostfixModifierPosition:k}=t(v);if(y){d=v+(d.length>0?" "+d:d);continue}let E=!!k,j=n(E?A.substring(0,k):A);if(!j){if(!E){d=v+(d.length>0?" "+d:d);continue}if(j=n(A),!j){d=v+(d.length>0?" "+d:d);continue}E=!1}const C=a(S).join(":"),P=h?C+um:C,R=P+j;if(l.includes(R))continue;l.push(R);const U=o(j,E);for(let oe=0;oe<U.length;++oe){const Q=U[oe];l.push(P+Q)}d=v+(d.length>0?" "+d:d)}return d};function m_(){let r=0,e,t,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=p2(e))&&(n&&(n+=" "),n+=t);return n}const p2=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=p2(r[n]))&&(t&&(t+=" "),t+=e);return t};function g_(r,...e){let t,n,o,a=l;function l(d){const p=e.reduce((v,y)=>y(v),r());return t=h_(p),n=t.cache.get,o=t.cache.set,a=c,c(d)}function c(d){const p=n(d);if(p)return p;const v=p_(d,t);return o(d,v),v}return function(){return a(m_.apply(null,arguments))}}const zn=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},m2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,g2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v_=/^\d+\/\d+$/,y_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,x_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,__=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,iu=r=>v_.test(r),Kt=r=>!!r&&!Number.isNaN(Number(r)),xl=r=>!!r&&Number.isInteger(Number(r)),yp=r=>r.endsWith("%")&&Kt(r.slice(0,-1)),Ea=r=>y_.test(r),S_=()=>!0,k_=r=>w_.test(r)&&!b_.test(r),v2=()=>!1,N_=r=>x_.test(r),A_=r=>__.test(r),E_=r=>!ct(r)&&!ut(r),C_=r=>Cu(r,b2,v2),ct=r=>m2.test(r),cc=r=>Cu(r,x2,k_),wp=r=>Cu(r,O_,Kt),V0=r=>Cu(r,y2,v2),j_=r=>Cu(r,w2,A_),yh=r=>Cu(r,_2,N_),ut=r=>g2.test(r),cd=r=>ju(r,x2),L_=r=>ju(r,R_),H0=r=>ju(r,y2),P_=r=>ju(r,b2),T_=r=>ju(r,w2),wh=r=>ju(r,_2,!0),Cu=(r,e,t)=>{const n=m2.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},ju=(r,e,t=!1)=>{const n=g2.exec(r);return n?n[1]?e(n[1]):t:!1},y2=r=>r==="position"||r==="percentage",w2=r=>r==="image"||r==="url",b2=r=>r==="length"||r==="size"||r==="bg-size",x2=r=>r==="length",O_=r=>r==="number",R_=r=>r==="family-name",_2=r=>r==="shadow",I_=()=>{const r=zn("color"),e=zn("font"),t=zn("text"),n=zn("font-weight"),o=zn("tracking"),a=zn("leading"),l=zn("breakpoint"),c=zn("container"),d=zn("spacing"),p=zn("radius"),v=zn("shadow"),y=zn("inset-shadow"),S=zn("text-shadow"),h=zn("drop-shadow"),A=zn("blur"),k=zn("perspective"),E=zn("aspect"),j=zn("ease"),C=zn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...R(),ut,ct],oe=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto","contain","none"],W=()=>[ut,ct,d],H=()=>[iu,"full","auto",...W()],se=()=>[xl,"none","subgrid",ut,ct],O=()=>["auto",{span:["full",xl,ut,ct]},xl,ut,ct],F=()=>[xl,"auto",ut,ct],J=()=>["auto","min","max","fr",ut,ct],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],de=()=>["auto",...W()],ye=()=>[iu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...W()],$=()=>[r,ut,ct],he=()=>[...R(),H0,V0,{position:[ut,ct]}],xe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",P_,C_,{size:[ut,ct]}],T=()=>[yp,cd,cc],q=()=>["","none","full",p,ut,ct],Y=()=>["",Kt,cd,cc],ae=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Kt,yp,H0,V0],ue=()=>["","none",A,ut,ct],me=()=>["none",Kt,ut,ct],_e=()=>["none",Kt,ut,ct],Pe=()=>[Kt,ut,ct],Me=()=>[iu,"full",...W()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ea],breakpoint:[Ea],color:[S_],container:[Ea],"drop-shadow":[Ea],ease:["in","out","in-out"],font:[E_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ea],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ea],shadow:[Ea],spacing:["px",Kt],text:[Ea],"text-shadow":[Ea],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",iu,ct,ut,E]}],container:["container"],columns:[{columns:[Kt,ct,ut,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[xl,"auto",ut,ct]}],basis:[{basis:[iu,"full","auto",c,...W()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Kt,iu,"auto","initial","none",ct]}],grow:[{grow:["",Kt,ut,ct]}],shrink:[{shrink:["",Kt,ut,ct]}],order:[{order:[xl,"first","last","none",ut,ct]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:W()}],px:[{px:W()}],py:[{py:W()}],ps:[{ps:W()}],pe:[{pe:W()}],pt:[{pt:W()}],pr:[{pr:W()}],pb:[{pb:W()}],pl:[{pl:W()}],m:[{m:de()}],mx:[{mx:de()}],my:[{my:de()}],ms:[{ms:de()}],me:[{me:de()}],mt:[{mt:de()}],mr:[{mr:de()}],mb:[{mb:de()}],ml:[{ml:de()}],"space-x":[{"space-x":W()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":W()}],"space-y-reverse":["space-y-reverse"],size:[{size:ye()}],w:[{w:[c,"screen",...ye()]}],"min-w":[{"min-w":[c,"screen","none",...ye()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ye()]}],h:[{h:["screen",...ye()]}],"min-h":[{"min-h":["screen","none",...ye()]}],"max-h":[{"max-h":["screen",...ye()]}],"font-size":[{text:["base",t,cd,cc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ut,wp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yp,ct]}],"font-family":[{font:[L_,ct,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ut,ct]}],"line-clamp":[{"line-clamp":[Kt,"none",ut,wp]}],leading:[{leading:[a,...W()]}],"list-image":[{"list-image":["none",ut,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ut,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Kt,"from-font","auto",ut,cc]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Kt,"auto",ut,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:xe()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xl,ut,ct],radial:["",ut,ct],conic:[xl,ut,ct]},T_,j_]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Kt,ut,ct]}],"outline-w":[{outline:["",Kt,cd,cc]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",v,wh,yh]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",y,wh,yh]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Kt,cc]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",S,wh,yh]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Kt,ut,ct]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Kt]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ut,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Kt]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:xe()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ut,ct]}],filter:[{filter:["","none",ut,ct]}],blur:[{blur:ue()}],brightness:[{brightness:[Kt,ut,ct]}],contrast:[{contrast:[Kt,ut,ct]}],"drop-shadow":[{"drop-shadow":["","none",h,wh,yh]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Kt,ut,ct]}],"hue-rotate":[{"hue-rotate":[Kt,ut,ct]}],invert:[{invert:["",Kt,ut,ct]}],saturate:[{saturate:[Kt,ut,ct]}],sepia:[{sepia:["",Kt,ut,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ut,ct]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Kt,ut,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Kt,ut,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Kt,ut,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Kt,ut,ct]}],"backdrop-invert":[{"backdrop-invert":["",Kt,ut,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Kt,ut,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Kt,ut,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Kt,ut,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":W()}],"border-spacing-x":[{"border-spacing-x":W()}],"border-spacing-y":[{"border-spacing-y":W()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ut,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Kt,"initial",ut,ct]}],ease:[{ease:["linear","initial",j,ut,ct]}],delay:[{delay:[Kt,ut,ct]}],animate:[{animate:["none",C,ut,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ut,ct]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[ut,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut,ct]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Kt,cd,cc,wp]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},D_=g_(I_);function Ii(...r){return D_(h2(r))}const F_=r_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function It({className:r,variant:e,size:t,asChild:n=!1,...o}){const a=n?Nu:"button";return w.jsx(a,{"data-slot":"button",className:Ii(F_({variant:e,size:t,className:r})),...o})}const M_=({onSignUp:r,onSignIn:e})=>w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col",children:[w.jsxs("header",{className:"p-6 flex justify-between items-center",children:[w.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:"OfferteApp"}),w.jsxs("div",{className:"space-x-4",children:[w.jsx(It,{variant:"ghost",onClick:e,children:"Inloggen"}),w.jsx(It,{onClick:r,children:"Aanmelden"})]})]}),w.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-4 text-center",children:[w.jsxs("div",{className:"max-w-3xl",children:[w.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Maak professionele offertes in minuten"}),w.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"Een eenvoudige tool voor Nederlandse ZZP'ers om snel offertes te maken. Geen ingewikkelde boekhouding, gewoon simpel en effectief."}),w.jsx(It,{size:"lg",onClick:r,className:"text-lg px-8 py-6",children:"Gratis Beginnen"})]}),w.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl",children:[w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[w.jsx("div",{className:"text-3xl mb-3",children:""}),w.jsx("h3",{className:"font-semibold mb-2",children:"Snel Offertes Maken"}),w.jsx("p",{className:"text-gray-600 text-sm",children:"Vul eenvoudig de gegevens in en genereer direct een professionele offerte"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[w.jsx("div",{className:"text-3xl mb-3",children:""}),w.jsx("h3",{className:"font-semibold mb-2",children:"Professioneel PDF"}),w.jsx("p",{className:"text-gray-600 text-sm",children:"Download je offertes als nette PDF-bestanden om te versturen naar klanten"})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[w.jsx("div",{className:"text-3xl mb-3",children:""}),w.jsx("h3",{className:"font-semibold mb-2",children:"Overzicht"}),w.jsx("p",{className:"text-gray-600 text-sm",children:"Houd al je offertes bij met een duidelijk overzicht en statusbeheer"})]})]})]}),w.jsx("footer",{className:"p-6 text-center text-gray-600 text-sm",children:w.jsx("p",{children:" 2026 OfferteApp - Voor Nederlandse ZZP'ers"})})]});function Yr({className:r,type:e,...t}){return w.jsx("input",{type:e,"data-slot":"input",className:Ii("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}var jd=Wv();const S2=$v(jd);var B_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],An=B_.reduce((r,e)=>{const t=ne.forwardRef((n,o)=>{const{asChild:a,...l}=n,c=a?Nu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(c,{...l,ref:o})});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{});function U_(r,e){r&&jd.flushSync(()=>r.dispatchEvent(e))}var z_="Label",k2=ne.forwardRef((r,e)=>w.jsx(An.label,{...r,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=r.onMouseDown)==null||o.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));k2.displayName=z_;var q_=k2;function dr({className:r,...e}){return w.jsx(q_,{"data-slot":"label",className:Ii("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function gr({className:r,...e}){return w.jsx("div",{"data-slot":"card",className:Ii("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r),...e})}function xi({className:r,...e}){return w.jsx("div",{"data-slot":"card-header",className:Ii("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function _i({className:r,...e}){return w.jsx("h4",{"data-slot":"card-title",className:Ii("leading-none",r),...e})}function Xi({className:r,...e}){return w.jsx("p",{"data-slot":"card-description",className:Ii("text-muted-foreground",r),...e})}function an({className:r,...e}){return w.jsx("div",{"data-slot":"card-content",className:Ii("px-6 [&:last-child]:pb-6",r),...e})}const $_=({mode:r,onModeChange:e,onBack:t})=>{const{signIn:n,signUp:o}=Wo(),[a,l]=ne.useState(""),[c,d]=ne.useState(""),[p,v]=ne.useState(""),[y,S]=ne.useState(""),[h,A]=ne.useState(""),[k,E]=ne.useState(!1),j=async C=>{C.preventDefault(),A(""),E(!0);try{r==="signin"?await n(a,c):await o(a,c,p,y)}catch(P){A(P.message||"Er is een fout opgetreden")}finally{E(!1)}};return w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center p-4",children:w.jsxs(gr,{className:"w-full max-w-md",children:[w.jsxs(xi,{children:[w.jsx(It,{variant:"ghost",onClick:t,className:"w-fit mb-2",children:" Terug"}),w.jsx(_i,{children:r==="signin"?"Inloggen":"Account Aanmaken"}),w.jsx(Xi,{children:r==="signin"?"Log in met je account om verder te gaan":"Maak een gratis account aan om te beginnen"})]}),w.jsxs(an,{children:[w.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r==="signup"&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"name",children:"Naam"}),w.jsx(Yr,{id:"name",type:"text",value:p,onChange:C=>v(C.target.value),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"companyName",children:"Bedrijfsnaam"}),w.jsx(Yr,{id:"companyName",type:"text",value:y,onChange:C=>S(C.target.value),required:!0})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"email",children:"E-mail"}),w.jsx(Yr,{id:"email",type:"email",value:a,onChange:C=>l(C.target.value),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"password",children:"Wachtwoord"}),w.jsx(Yr,{id:"password",type:"password",value:c,onChange:C=>d(C.target.value),required:!0})]}),h&&w.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:h}),w.jsx(It,{type:"submit",className:"w-full",disabled:k,children:k?"Bezig...":r==="signin"?"Inloggen":"Account Aanmaken"})]}),w.jsx("div",{className:"mt-4 text-center text-sm",children:r==="signin"?w.jsxs("p",{children:["Nog geen account?"," ",w.jsx("button",{type:"button",onClick:()=>e("signup"),className:"text-blue-600 hover:underline",children:"Aanmelden"})]}):w.jsxs("p",{children:["Al een account?"," ",w.jsx("button",{type:"button",onClick:()=>e("signin"),className:"text-blue-600 hover:underline",children:"Inloggen"})]})})]})]})})},W_=`https://${Um}.supabase.co/functions/v1/server`;async function ps(r,e,t={}){const{headers:n={},...o}=t,a=await fetch(`${W_}${r}`,{...o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,...n}});if(!a.ok){const l=await a.json().catch(()=>({}));throw new Error(l.error||`HTTP ${a.status}`)}return a.json()}const On={getQuotations:r=>ps("/quotations",r),getQuotation:(r,e)=>ps(`/quotations/${e}`,r),createQuotation:(r,e)=>ps("/quotations",r,{method:"POST",body:JSON.stringify(e)}),updateQuotation:(r,e,t)=>ps(`/quotations/${e}`,r,{method:"PUT",body:JSON.stringify(t)}),deleteQuotation:(r,e)=>ps(`/quotations/${e}`,r,{method:"DELETE"}),getProfile:r=>ps("/profile",r),updateProfile:(r,e)=>ps("/profile",r,{method:"PUT",body:JSON.stringify(e)}),getInvoices:r=>ps("/invoices",r),getInvoice:(r,e)=>ps(`/invoices/${e}`,r),createInvoice:(r,e)=>ps("/invoices",r,{method:"POST",body:JSON.stringify(e)}),updateInvoice:(r,e,t)=>ps(`/invoices/${e}`,r,{method:"PUT",body:JSON.stringify(t)}),deleteInvoice:(r,e)=>ps(`/invoices/${e}`,r,{method:"DELETE"}),convertQuotationToInvoice:(r,e)=>ps(`/quotations/${e}/convert-to-invoice`,r,{method:"POST"})},Gh=r=>{switch(r){case"draft":return"Concept";case"sent":return"Verstuurd";case"accepted":return"Geaccepteerd";default:return r}},Kh=r=>{switch(r){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},V_=r=>({draft:"Concept",sent:"Verstuurd",paid:"Betaald",overdue:"Vervallen"})[r]||r,H_=r=>({draft:"bg-gray-100 text-gray-800",sent:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",G0=({onNavigate:r})=>{const{user:e,signOut:t,accessToken:n}=Wo(),[o,a]=ne.useState({total:0,draft:0,sent:0,accepted:0}),[l,c]=ne.useState({total:0,totalValue:0,paidValue:0,openValue:0,draft:0,sent:0,paid:0,overdue:0}),[d,p]=ne.useState([]),[v,y]=ne.useState([]),[S,h]=ne.useState(!0);ne.useEffect(()=>{A()},[n]);const A=async()=>{if(n)try{const[E,j]=await Promise.all([On.getQuotations(n),On.getInvoices(n)]),C=E.quotations||[],P=j.invoices||[],R=new Date,U=P.map(W=>W.status==="sent"&&W.dueDate&&new Date(W.dueDate)<R?{...W,status:"overdue"}:W),oe={total:C.length,draft:C.filter(W=>W.status==="draft").length,sent:C.filter(W=>W.status==="sent").length,accepted:C.filter(W=>W.status==="accepted").length},Q={total:U.length,totalValue:U.reduce((W,H)=>W+(H.price||0),0),paidValue:U.filter(W=>W.status==="paid").reduce((W,H)=>W+(H.price||0),0),openValue:U.filter(W=>W.status==="sent"||W.status==="overdue").reduce((W,H)=>W+(H.price||0),0),draft:U.filter(W=>W.status==="draft").length,sent:U.filter(W=>W.status==="sent").length,paid:U.filter(W=>W.status==="paid").length,overdue:U.filter(W=>W.status==="overdue").length};a(oe),c(Q),p(C.slice(0,5)),y(U.slice(0,5))}catch(E){console.error("Error fetching dashboard data:",E)}finally{h(!1)}},k=async()=>{try{await t()}catch(E){console.error("Sign out error:",E)}};return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow-sm",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx(It,{variant:"ghost",onClick:()=>r("settings"),children:"Instellingen"}),w.jsx(It,{variant:"outline",onClick:k,children:"Uitloggen"})]})]})})}),w.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("h2",{className:"text-xl mb-4",children:["Welkom, ",e==null?void 0:e.email]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[w.jsx(gr,{children:w.jsxs(xi,{className:"pb-2",children:[w.jsx(Xi,{children:"Totaal Offertes"}),w.jsx(_i,{className:"text-3xl",children:o.total})]})}),w.jsx(gr,{children:w.jsxs(xi,{className:"pb-2",children:[w.jsx(Xi,{children:"Concept"}),w.jsx(_i,{className:"text-3xl",children:o.draft})]})}),w.jsx(gr,{children:w.jsxs(xi,{className:"pb-2",children:[w.jsx(Xi,{children:"Verstuurd"}),w.jsx(_i,{className:"text-3xl",children:o.sent})]})}),w.jsx(gr,{children:w.jsxs(xi,{className:"pb-2",children:[w.jsx(Xi,{children:"Geaccepteerd"}),w.jsx(_i,{className:"text-3xl",children:o.accepted})]})})]}),w.jsxs("div",{className:"flex flex-wrap gap-4",children:[w.jsx(It,{size:"lg",onClick:()=>r("create-quotation"),children:"+ Nieuwe Offerte"}),w.jsx(It,{size:"lg",variant:"outline",onClick:()=>r("quotations"),children:"Bekijk Alle Offertes"})]})]}),w.jsxs("div",{className:"mb-8",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facturen Overzicht"}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[w.jsx(gr,{children:w.jsxs(xi,{className:"pb-2",children:[w.jsx(Xi,{children:"Totaal Facturen"}),w.jsx(_i,{className:"text-3xl",children:l.total})]})}),w.jsx(gr,{children:w.jsxs(xi,{className:"pb-2",children:[w.jsx(Xi,{children:"Betaald"}),w.jsxs(_i,{className:"text-3xl text-green-600",children:["",l.paidValue.toFixed(0)]})]})}),w.jsx(gr,{children:w.jsxs(xi,{className:"pb-2",children:[w.jsx(Xi,{children:"Open"}),w.jsxs(_i,{className:"text-3xl text-yellow-600",children:["",l.openValue.toFixed(0)]})]})}),w.jsx(gr,{children:w.jsxs(xi,{className:"pb-2",children:[w.jsx(Xi,{children:"Vervallen"}),w.jsx(_i,{className:`text-3xl ${l.overdue>0?"text-red-600":"text-gray-400"}`,children:l.overdue})]})})]}),w.jsxs("div",{className:"flex flex-wrap gap-4",children:[w.jsx(It,{size:"lg",onClick:()=>r("create-invoice"),className:"bg-green-600 hover:bg-green-700",children:"+ Nieuwe Factuur"}),w.jsx(It,{size:"lg",variant:"outline",onClick:()=>r("invoices"),children:"Bekijk Alle Facturen"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs(gr,{children:[w.jsxs(xi,{children:[w.jsx(_i,{children:"Recente Offertes"}),w.jsx(Xi,{children:"Je laatste 5 offertes"})]}),w.jsx(an,{children:S?w.jsx("p",{children:"Laden..."}):d.length===0?w.jsx("p",{className:"text-gray-500",children:"Nog geen offertes. Maak je eerste offerte aan!"}):w.jsx("div",{className:"space-y-3",children:d.map(E=>w.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>r(`quotation-detail-${E.id}`),children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:E.clientName}),w.jsx("p",{className:"text-sm text-gray-600",children:E.quotationNumber})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"font-medium",children:["",E.price.toFixed(2)]}),w.jsx("span",{className:`text-xs px-2 py-1 rounded ${Kh(E.status)}`,children:Gh(E.status)})]})]},E.id))})})]}),w.jsxs(gr,{children:[w.jsxs(xi,{children:[w.jsx(_i,{children:"Recente Facturen"}),w.jsx(Xi,{children:"Je laatste 5 facturen"})]}),w.jsx(an,{children:S?w.jsx("p",{children:"Laden..."}):v.length===0?w.jsx("p",{className:"text-gray-500",children:"Nog geen facturen. Maak je eerste factuur aan!"}):w.jsx("div",{className:"space-y-3",children:v.map(E=>w.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>r(`invoice-detail-${E.id}`),children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:E.clientName}),w.jsx("p",{className:"text-sm text-gray-600",children:E.invoiceNumber})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"font-medium",children:["",E.price.toFixed(2)]}),w.jsx("span",{className:`text-xs px-2 py-1 rounded ${H_(E.status)}`,children:V_(E.status)})]})]},E.id))})})]})]})]})]})};function Jh({className:r,...e}){return w.jsx("textarea",{"data-slot":"textarea",className:Ii("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...e})}function K0(r,[e,t]){return Math.min(t,Math.max(e,r))}function Tn(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r==null||r(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function qm(r,e=[]){let t=[];function n(a,l){const c=ne.createContext(l),d=t.length;t=[...t,l];const p=y=>{var j;const{scope:S,children:h,...A}=y,k=((j=S==null?void 0:S[r])==null?void 0:j[d])||c,E=ne.useMemo(()=>A,Object.values(A));return w.jsx(k.Provider,{value:E,children:h})};p.displayName=a+"Provider";function v(y,S){var k;const h=((k=S==null?void 0:S[r])==null?void 0:k[d])||c,A=ne.useContext(h);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,v]}const o=()=>{const a=t.map(l=>ne.createContext(l));return function(c){const d=(c==null?void 0:c[r])||a;return ne.useMemo(()=>({[`__scope${r}`]:{...c,[r]:d}}),[c,d])}};return o.scopeName=r,[n,G_(o,...e)]}function G_(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=n.reduce((c,{useScope:d,scopeName:p})=>{const y=d(a)[`__scope${p}`];return{...c,...y}},{});return ne.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function K_(r){const e=r+"CollectionProvider",[t,n]=qm(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:A,children:k}=h,E=Ve.useRef(null),j=Ve.useRef(new Map).current;return w.jsx(o,{scope:A,itemMap:j,collectionRef:E,children:k})};l.displayName=e;const c=r+"CollectionSlot",d=Ve.forwardRef((h,A)=>{const{scope:k,children:E}=h,j=a(c,k),C=si(A,j.collectionRef);return w.jsx(Nu,{ref:C,children:E})});d.displayName=c;const p=r+"CollectionItemSlot",v="data-radix-collection-item",y=Ve.forwardRef((h,A)=>{const{scope:k,children:E,...j}=h,C=Ve.useRef(null),P=si(A,C),R=a(p,k);return Ve.useEffect(()=>(R.itemMap.set(C,{ref:C,...j}),()=>void R.itemMap.delete(C))),w.jsx(Nu,{[v]:"",ref:P,children:E})});y.displayName=p;function S(h){const A=a(r+"CollectionConsumer",h);return Ve.useCallback(()=>{const E=A.collectionRef.current;if(!E)return[];const j=Array.from(E.querySelectorAll(`[${v}]`));return Array.from(A.itemMap.values()).sort((R,U)=>j.indexOf(R.ref.current)-j.indexOf(U.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:d,ItemSlot:y},S,n]}var J_=ne.createContext(void 0);function Y_(r){const e=ne.useContext(J_);return r||e||"ltr"}function Da(r){const e=ne.useRef(r);return ne.useEffect(()=>{e.current=r}),ne.useMemo(()=>(...t)=>{var n;return(n=e.current)==null?void 0:n.call(e,...t)},[])}function X_(r,e=globalThis==null?void 0:globalThis.document){const t=Da(r);ne.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var Q_="DismissableLayer",hm="dismissableLayer.update",Z_="dismissableLayer.pointerDownOutside",e4="dismissableLayer.focusOutside",J0,N2=ne.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),A2=ne.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=r,p=ne.useContext(N2),[v,y]=ne.useState(null),S=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=ne.useState({}),A=si(e,Q=>y(Q)),k=Array.from(p.layers),[E]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=k.indexOf(E),C=v?k.indexOf(v):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,R=C>=j,U=n4(Q=>{const W=Q.target,H=[...p.branches].some(se=>se.contains(W));!R||H||(o==null||o(Q),l==null||l(Q),Q.defaultPrevented||c==null||c())},S),oe=i4(Q=>{const W=Q.target;[...p.branches].some(se=>se.contains(W))||(a==null||a(Q),l==null||l(Q),Q.defaultPrevented||c==null||c())},S);return X_(Q=>{C===p.layers.size-1&&(n==null||n(Q),!Q.defaultPrevented&&c&&(Q.preventDefault(),c()))},S),ne.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(J0=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Y0(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=J0)}},[v,S,t,p]),ne.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Y0())},[v,p]),ne.useEffect(()=>{const Q=()=>h({});return document.addEventListener(hm,Q),()=>document.removeEventListener(hm,Q)},[]),w.jsx(An.div,{...d,ref:A,style:{pointerEvents:P?R?"auto":"none":void 0,...r.style},onFocusCapture:Tn(r.onFocusCapture,oe.onFocusCapture),onBlurCapture:Tn(r.onBlurCapture,oe.onBlurCapture),onPointerDownCapture:Tn(r.onPointerDownCapture,U.onPointerDownCapture)})});A2.displayName=Q_;var t4="DismissableLayerBranch",r4=ne.forwardRef((r,e)=>{const t=ne.useContext(N2),n=ne.useRef(null),o=si(e,n);return ne.useEffect(()=>{const a=n.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),w.jsx(An.div,{...r,ref:o})});r4.displayName=t4;function n4(r,e=globalThis==null?void 0:globalThis.document){const t=Da(r),n=ne.useRef(!1),o=ne.useRef(()=>{});return ne.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let d=function(){E2(Z_,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=d,e.addEventListener("click",o.current,{once:!0})):d()}else e.removeEventListener("click",o.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function i4(r,e=globalThis==null?void 0:globalThis.document){const t=Da(r),n=ne.useRef(!1);return ne.useEffect(()=>{const o=a=>{a.target&&!n.current&&E2(e4,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Y0(){const r=new CustomEvent(hm);document.dispatchEvent(r)}function E2(r,e,t,{discrete:n}){const o=t.originalEvent.target,a=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),n?U_(o,a):o.dispatchEvent(a)}var bp=0;function s4(){ne.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??X0()),document.body.insertAdjacentElement("beforeend",r[1]??X0()),bp++,()=>{bp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bp--}},[])}function X0(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var xp="focusScope.autoFocusOnMount",_p="focusScope.autoFocusOnUnmount",Q0={bubbles:!1,cancelable:!0},o4="FocusScope",C2=ne.forwardRef((r,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=r,[c,d]=ne.useState(null),p=Da(o),v=Da(a),y=ne.useRef(null),S=si(e,k=>d(k)),h=ne.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;ne.useEffect(()=>{if(n){let k=function(P){if(h.paused||!c)return;const R=P.target;c.contains(R)?y.current=R:kl(y.current,{select:!0})},E=function(P){if(h.paused||!c)return;const R=P.relatedTarget;R!==null&&(c.contains(R)||kl(y.current,{select:!0}))},j=function(P){if(document.activeElement===document.body)for(const U of P)U.removedNodes.length>0&&kl(c)};document.addEventListener("focusin",k),document.addEventListener("focusout",E);const C=new MutationObserver(j);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",E),C.disconnect()}}},[n,c,h.paused]),ne.useEffect(()=>{if(c){e1.add(h);const k=document.activeElement;if(!c.contains(k)){const j=new CustomEvent(xp,Q0);c.addEventListener(xp,p),c.dispatchEvent(j),j.defaultPrevented||(a4(h4(j2(c)),{select:!0}),document.activeElement===k&&kl(c))}return()=>{c.removeEventListener(xp,p),setTimeout(()=>{const j=new CustomEvent(_p,Q0);c.addEventListener(_p,v),c.dispatchEvent(j),j.defaultPrevented||kl(k??document.body,{select:!0}),c.removeEventListener(_p,v),e1.remove(h)},0)}}},[c,p,v,h]);const A=ne.useCallback(k=>{if(!t&&!n||h.paused)return;const E=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,j=document.activeElement;if(E&&j){const C=k.currentTarget,[P,R]=l4(C);P&&R?!k.shiftKey&&j===R?(k.preventDefault(),t&&kl(P,{select:!0})):k.shiftKey&&j===P&&(k.preventDefault(),t&&kl(R,{select:!0})):j===C&&k.preventDefault()}},[t,n,h.paused]);return w.jsx(An.div,{tabIndex:-1,...l,ref:S,onKeyDown:A})});C2.displayName=o4;function a4(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if(kl(n,{select:e}),document.activeElement!==t)return}function l4(r){const e=j2(r),t=Z0(e,r),n=Z0(e.reverse(),r);return[t,n]}function j2(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Z0(r,e){for(const t of r)if(!c4(t,{upTo:e}))return t}function c4(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function u4(r){return r instanceof HTMLInputElement&&"select"in r}function kl(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&u4(r)&&e&&r.select()}}var e1=d4();function d4(){let r=[];return{add(e){const t=r[0];e!==t&&(t==null||t.pause()),r=t1(r,e),r.unshift(e)},remove(e){var t;r=t1(r,e),(t=r[0])==null||t.resume()}}}function t1(r,e){const t=[...r],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function h4(r){return r.filter(e=>e.tagName!=="A")}var _s=globalThis!=null&&globalThis.document?ne.useLayoutEffect:()=>{},f4=vw.useId||(()=>{}),p4=0;function $m(r){const[e,t]=ne.useState(f4());return _s(()=>{t(n=>n??String(p4++))},[r]),r||(e?`radix-${e}`:"")}const m4=["top","right","bottom","left"],Cl=Math.min,vs=Math.max,Yh=Math.round,bh=Math.floor,qo=r=>({x:r,y:r}),g4={left:"right",right:"left",bottom:"top",top:"bottom"},v4={start:"end",end:"start"};function fm(r,e,t){return vs(r,Cl(e,t))}function Fa(r,e){return typeof r=="function"?r(e):r}function Ma(r){return r.split("-")[0]}function Lu(r){return r.split("-")[1]}function Wm(r){return r==="x"?"y":"x"}function Vm(r){return r==="y"?"height":"width"}const y4=new Set(["top","bottom"]);function Uo(r){return y4.has(Ma(r))?"y":"x"}function Hm(r){return Wm(Uo(r))}function w4(r,e,t){t===void 0&&(t=!1);const n=Lu(r),o=Hm(r),a=Vm(o);let l=o==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Xh(l)),[l,Xh(l)]}function b4(r){const e=Xh(r);return[pm(r),e,pm(e)]}function pm(r){return r.replace(/start|end/g,e=>v4[e])}const r1=["left","right"],n1=["right","left"],x4=["top","bottom"],_4=["bottom","top"];function S4(r,e,t){switch(r){case"top":case"bottom":return t?e?n1:r1:e?r1:n1;case"left":case"right":return e?x4:_4;default:return[]}}function k4(r,e,t,n){const o=Lu(r);let a=S4(Ma(r),t==="start",n);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(pm)))),a}function Xh(r){return r.replace(/left|right|bottom|top/g,e=>g4[e])}function N4(r){return{top:0,right:0,bottom:0,left:0,...r}}function L2(r){return typeof r!="number"?N4(r):{top:r,right:r,bottom:r,left:r}}function Qh(r){const{x:e,y:t,width:n,height:o}=r;return{width:n,height:o,top:t,left:e,right:e+n,bottom:t+o,x:e,y:t}}function i1(r,e,t){let{reference:n,floating:o}=r;const a=Uo(e),l=Hm(e),c=Vm(l),d=Ma(e),p=a==="y",v=n.x+n.width/2-o.width/2,y=n.y+n.height/2-o.height/2,S=n[c]/2-o[c]/2;let h;switch(d){case"top":h={x:v,y:n.y-o.height};break;case"bottom":h={x:v,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y};break;case"left":h={x:n.x-o.width,y};break;default:h={x:n.x,y:n.y}}switch(Lu(e)){case"start":h[l]-=S*(t&&p?-1:1);break;case"end":h[l]+=S*(t&&p?-1:1);break}return h}const A4=async(r,e,t)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:r,floating:e,strategy:o}),{x:v,y}=i1(p,n,d),S=n,h={},A=0;for(let k=0;k<c.length;k++){const{name:E,fn:j}=c[k],{x:C,y:P,data:R,reset:U}=await j({x:v,y,initialPlacement:n,placement:S,strategy:o,middlewareData:h,rects:p,platform:l,elements:{reference:r,floating:e}});v=C??v,y=P??y,h={...h,[E]:{...h[E],...R}},U&&A<=50&&(A++,typeof U=="object"&&(U.placement&&(S=U.placement),U.rects&&(p=U.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:o}):U.rects),{x:v,y}=i1(p,S,d)),k=-1)}return{x:v,y,placement:S,strategy:o,middlewareData:h}};async function kd(r,e){var t;e===void 0&&(e={});const{x:n,y:o,platform:a,rects:l,elements:c,strategy:d}=r,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:S=!1,padding:h=0}=Fa(e,r),A=L2(h),E=c[S?y==="floating"?"reference":"floating":y],j=Qh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(E)))==null||t?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:p,rootBoundary:v,strategy:d})),C=y==="floating"?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),R=await(a.isElement==null?void 0:a.isElement(P))?await(a.getScale==null?void 0:a.getScale(P))||{x:1,y:1}:{x:1,y:1},U=Qh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:P,strategy:d}):C);return{top:(j.top-U.top+A.top)/R.y,bottom:(U.bottom-j.bottom+A.bottom)/R.y,left:(j.left-U.left+A.left)/R.x,right:(U.right-j.right+A.right)/R.x}}const E4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:o,rects:a,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:v=0}=Fa(r,e)||{};if(p==null)return{};const y=L2(v),S={x:t,y:n},h=Hm(o),A=Vm(h),k=await l.getDimensions(p),E=h==="y",j=E?"top":"left",C=E?"bottom":"right",P=E?"clientHeight":"clientWidth",R=a.reference[A]+a.reference[h]-S[h]-a.floating[A],U=S[h]-a.reference[h],oe=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let Q=oe?oe[P]:0;(!Q||!await(l.isElement==null?void 0:l.isElement(oe)))&&(Q=c.floating[P]||a.floating[A]);const W=R/2-U/2,H=Q/2-k[A]/2-1,se=Cl(y[j],H),O=Cl(y[C],H),F=se,J=Q-k[A]-O,X=Q/2-k[A]/2+W,fe=fm(F,X,J),de=!d.arrow&&Lu(o)!=null&&X!==fe&&a.reference[A]/2-(X<F?se:O)-k[A]/2<0,ye=de?X<F?X-F:X-J:0;return{[h]:S[h]+ye,data:{[h]:fe,centerOffset:X-fe-ye,...de&&{alignmentOffset:ye}},reset:de}}}),C4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:o,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:S,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:k=!0,...E}=Fa(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const j=Ma(o),C=Uo(c),P=Ma(c)===c,R=await(d.isRTL==null?void 0:d.isRTL(p.floating)),U=S||(P||!k?[Xh(c)]:b4(c)),oe=A!=="none";!S&&oe&&U.push(...k4(c,k,A,R));const Q=[c,...U],W=await kd(e,E),H=[];let se=((n=a.flip)==null?void 0:n.overflows)||[];if(v&&H.push(W[j]),y){const X=w4(o,l,R);H.push(W[X[0]],W[X[1]])}if(se=[...se,{placement:o,overflows:H}],!H.every(X=>X<=0)){var O,F;const X=(((O=a.flip)==null?void 0:O.index)||0)+1,fe=Q[X];if(fe&&(!(y==="alignment"?C!==Uo(fe):!1)||se.every($=>Uo($.placement)===C?$.overflows[0]>0:!0)))return{data:{index:X,overflows:se},reset:{placement:fe}};let de=(F=se.filter(ye=>ye.overflows[0]<=0).sort((ye,$)=>ye.overflows[1]-$.overflows[1])[0])==null?void 0:F.placement;if(!de)switch(h){case"bestFit":{var J;const ye=(J=se.filter($=>{if(oe){const he=Uo($.placement);return he===C||he==="y"}return!0}).map($=>[$.placement,$.overflows.filter(he=>he>0).reduce((he,xe)=>he+xe,0)]).sort(($,he)=>$[1]-he[1])[0])==null?void 0:J[0];ye&&(de=ye);break}case"initialPlacement":de=c;break}if(o!==de)return{reset:{placement:de}}}return{}}}};function s1(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function o1(r){return m4.some(e=>r[e]>=0)}const j4=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...o}=Fa(r,e);switch(n){case"referenceHidden":{const a=await kd(e,{...o,elementContext:"reference"}),l=s1(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:o1(l)}}}case"escaped":{const a=await kd(e,{...o,altBoundary:!0}),l=s1(a,t.floating);return{data:{escapedOffsets:l,escaped:o1(l)}}}default:return{}}}}},P2=new Set(["left","top"]);async function L4(r,e){const{placement:t,platform:n,elements:o}=r,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),l=Ma(t),c=Lu(t),d=Uo(t)==="y",p=P2.has(l)?-1:1,v=a&&d?-1:1,y=Fa(e,r);let{mainAxis:S,crossAxis:h,alignmentAxis:A}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof A=="number"&&(h=c==="end"?A*-1:A),d?{x:h*v,y:S*p}:{x:S*p,y:h*v}}const P4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:o,y:a,placement:l,middlewareData:c}=e,d=await L4(e,r);return l===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:o+d.x,y:a+d.y,data:{...d,placement:l}}}}},T4=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:E=>{let{x:j,y:C}=E;return{x:j,y:C}}},...d}=Fa(r,e),p={x:t,y:n},v=await kd(e,d),y=Uo(Ma(o)),S=Wm(y);let h=p[S],A=p[y];if(a){const E=S==="y"?"top":"left",j=S==="y"?"bottom":"right",C=h+v[E],P=h-v[j];h=fm(C,h,P)}if(l){const E=y==="y"?"top":"left",j=y==="y"?"bottom":"right",C=A+v[E],P=A-v[j];A=fm(C,A,P)}const k=c.fn({...e,[S]:h,[y]:A});return{...k,data:{x:k.x-t,y:k.y-n,enabled:{[S]:a,[y]:l}}}}}},O4=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:o,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:p=!0}=Fa(r,e),v={x:t,y:n},y=Uo(o),S=Wm(y);let h=v[S],A=v[y];const k=Fa(c,e),E=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(d){const P=S==="y"?"height":"width",R=a.reference[S]-a.floating[P]+E.mainAxis,U=a.reference[S]+a.reference[P]-E.mainAxis;h<R?h=R:h>U&&(h=U)}if(p){var j,C;const P=S==="y"?"width":"height",R=P2.has(Ma(o)),U=a.reference[y]-a.floating[P]+(R&&((j=l.offset)==null?void 0:j[y])||0)+(R?0:E.crossAxis),oe=a.reference[y]+a.reference[P]+(R?0:((C=l.offset)==null?void 0:C[y])||0)-(R?E.crossAxis:0);A<U?A=U:A>oe&&(A=oe)}return{[S]:h,[y]:A}}}},R4=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:o,rects:a,platform:l,elements:c}=e,{apply:d=()=>{},...p}=Fa(r,e),v=await kd(e,p),y=Ma(o),S=Lu(o),h=Uo(o)==="y",{width:A,height:k}=a.floating;let E,j;y==="top"||y==="bottom"?(E=y,j=S===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(j=y,E=S==="end"?"top":"bottom");const C=k-v.top-v.bottom,P=A-v.left-v.right,R=Cl(k-v[E],C),U=Cl(A-v[j],P),oe=!e.middlewareData.shift;let Q=R,W=U;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(W=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(Q=C),oe&&!S){const se=vs(v.left,0),O=vs(v.right,0),F=vs(v.top,0),J=vs(v.bottom,0);h?W=A-2*(se!==0||O!==0?se+O:vs(v.left,v.right)):Q=k-2*(F!==0||J!==0?F+J:vs(v.top,v.bottom))}await d({...e,availableWidth:W,availableHeight:Q});const H=await l.getDimensions(c.floating);return A!==H.width||k!==H.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function Pu(r){return T2(r)?(r.nodeName||"").toLowerCase():"#document"}function xs(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Vo(r){var e;return(e=(T2(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function T2(r){return lf()?r instanceof Node||r instanceof xs(r).Node:!1}function ho(r){return lf()?r instanceof Element||r instanceof xs(r).Element:!1}function $o(r){return lf()?r instanceof HTMLElement||r instanceof xs(r).HTMLElement:!1}function a1(r){return!lf()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof xs(r).ShadowRoot}const I4=new Set(["inline","contents"]);function Ld(r){const{overflow:e,overflowX:t,overflowY:n,display:o}=fo(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!I4.has(o)}const D4=new Set(["table","td","th"]);function F4(r){return D4.has(Pu(r))}const M4=[":popover-open",":modal"];function cf(r){return M4.some(e=>{try{return r.matches(e)}catch{return!1}})}const B4=["transform","translate","scale","rotate","perspective"],U4=["transform","translate","scale","rotate","perspective","filter"],z4=["paint","layout","strict","content"];function Gm(r){const e=Km(),t=ho(r)?fo(r):r;return B4.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||U4.some(n=>(t.willChange||"").includes(n))||z4.some(n=>(t.contain||"").includes(n))}function q4(r){let e=jl(r);for(;$o(e)&&!Au(e);){if(Gm(e))return e;if(cf(e))return null;e=jl(e)}return null}function Km(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $4=new Set(["html","body","#document"]);function Au(r){return $4.has(Pu(r))}function fo(r){return xs(r).getComputedStyle(r)}function uf(r){return ho(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function jl(r){if(Pu(r)==="html")return r;const e=r.assignedSlot||r.parentNode||a1(r)&&r.host||Vo(r);return a1(e)?e.host:e}function O2(r){const e=jl(r);return Au(e)?r.ownerDocument?r.ownerDocument.body:r.body:$o(e)&&Ld(e)?e:O2(e)}function Nd(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=O2(r),a=o===((n=r.ownerDocument)==null?void 0:n.body),l=xs(o);if(a){const c=mm(l);return e.concat(l,l.visualViewport||[],Ld(o)?o:[],c&&t?Nd(c):[])}return e.concat(o,Nd(o,[],t))}function mm(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function R2(r){const e=fo(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=$o(r),a=o?r.offsetWidth:t,l=o?r.offsetHeight:n,c=Yh(t)!==a||Yh(n)!==l;return c&&(t=a,n=l),{width:t,height:n,$:c}}function Jm(r){return ho(r)?r:r.contextElement}function wu(r){const e=Jm(r);if(!$o(e))return qo(1);const t=e.getBoundingClientRect(),{width:n,height:o,$:a}=R2(e);let l=(a?Yh(t.width):t.width)/n,c=(a?Yh(t.height):t.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const W4=qo(0);function I2(r){const e=xs(r);return!Km()||!e.visualViewport?W4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==xs(r)?!1:e}function vc(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect(),a=Jm(r);let l=qo(1);e&&(n?ho(n)&&(l=wu(n)):l=wu(r));const c=V4(a,t,n)?I2(a):qo(0);let d=(o.left+c.x)/l.x,p=(o.top+c.y)/l.y,v=o.width/l.x,y=o.height/l.y;if(a){const S=xs(a),h=n&&ho(n)?xs(n):n;let A=S,k=mm(A);for(;k&&n&&h!==A;){const E=wu(k),j=k.getBoundingClientRect(),C=fo(k),P=j.left+(k.clientLeft+parseFloat(C.paddingLeft))*E.x,R=j.top+(k.clientTop+parseFloat(C.paddingTop))*E.y;d*=E.x,p*=E.y,v*=E.x,y*=E.y,d+=P,p+=R,A=xs(k),k=mm(A)}}return Qh({width:v,height:y,x:d,y:p})}function df(r,e){const t=uf(r).scrollLeft;return e?e.left+t:vc(Vo(r)).left+t}function D2(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-df(r,t),o=t.top+e.scrollTop;return{x:n,y:o}}function H4(r){let{elements:e,rect:t,offsetParent:n,strategy:o}=r;const a=o==="fixed",l=Vo(n),c=e?cf(e.floating):!1;if(n===l||c&&a)return t;let d={scrollLeft:0,scrollTop:0},p=qo(1);const v=qo(0),y=$o(n);if((y||!y&&!a)&&((Pu(n)!=="body"||Ld(l))&&(d=uf(n)),$o(n))){const h=vc(n);p=wu(n),v.x=h.x+n.clientLeft,v.y=h.y+n.clientTop}const S=l&&!y&&!a?D2(l,d):qo(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+v.x+S.x,y:t.y*p.y-d.scrollTop*p.y+v.y+S.y}}function G4(r){return Array.from(r.getClientRects())}function K4(r){const e=Vo(r),t=uf(r),n=r.ownerDocument.body,o=vs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=vs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+df(r);const c=-t.scrollTop;return fo(n).direction==="rtl"&&(l+=vs(e.clientWidth,n.clientWidth)-o),{width:o,height:a,x:l,y:c}}const l1=25;function J4(r,e){const t=xs(r),n=Vo(r),o=t.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,d=0;if(o){a=o.width,l=o.height;const v=Km();(!v||v&&e==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}const p=df(n);if(p<=0){const v=n.ownerDocument,y=v.body,S=getComputedStyle(y),h=v.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,A=Math.abs(n.clientWidth-y.clientWidth-h);A<=l1&&(a-=A)}else p<=l1&&(a+=p);return{width:a,height:l,x:c,y:d}}const Y4=new Set(["absolute","fixed"]);function X4(r,e){const t=vc(r,!0,e==="fixed"),n=t.top+r.clientTop,o=t.left+r.clientLeft,a=$o(r)?wu(r):qo(1),l=r.clientWidth*a.x,c=r.clientHeight*a.y,d=o*a.x,p=n*a.y;return{width:l,height:c,x:d,y:p}}function c1(r,e,t){let n;if(e==="viewport")n=J4(r,t);else if(e==="document")n=K4(Vo(r));else if(ho(e))n=X4(e,t);else{const o=I2(r);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Qh(n)}function F2(r,e){const t=jl(r);return t===e||!ho(t)||Au(t)?!1:fo(t).position==="fixed"||F2(t,e)}function Q4(r,e){const t=e.get(r);if(t)return t;let n=Nd(r,[],!1).filter(c=>ho(c)&&Pu(c)!=="body"),o=null;const a=fo(r).position==="fixed";let l=a?jl(r):r;for(;ho(l)&&!Au(l);){const c=fo(l),d=Gm(l);!d&&c.position==="fixed"&&(o=null),(a?!d&&!o:!d&&c.position==="static"&&!!o&&Y4.has(o.position)||Ld(l)&&!d&&F2(r,l))?n=n.filter(v=>v!==l):o=c,l=jl(l)}return e.set(r,n),n}function Z4(r){let{element:e,boundary:t,rootBoundary:n,strategy:o}=r;const l=[...t==="clippingAncestors"?cf(e)?[]:Q4(e,this._c):[].concat(t),n],c=l[0],d=l.reduce((p,v)=>{const y=c1(e,v,o);return p.top=vs(y.top,p.top),p.right=Cl(y.right,p.right),p.bottom=Cl(y.bottom,p.bottom),p.left=vs(y.left,p.left),p},c1(e,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function e3(r){const{width:e,height:t}=R2(r);return{width:e,height:t}}function t3(r,e,t){const n=$o(e),o=Vo(e),a=t==="fixed",l=vc(r,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=qo(0);function p(){d.x=df(o)}if(n||!n&&!a)if((Pu(e)!=="body"||Ld(o))&&(c=uf(e)),n){const h=vc(e,!0,a,e);d.x=h.x+e.clientLeft,d.y=h.y+e.clientTop}else o&&p();a&&!n&&o&&p();const v=o&&!n&&!a?D2(o,c):qo(0),y=l.left+c.scrollLeft-d.x-v.x,S=l.top+c.scrollTop-d.y-v.y;return{x:y,y:S,width:l.width,height:l.height}}function Sp(r){return fo(r).position==="static"}function u1(r,e){if(!$o(r)||fo(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Vo(r)===t&&(t=t.ownerDocument.body),t}function M2(r,e){const t=xs(r);if(cf(r))return t;if(!$o(r)){let o=jl(r);for(;o&&!Au(o);){if(ho(o)&&!Sp(o))return o;o=jl(o)}return t}let n=u1(r,e);for(;n&&F4(n)&&Sp(n);)n=u1(n,e);return n&&Au(n)&&Sp(n)&&!Gm(n)?t:n||q4(r)||t}const r3=async function(r){const e=this.getOffsetParent||M2,t=this.getDimensions,n=await t(r.floating);return{reference:t3(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function n3(r){return fo(r).direction==="rtl"}const i3={convertOffsetParentRelativeRectToViewportRelativeRect:H4,getDocumentElement:Vo,getClippingRect:Z4,getOffsetParent:M2,getElementRects:r3,getClientRects:G4,getDimensions:e3,getScale:wu,isElement:ho,isRTL:n3};function B2(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function s3(r,e){let t=null,n;const o=Vo(r);function a(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const p=r.getBoundingClientRect(),{left:v,top:y,width:S,height:h}=p;if(c||e(),!S||!h)return;const A=bh(y),k=bh(o.clientWidth-(v+S)),E=bh(o.clientHeight-(y+h)),j=bh(v),P={rootMargin:-A+"px "+-k+"px "+-E+"px "+-j+"px",threshold:vs(0,Cl(1,d))||1};let R=!0;function U(oe){const Q=oe[0].intersectionRatio;if(Q!==d){if(!R)return l();Q?l(!1,Q):n=setTimeout(()=>{l(!1,1e-7)},1e3)}Q===1&&!B2(p,r.getBoundingClientRect())&&l(),R=!1}try{t=new IntersectionObserver(U,{...P,root:o.ownerDocument})}catch{t=new IntersectionObserver(U,P)}t.observe(r)}return l(!0),a}function o3(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=Jm(r),v=o||a?[...p?Nd(p):[],...Nd(e)]:[];v.forEach(j=>{o&&j.addEventListener("scroll",t,{passive:!0}),a&&j.addEventListener("resize",t)});const y=p&&c?s3(p,t):null;let S=-1,h=null;l&&(h=new ResizeObserver(j=>{let[C]=j;C&&C.target===p&&h&&(h.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var P;(P=h)==null||P.observe(e)})),t()}),p&&!d&&h.observe(p),h.observe(e));let A,k=d?vc(r):null;d&&E();function E(){const j=vc(r);k&&!B2(k,j)&&t(),k=j,A=requestAnimationFrame(E)}return t(),()=>{var j;v.forEach(C=>{o&&C.removeEventListener("scroll",t),a&&C.removeEventListener("resize",t)}),y==null||y(),(j=h)==null||j.disconnect(),h=null,d&&cancelAnimationFrame(A)}}const a3=P4,l3=T4,c3=C4,u3=R4,d3=j4,d1=E4,h3=O4,f3=(r,e,t)=>{const n=new Map,o={platform:i3,...t},a={...o.platform,_c:n};return A4(r,e,{...o,platform:a})};var p3=typeof document<"u",m3=function(){},Ih=p3?ne.useLayoutEffect:m3;function Zh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,o;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Zh(r[n],e[n]))return!1;return!0}if(o=Object.keys(r),t=o.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=t;n--!==0;){const a=o[n];if(!(a==="_owner"&&r.$$typeof)&&!Zh(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function U2(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function h1(r,e){const t=U2(r);return Math.round(e*t)/t}function kp(r){const e=ne.useRef(r);return Ih(()=>{e.current=r}),e}function g3(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=r,[v,y]=ne.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[S,h]=ne.useState(n);Zh(S,n)||h(n);const[A,k]=ne.useState(null),[E,j]=ne.useState(null),C=ne.useCallback($=>{$!==oe.current&&(oe.current=$,k($))},[]),P=ne.useCallback($=>{$!==Q.current&&(Q.current=$,j($))},[]),R=a||A,U=l||E,oe=ne.useRef(null),Q=ne.useRef(null),W=ne.useRef(v),H=d!=null,se=kp(d),O=kp(o),F=kp(p),J=ne.useCallback(()=>{if(!oe.current||!Q.current)return;const $={placement:e,strategy:t,middleware:S};O.current&&($.platform=O.current),f3(oe.current,Q.current,$).then(he=>{const xe={...he,isPositioned:F.current!==!1};X.current&&!Zh(W.current,xe)&&(W.current=xe,jd.flushSync(()=>{y(xe)}))})},[S,e,t,O,F]);Ih(()=>{p===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,y($=>({...$,isPositioned:!1})))},[p]);const X=ne.useRef(!1);Ih(()=>(X.current=!0,()=>{X.current=!1}),[]),Ih(()=>{if(R&&(oe.current=R),U&&(Q.current=U),R&&U){if(se.current)return se.current(R,U,J);J()}},[R,U,J,se,H]);const fe=ne.useMemo(()=>({reference:oe,floating:Q,setReference:C,setFloating:P}),[C,P]),de=ne.useMemo(()=>({reference:R,floating:U}),[R,U]),ye=ne.useMemo(()=>{const $={position:t,left:0,top:0};if(!de.floating)return $;const he=h1(de.floating,v.x),xe=h1(de.floating,v.y);return c?{...$,transform:"translate("+he+"px, "+xe+"px)",...U2(de.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:he,top:xe}},[t,c,de.floating,v.x,v.y]);return ne.useMemo(()=>({...v,update:J,refs:fe,elements:de,floatingStyles:ye}),[v,J,fe,de,ye])}const v3=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:o}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?d1({element:n.current,padding:o}).fn(t):{}:n?d1({element:n,padding:o}).fn(t):{}}}},y3=(r,e)=>({...a3(r),options:[r,e]}),w3=(r,e)=>({...l3(r),options:[r,e]}),b3=(r,e)=>({...h3(r),options:[r,e]}),x3=(r,e)=>({...c3(r),options:[r,e]}),_3=(r,e)=>({...u3(r),options:[r,e]}),S3=(r,e)=>({...d3(r),options:[r,e]}),k3=(r,e)=>({...v3(r),options:[r,e]});var N3="Arrow",z2=ne.forwardRef((r,e)=>{const{children:t,width:n=10,height:o=5,...a}=r;return w.jsx(An.svg,{...a,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});z2.displayName=N3;var A3=z2;function E3(r){const[e,t]=ne.useState(void 0);return _s(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,c=p.blockSize}else l=r.offsetWidth,c=r.offsetHeight;t({width:l,height:c})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}var Ym="Popper",[q2,$2]=qm(Ym),[C3,W2]=q2(Ym),V2=r=>{const{__scopePopper:e,children:t}=r,[n,o]=ne.useState(null);return w.jsx(C3,{scope:e,anchor:n,onAnchorChange:o,children:t})};V2.displayName=Ym;var H2="PopperAnchor",G2=ne.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...o}=r,a=W2(H2,t),l=ne.useRef(null),c=si(e,l);return ne.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:w.jsx(An.div,{...o,ref:c})});G2.displayName=H2;var Xm="PopperContent",[j3,L3]=q2(Xm),K2=ne.forwardRef((r,e)=>{var re,ue,me,_e,Pe,Me;const{__scopePopper:t,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:h="optimized",onPlaced:A,...k}=r,E=W2(Xm,t),[j,C]=ne.useState(null),P=si(e,$e=>C($e)),[R,U]=ne.useState(null),oe=E3(R),Q=(oe==null?void 0:oe.width)??0,W=(oe==null?void 0:oe.height)??0,H=n+(a!=="center"?"-"+a:""),se=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},O=Array.isArray(p)?p:[p],F=O.length>0,J={padding:se,boundary:O.filter(T3),altBoundary:F},{refs:X,floatingStyles:fe,placement:de,isPositioned:ye,middlewareData:$}=g3({strategy:"fixed",placement:H,whileElementsMounted:(...$e)=>o3(...$e,{animationFrame:h==="always"}),elements:{reference:E.anchor},middleware:[y3({mainAxis:o+W,alignmentAxis:l}),d&&w3({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?b3():void 0,...J}),d&&x3({...J}),_3({...J,apply:({elements:$e,rects:Ke,availableWidth:Z,availableHeight:He})=>{const{width:_t,height:vt}=Ke.reference,De=$e.floating.style;De.setProperty("--radix-popper-available-width",`${Z}px`),De.setProperty("--radix-popper-available-height",`${He}px`),De.setProperty("--radix-popper-anchor-width",`${_t}px`),De.setProperty("--radix-popper-anchor-height",`${vt}px`)}}),R&&k3({element:R,padding:c}),O3({arrowWidth:Q,arrowHeight:W}),S&&S3({strategy:"referenceHidden",...J})]}),[he,xe]=X2(de),G=Da(A);_s(()=>{ye&&(G==null||G())},[ye,G]);const T=(re=$.arrow)==null?void 0:re.x,q=(ue=$.arrow)==null?void 0:ue.y,Y=((me=$.arrow)==null?void 0:me.centerOffset)!==0,[ae,le]=ne.useState();return _s(()=>{j&&le(window.getComputedStyle(j).zIndex)},[j]),w.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:ye?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(_e=$.transformOrigin)==null?void 0:_e.x,(Pe=$.transformOrigin)==null?void 0:Pe.y].join(" "),...((Me=$.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:w.jsx(j3,{scope:t,placedSide:he,onArrowChange:U,arrowX:T,arrowY:q,shouldHideArrow:Y,children:w.jsx(An.div,{"data-side":he,"data-align":xe,...k,ref:P,style:{...k.style,animation:ye?void 0:"none"}})})})});K2.displayName=Xm;var J2="PopperArrow",P3={top:"bottom",right:"left",bottom:"top",left:"right"},Y2=ne.forwardRef(function(e,t){const{__scopePopper:n,...o}=e,a=L3(J2,n),l=P3[a.placedSide];return w.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:w.jsx(A3,{...o,ref:t,style:{...o.style,display:"block"}})})});Y2.displayName=J2;function T3(r){return r!==null}var O3=r=>({name:"transformOrigin",options:r,fn(e){var E,j,C;const{placement:t,rects:n,middlewareData:o}=e,l=((E=o.arrow)==null?void 0:E.centerOffset)!==0,c=l?0:r.arrowWidth,d=l?0:r.arrowHeight,[p,v]=X2(t),y={start:"0%",center:"50%",end:"100%"}[v],S=(((j=o.arrow)==null?void 0:j.x)??0)+c/2,h=(((C=o.arrow)==null?void 0:C.y)??0)+d/2;let A="",k="";return p==="bottom"?(A=l?y:`${S}px`,k=`${-d}px`):p==="top"?(A=l?y:`${S}px`,k=`${n.floating.height+d}px`):p==="right"?(A=`${-d}px`,k=l?y:`${h}px`):p==="left"&&(A=`${n.floating.width+d}px`,k=l?y:`${h}px`),{data:{x:A,y:k}}}});function X2(r){const[e,t="center"]=r.split("-");return[e,t]}var R3=V2,I3=G2,D3=K2,F3=Y2,M3="Portal",Q2=ne.forwardRef((r,e)=>{var c;const{container:t,...n}=r,[o,a]=ne.useState(!1);_s(()=>a(!0),[]);const l=t||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?S2.createPortal(w.jsx(An.div,{...n,ref:e}),l):null});Q2.displayName=M3;function f1({prop:r,defaultProp:e,onChange:t=()=>{}}){const[n,o]=B3({defaultProp:e,onChange:t}),a=r!==void 0,l=a?r:n,c=Da(t),d=ne.useCallback(p=>{if(a){const y=typeof p=="function"?p(r):p;y!==r&&c(y)}else o(p)},[a,r,o,c]);return[l,d]}function B3({defaultProp:r,onChange:e}){const t=ne.useState(r),[n]=t,o=ne.useRef(n),a=Da(e);return ne.useEffect(()=>{o.current!==n&&(a(n),o.current=n)},[n,o,a]),t}function U3(r){const e=ne.useRef({value:r,previous:r});return ne.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var z3="VisuallyHidden",Z2=ne.forwardRef((r,e)=>w.jsx(An.span,{...r,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...r.style}}));Z2.displayName=z3;var q3=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},su=new WeakMap,xh=new WeakMap,_h={},Np=0,ey=function(r){return r&&(r.host||ey(r.parentNode))},$3=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=ey(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},W3=function(r,e,t,n){var o=$3(e,Array.isArray(r)?r:[r]);_h[t]||(_h[t]=new WeakMap);var a=_h[t],l=[],c=new Set,d=new Set(o),p=function(y){!y||c.has(y)||(c.add(y),p(y.parentNode))};o.forEach(p);var v=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(S){if(c.has(S))v(S);else try{var h=S.getAttribute(n),A=h!==null&&h!=="false",k=(su.get(S)||0)+1,E=(a.get(S)||0)+1;su.set(S,k),a.set(S,E),l.push(S),k===1&&A&&xh.set(S,!0),E===1&&S.setAttribute(t,"true"),A||S.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",S,j)}})};return v(e),c.clear(),Np++,function(){l.forEach(function(y){var S=su.get(y)-1,h=a.get(y)-1;su.set(y,S),a.set(y,h),S||(xh.has(y)||y.removeAttribute(n),xh.delete(y)),h||y.removeAttribute(t)}),Np--,Np||(su=new WeakMap,su=new WeakMap,xh=new WeakMap,_h={})}},V3=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),o=q3(r);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),W3(n,o,t,"aria-hidden")):function(){return null}},Dh="right-scroll-bar-position",Fh="width-before-scroll-bar",H3="with-scroll-bars-hidden",G3="--removed-body-scroll-bar-size";function Ap(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function K3(r,e){var t=ne.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var o=t.value;o!==n&&(t.value=n,t.callback(n,o))}}}})[0];return t.callback=e,t.facade}var J3=typeof window<"u"?ne.useLayoutEffect:ne.useEffect,p1=new WeakMap;function Y3(r,e){var t=K3(null,function(n){return r.forEach(function(o){return Ap(o,n)})});return J3(function(){var n=p1.get(t);if(n){var o=new Set(n),a=new Set(r),l=t.current;o.forEach(function(c){a.has(c)||Ap(c,null)}),a.forEach(function(c){o.has(c)||Ap(c,l)})}p1.set(t,r)},[r]),t}function X3(r){return r}function Q3(r,e){e===void 0&&(e=X3);var t=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(a){var l=e(a,n);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(n=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){n=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var d=function(){var v=l;l=[],v.forEach(a)},p=function(){return Promise.resolve().then(d)};p(),t={push:function(v){l.push(v),p()},filter:function(v){return l=l.filter(v),t}}}};return o}function Z3(r){r===void 0&&(r={});var e=Q3(null);return e.options=Bo({async:!0,ssr:!1},r),e}var ty=function(r){var e=r.sideCar,t=Eu(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return ne.createElement(n,Bo({},t))};ty.isSideCarExport=!0;function eS(r,e){return r.useMedium(e),ty}var ry=Z3(),Ep=function(){},hf=ne.forwardRef(function(r,e){var t=ne.useRef(null),n=ne.useState({onScrollCapture:Ep,onWheelCapture:Ep,onTouchMoveCapture:Ep}),o=n[0],a=n[1],l=r.forwardProps,c=r.children,d=r.className,p=r.removeScrollBar,v=r.enabled,y=r.shards,S=r.sideCar,h=r.noRelative,A=r.noIsolation,k=r.inert,E=r.allowPinchZoom,j=r.as,C=j===void 0?"div":j,P=r.gapMode,R=Eu(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=S,oe=Y3([t,e]),Q=Bo(Bo({},R),o);return ne.createElement(ne.Fragment,null,v&&ne.createElement(U,{sideCar:ry,removeScrollBar:p,shards:y,noRelative:h,noIsolation:A,inert:k,setCallbacks:a,allowPinchZoom:!!E,lockRef:t,gapMode:P}),l?ne.cloneElement(ne.Children.only(c),Bo(Bo({},Q),{ref:oe})):ne.createElement(C,Bo({},Q,{className:d,ref:oe}),c))});hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hf.classNames={fullWidth:Fh,zeroRight:Dh};var tS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rS(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=tS();return e&&r.setAttribute("nonce",e),r}function nS(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function iS(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var sS=function(){var r=0,e=null;return{add:function(t){r==0&&(e=rS())&&(nS(e,t),iS(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},oS=function(){var r=sS();return function(e,t){ne.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},ny=function(){var r=oS(),e=function(t){var n=t.styles,o=t.dynamic;return r(n,o),null};return e},aS={left:0,top:0,right:0,gap:0},Cp=function(r){return parseInt(r||"",10)||0},lS=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[Cp(t),Cp(n),Cp(o)]},cS=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return aS;var e=lS(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},uS=ny(),bu="data-scroll-locked",dS=function(r,e,t,n){var o=r.left,a=r.top,l=r.right,c=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(H3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(bu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dh,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Fh,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Dh," .").concat(Dh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fh," .").concat(Fh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bu,`] {
    `).concat(G3,": ").concat(c,`px;
  }
`)},m1=function(){var r=parseInt(document.body.getAttribute(bu)||"0",10);return isFinite(r)?r:0},hS=function(){ne.useEffect(function(){return document.body.setAttribute(bu,(m1()+1).toString()),function(){var r=m1()-1;r<=0?document.body.removeAttribute(bu):document.body.setAttribute(bu,r.toString())}},[])},fS=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,o=n===void 0?"margin":n;hS();var a=ne.useMemo(function(){return cS(o)},[o]);return ne.createElement(uS,{styles:dS(a,!e,o,t?"":"!important")})},gm=!1;if(typeof window<"u")try{var Sh=Object.defineProperty({},"passive",{get:function(){return gm=!0,!0}});window.addEventListener("test",Sh,Sh),window.removeEventListener("test",Sh,Sh)}catch{gm=!1}var ou=gm?{passive:!1}:!1,pS=function(r){return r.tagName==="TEXTAREA"},iy=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!pS(r)&&t[e]==="visible")},mS=function(r){return iy(r,"overflowY")},gS=function(r){return iy(r,"overflowX")},g1=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=sy(r,n);if(o){var a=oy(r,n),l=a[1],c=a[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},vS=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},yS=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},sy=function(r,e){return r==="v"?mS(e):gS(e)},oy=function(r,e){return r==="v"?vS(e):yS(e)},wS=function(r,e){return r==="h"&&e==="rtl"?-1:1},bS=function(r,e,t,n,o){var a=wS(r,window.getComputedStyle(e).direction),l=a*n,c=t.target,d=e.contains(c),p=!1,v=l>0,y=0,S=0;do{if(!c)break;var h=oy(r,c),A=h[0],k=h[1],E=h[2],j=k-E-a*A;(A||j)&&sy(r,c)&&(y+=j,S+=A);var C=c.parentNode;c=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(v&&Math.abs(y)<1||!v&&Math.abs(S)<1)&&(p=!0),p},kh=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},v1=function(r){return[r.deltaX,r.deltaY]},y1=function(r){return r&&"current"in r?r.current:r},xS=function(r,e){return r[0]===e[0]&&r[1]===e[1]},_S=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},SS=0,au=[];function kS(r){var e=ne.useRef([]),t=ne.useRef([0,0]),n=ne.useRef(),o=ne.useState(SS++)[0],a=ne.useState(ny)[0],l=ne.useRef(r);ne.useEffect(function(){l.current=r},[r]),ne.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var k=ww([r.lockRef.current],(r.shards||[]).map(y1),!0).filter(Boolean);return k.forEach(function(E){return E.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),k.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var c=ne.useCallback(function(k,E){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!l.current.allowPinchZoom;var j=kh(k),C=t.current,P="deltaX"in k?k.deltaX:C[0]-j[0],R="deltaY"in k?k.deltaY:C[1]-j[1],U,oe=k.target,Q=Math.abs(P)>Math.abs(R)?"h":"v";if("touches"in k&&Q==="h"&&oe.type==="range")return!1;var W=window.getSelection(),H=W&&W.anchorNode,se=H?H===oe||H.contains(oe):!1;if(se)return!1;var O=g1(Q,oe);if(!O)return!0;if(O?U=Q:(U=Q==="v"?"h":"v",O=g1(Q,oe)),!O)return!1;if(!n.current&&"changedTouches"in k&&(P||R)&&(n.current=U),!U)return!0;var F=n.current||U;return bS(F,E,k,F==="h"?P:R)},[]),d=ne.useCallback(function(k){var E=k;if(!(!au.length||au[au.length-1]!==a)){var j="deltaY"in E?v1(E):kh(E),C=e.current.filter(function(U){return U.name===E.type&&(U.target===E.target||E.target===U.shadowParent)&&xS(U.delta,j)})[0];if(C&&C.should){E.cancelable&&E.preventDefault();return}if(!C){var P=(l.current.shards||[]).map(y1).filter(Boolean).filter(function(U){return U.contains(E.target)}),R=P.length>0?c(E,P[0]):!l.current.noIsolation;R&&E.cancelable&&E.preventDefault()}}},[]),p=ne.useCallback(function(k,E,j,C){var P={name:k,delta:E,target:j,should:C,shadowParent:NS(j)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(R){return R!==P})},1)},[]),v=ne.useCallback(function(k){t.current=kh(k),n.current=void 0},[]),y=ne.useCallback(function(k){p(k.type,v1(k),k.target,c(k,r.lockRef.current))},[]),S=ne.useCallback(function(k){p(k.type,kh(k),k.target,c(k,r.lockRef.current))},[]);ne.useEffect(function(){return au.push(a),r.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",d,ou),document.addEventListener("touchmove",d,ou),document.addEventListener("touchstart",v,ou),function(){au=au.filter(function(k){return k!==a}),document.removeEventListener("wheel",d,ou),document.removeEventListener("touchmove",d,ou),document.removeEventListener("touchstart",v,ou)}},[]);var h=r.removeScrollBar,A=r.inert;return ne.createElement(ne.Fragment,null,A?ne.createElement(a,{styles:_S(o)}):null,h?ne.createElement(fS,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function NS(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const AS=eS(ry,kS);var ay=ne.forwardRef(function(r,e){return ne.createElement(hf,Bo({},r,{ref:e,sideCar:AS}))});ay.classNames=hf.classNames;var ES=[" ","Enter","ArrowUp","ArrowDown"],CS=[" ","Enter"],Pd="Select",[ff,pf,jS]=K_(Pd),[Tu]=qm(Pd,[jS,$2]),mf=$2(),[LS,Pl]=Tu(Pd),[PS,TS]=Tu(Pd),ly=r=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:o,onOpenChange:a,value:l,defaultValue:c,onValueChange:d,dir:p,name:v,autoComplete:y,disabled:S,required:h,form:A}=r,k=mf(e),[E,j]=ne.useState(null),[C,P]=ne.useState(null),[R,U]=ne.useState(!1),oe=Y_(p),[Q=!1,W]=f1({prop:n,defaultProp:o,onChange:a}),[H,se]=f1({prop:l,defaultProp:c,onChange:d}),O=ne.useRef(null),F=E?A||!!E.closest("form"):!0,[J,X]=ne.useState(new Set),fe=Array.from(J).map(de=>de.props.value).join(";");return w.jsx(R3,{...k,children:w.jsxs(LS,{required:h,scope:e,trigger:E,onTriggerChange:j,valueNode:C,onValueNodeChange:P,valueNodeHasChildren:R,onValueNodeHasChildrenChange:U,contentId:$m(),value:H,onValueChange:se,open:Q,onOpenChange:W,dir:oe,triggerPointerDownPosRef:O,disabled:S,children:[w.jsx(ff.Provider,{scope:e,children:w.jsx(PS,{scope:r.__scopeSelect,onNativeOptionAdd:ne.useCallback(de=>{X(ye=>new Set(ye).add(de))},[]),onNativeOptionRemove:ne.useCallback(de=>{X(ye=>{const $=new Set(ye);return $.delete(de),$})},[]),children:t})}),F?w.jsxs(Py,{"aria-hidden":!0,required:h,tabIndex:-1,name:v,autoComplete:y,value:H,onChange:de=>se(de.target.value),disabled:S,form:A,children:[H===void 0?w.jsx("option",{value:""}):null,Array.from(J)]},fe):null]})})};ly.displayName=Pd;var cy="SelectTrigger",uy=ne.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:n=!1,...o}=r,a=mf(t),l=Pl(cy,t),c=l.disabled||n,d=si(e,l.onTriggerChange),p=pf(t),v=ne.useRef("touch"),[y,S,h]=Ty(k=>{const E=p().filter(P=>!P.disabled),j=E.find(P=>P.value===l.value),C=Oy(E,k,j);C!==void 0&&l.onValueChange(C.value)}),A=k=>{c||(l.onOpenChange(!0),h()),k&&(l.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return w.jsx(I3,{asChild:!0,...a,children:w.jsx(An.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Ly(l.value)?"":void 0,...o,ref:d,onClick:Tn(o.onClick,k=>{k.currentTarget.focus(),v.current!=="mouse"&&A(k)}),onPointerDown:Tn(o.onPointerDown,k=>{v.current=k.pointerType;const E=k.target;E.hasPointerCapture(k.pointerId)&&E.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(A(k),k.preventDefault())}),onKeyDown:Tn(o.onKeyDown,k=>{const E=y.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&S(k.key),!(E&&k.key===" ")&&ES.includes(k.key)&&(A(),k.preventDefault())})})})});uy.displayName=cy;var dy="SelectValue",hy=ne.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:o,children:a,placeholder:l="",...c}=r,d=Pl(dy,t),{onValueNodeHasChildrenChange:p}=d,v=a!==void 0,y=si(e,d.onValueNodeChange);return _s(()=>{p(v)},[p,v]),w.jsx(An.span,{...c,ref:y,style:{pointerEvents:"none"},children:Ly(d.value)?w.jsx(w.Fragment,{children:l}):a})});hy.displayName=dy;var OS="SelectIcon",fy=ne.forwardRef((r,e)=>{const{__scopeSelect:t,children:n,...o}=r;return w.jsx(An.span,{"aria-hidden":!0,...o,ref:e,children:n||""})});fy.displayName=OS;var RS="SelectPortal",py=r=>w.jsx(Q2,{asChild:!0,...r});py.displayName=RS;var yc="SelectContent",my=ne.forwardRef((r,e)=>{const t=Pl(yc,r.__scopeSelect),[n,o]=ne.useState();if(_s(()=>{o(new DocumentFragment)},[]),!t.open){const a=n;return a?jd.createPortal(w.jsx(gy,{scope:r.__scopeSelect,children:w.jsx(ff.Slot,{scope:r.__scopeSelect,children:w.jsx("div",{children:r.children})})}),a):null}return w.jsx(vy,{...r,ref:e})});my.displayName=yc;var lo=10,[gy,Tl]=Tu(yc),IS="SelectContentImpl",vy=ne.forwardRef((r,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:d,align:p,alignOffset:v,arrowPadding:y,collisionBoundary:S,collisionPadding:h,sticky:A,hideWhenDetached:k,avoidCollisions:E,...j}=r,C=Pl(yc,t),[P,R]=ne.useState(null),[U,oe]=ne.useState(null),Q=si(e,re=>R(re)),[W,H]=ne.useState(null),[se,O]=ne.useState(null),F=pf(t),[J,X]=ne.useState(!1),fe=ne.useRef(!1);ne.useEffect(()=>{if(P)return V3(P)},[P]),s4();const de=ne.useCallback(re=>{const[ue,...me]=F().map(Me=>Me.ref.current),[_e]=me.slice(-1),Pe=document.activeElement;for(const Me of re)if(Me===Pe||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===ue&&U&&(U.scrollTop=0),Me===_e&&U&&(U.scrollTop=U.scrollHeight),Me==null||Me.focus(),document.activeElement!==Pe))return},[F,U]),ye=ne.useCallback(()=>de([W,P]),[de,W,P]);ne.useEffect(()=>{J&&ye()},[J,ye]);const{onOpenChange:$,triggerPointerDownPosRef:he}=C;ne.useEffect(()=>{if(P){let re={x:0,y:0};const ue=_e=>{var Pe,Me;re={x:Math.abs(Math.round(_e.pageX)-(((Pe=he.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Me=he.current)==null?void 0:Me.y)??0))}},me=_e=>{re.x<=10&&re.y<=10?_e.preventDefault():P.contains(_e.target)||$(!1),document.removeEventListener("pointermove",ue),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",me,{capture:!0})}}},[P,$,he]),ne.useEffect(()=>{const re=()=>$(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[$]);const[xe,G]=Ty(re=>{const ue=F().filter(Pe=>!Pe.disabled),me=ue.find(Pe=>Pe.ref.current===document.activeElement),_e=Oy(ue,re,me);_e&&setTimeout(()=>_e.ref.current.focus())}),T=ne.useCallback((re,ue,me)=>{const _e=!fe.current&&!me;(C.value!==void 0&&C.value===ue||_e)&&(H(re),_e&&(fe.current=!0))},[C.value]),q=ne.useCallback(()=>P==null?void 0:P.focus(),[P]),Y=ne.useCallback((re,ue,me)=>{const _e=!fe.current&&!me;(C.value!==void 0&&C.value===ue||_e)&&O(re)},[C.value]),ae=n==="popper"?vm:yy,le=ae===vm?{side:c,sideOffset:d,align:p,alignOffset:v,arrowPadding:y,collisionBoundary:S,collisionPadding:h,sticky:A,hideWhenDetached:k,avoidCollisions:E}:{};return w.jsx(gy,{scope:t,content:P,viewport:U,onViewportChange:oe,itemRefCallback:T,selectedItem:W,onItemLeave:q,itemTextRefCallback:Y,focusSelectedItem:ye,selectedItemText:se,position:n,isPositioned:J,searchRef:xe,children:w.jsx(ay,{as:Nu,allowPinchZoom:!0,children:w.jsx(C2,{asChild:!0,trapped:C.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Tn(o,re=>{var ue;(ue=C.trigger)==null||ue.focus({preventScroll:!0}),re.preventDefault()}),children:w.jsx(A2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:w.jsx(ae,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:re=>re.preventDefault(),...j,...le,onPlaced:()=>X(!0),ref:Q,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Tn(j.onKeyDown,re=>{const ue=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ue&&re.key.length===1&&G(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let _e=F().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Pe=re.target,Me=_e.indexOf(Pe);_e=_e.slice(Me+1)}setTimeout(()=>de(_e)),re.preventDefault()}})})})})})})});vy.displayName=IS;var DS="SelectItemAlignedPosition",yy=ne.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:n,...o}=r,a=Pl(yc,t),l=Tl(yc,t),[c,d]=ne.useState(null),[p,v]=ne.useState(null),y=si(e,Q=>v(Q)),S=pf(t),h=ne.useRef(!1),A=ne.useRef(!0),{viewport:k,selectedItem:E,selectedItemText:j,focusSelectedItem:C}=l,P=ne.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&p&&k&&E&&j){const Q=a.trigger.getBoundingClientRect(),W=p.getBoundingClientRect(),H=a.valueNode.getBoundingClientRect(),se=j.getBoundingClientRect();if(a.dir!=="rtl"){const Pe=se.left-W.left,Me=H.left-Pe,$e=Q.left-Me,Ke=Q.width+$e,Z=Math.max(Ke,W.width),He=window.innerWidth-lo,_t=K0(Me,[lo,Math.max(lo,He-Z)]);c.style.minWidth=Ke+"px",c.style.left=_t+"px"}else{const Pe=W.right-se.right,Me=window.innerWidth-H.right-Pe,$e=window.innerWidth-Q.right-Me,Ke=Q.width+$e,Z=Math.max(Ke,W.width),He=window.innerWidth-lo,_t=K0(Me,[lo,Math.max(lo,He-Z)]);c.style.minWidth=Ke+"px",c.style.right=_t+"px"}const O=S(),F=window.innerHeight-lo*2,J=k.scrollHeight,X=window.getComputedStyle(p),fe=parseInt(X.borderTopWidth,10),de=parseInt(X.paddingTop,10),ye=parseInt(X.borderBottomWidth,10),$=parseInt(X.paddingBottom,10),he=fe+de+J+$+ye,xe=Math.min(E.offsetHeight*5,he),G=window.getComputedStyle(k),T=parseInt(G.paddingTop,10),q=parseInt(G.paddingBottom,10),Y=Q.top+Q.height/2-lo,ae=F-Y,le=E.offsetHeight/2,re=E.offsetTop+le,ue=fe+de+re,me=he-ue;if(ue<=Y){const Pe=O.length>0&&E===O[O.length-1].ref.current;c.style.bottom="0px";const Me=p.clientHeight-k.offsetTop-k.offsetHeight,$e=Math.max(ae,le+(Pe?q:0)+Me+ye),Ke=ue+$e;c.style.height=Ke+"px"}else{const Pe=O.length>0&&E===O[0].ref.current;c.style.top="0px";const $e=Math.max(Y,fe+k.offsetTop+(Pe?T:0)+le)+me;c.style.height=$e+"px",k.scrollTop=ue-Y+k.offsetTop}c.style.margin=`${lo}px 0`,c.style.minHeight=xe+"px",c.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[S,a.trigger,a.valueNode,c,p,k,E,j,a.dir,n]);_s(()=>P(),[P]);const[R,U]=ne.useState();_s(()=>{p&&U(window.getComputedStyle(p).zIndex)},[p]);const oe=ne.useCallback(Q=>{Q&&A.current===!0&&(P(),C==null||C(),A.current=!1)},[P,C]);return w.jsx(MS,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:h,onScrollButtonChange:oe,children:w.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:w.jsx(An.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});yy.displayName=DS;var FS="SelectPopperPosition",vm=ne.forwardRef((r,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:o=lo,...a}=r,l=mf(t);return w.jsx(D3,{...l,...a,ref:e,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vm.displayName=FS;var[MS,Qm]=Tu(yc,{}),ym="SelectViewport",wy=ne.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:n,...o}=r,a=Tl(ym,t),l=Qm(ym,t),c=si(e,a.onViewportChange),d=ne.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),w.jsx(ff.Slot,{scope:t,children:w.jsx(An.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Tn(o.onScroll,p=>{const v=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:S}=l;if(S!=null&&S.current&&y){const h=Math.abs(d.current-v.scrollTop);if(h>0){const A=window.innerHeight-lo*2,k=parseFloat(y.style.minHeight),E=parseFloat(y.style.height),j=Math.max(k,E);if(j<A){const C=j+h,P=Math.min(A,C),R=C-P;y.style.height=P+"px",y.style.bottom==="0px"&&(v.scrollTop=R>0?R:0,y.style.justifyContent="flex-end")}}}d.current=v.scrollTop})})})]})});wy.displayName=ym;var by="SelectGroup",[BS,US]=Tu(by),zS=ne.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=$m();return w.jsx(BS,{scope:t,id:o,children:w.jsx(An.div,{role:"group","aria-labelledby":o,...n,ref:e})})});zS.displayName=by;var xy="SelectLabel",qS=ne.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=US(xy,t);return w.jsx(An.div,{id:o.id,...n,ref:e})});qS.displayName=xy;var ef="SelectItem",[$S,_y]=Tu(ef),Sy=ne.forwardRef((r,e)=>{const{__scopeSelect:t,value:n,disabled:o=!1,textValue:a,...l}=r,c=Pl(ef,t),d=Tl(ef,t),p=c.value===n,[v,y]=ne.useState(a??""),[S,h]=ne.useState(!1),A=si(e,C=>{var P;return(P=d.itemRefCallback)==null?void 0:P.call(d,C,n,o)}),k=$m(),E=ne.useRef("touch"),j=()=>{o||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx($S,{scope:t,value:n,disabled:o,textId:k,isSelected:p,onItemTextChange:ne.useCallback(C=>{y(P=>P||((C==null?void 0:C.textContent)??"").trim())},[]),children:w.jsx(ff.ItemSlot,{scope:t,value:n,disabled:o,textValue:v,children:w.jsx(An.div,{role:"option","aria-labelledby":k,"data-highlighted":S?"":void 0,"aria-selected":p&&S,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:A,onFocus:Tn(l.onFocus,()=>h(!0)),onBlur:Tn(l.onBlur,()=>h(!1)),onClick:Tn(l.onClick,()=>{E.current!=="mouse"&&j()}),onPointerUp:Tn(l.onPointerUp,()=>{E.current==="mouse"&&j()}),onPointerDown:Tn(l.onPointerDown,C=>{E.current=C.pointerType}),onPointerMove:Tn(l.onPointerMove,C=>{var P;E.current=C.pointerType,o?(P=d.onItemLeave)==null||P.call(d):E.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Tn(l.onPointerLeave,C=>{var P;C.currentTarget===document.activeElement&&((P=d.onItemLeave)==null||P.call(d))}),onKeyDown:Tn(l.onKeyDown,C=>{var R;((R=d.searchRef)==null?void 0:R.current)!==""&&C.key===" "||(CS.includes(C.key)&&j(),C.key===" "&&C.preventDefault())})})})})});Sy.displayName=ef;var fd="SelectItemText",ky=ne.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:o,...a}=r,l=Pl(fd,t),c=Tl(fd,t),d=_y(fd,t),p=TS(fd,t),[v,y]=ne.useState(null),S=si(e,j=>y(j),d.onItemTextChange,j=>{var C;return(C=c.itemTextRefCallback)==null?void 0:C.call(c,j,d.value,d.disabled)}),h=v==null?void 0:v.textContent,A=ne.useMemo(()=>w.jsx("option",{value:d.value,disabled:d.disabled,children:h},d.value),[d.disabled,d.value,h]),{onNativeOptionAdd:k,onNativeOptionRemove:E}=p;return _s(()=>(k(A),()=>E(A)),[k,E,A]),w.jsxs(w.Fragment,{children:[w.jsx(An.span,{id:d.textId,...a,ref:S}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?jd.createPortal(a.children,l.valueNode):null]})});ky.displayName=fd;var Ny="SelectItemIndicator",Ay=ne.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return _y(Ny,t).isSelected?w.jsx(An.span,{"aria-hidden":!0,...n,ref:e}):null});Ay.displayName=Ny;var wm="SelectScrollUpButton",Ey=ne.forwardRef((r,e)=>{const t=Tl(wm,r.__scopeSelect),n=Qm(wm,r.__scopeSelect),[o,a]=ne.useState(!1),l=si(e,n.onScrollButtonChange);return _s(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=d.scrollTop>0;a(p)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),o?w.jsx(jy,{...r,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Ey.displayName=wm;var bm="SelectScrollDownButton",Cy=ne.forwardRef((r,e)=>{const t=Tl(bm,r.__scopeSelect),n=Qm(bm,r.__scopeSelect),[o,a]=ne.useState(!1),l=si(e,n.onScrollButtonChange);return _s(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=d.scrollHeight-d.clientHeight,v=Math.ceil(d.scrollTop)<p;a(v)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),o?w.jsx(jy,{...r,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Cy.displayName=bm;var jy=ne.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:n,...o}=r,a=Tl("SelectScrollButton",t),l=ne.useRef(null),c=pf(t),d=ne.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return ne.useEffect(()=>()=>d(),[d]),_s(()=>{var v;const p=c().find(y=>y.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[c]),w.jsx(An.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Tn(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Tn(o.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Tn(o.onPointerLeave,()=>{d()})})}),WS="SelectSeparator",VS=ne.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return w.jsx(An.div,{"aria-hidden":!0,...n,ref:e})});VS.displayName=WS;var xm="SelectArrow",HS=ne.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=mf(t),a=Pl(xm,t),l=Tl(xm,t);return a.open&&l.position==="popper"?w.jsx(F3,{...o,...n,ref:e}):null});HS.displayName=xm;function Ly(r){return r===""||r===void 0}var Py=ne.forwardRef((r,e)=>{const{value:t,...n}=r,o=ne.useRef(null),a=si(e,o),l=U3(t);return ne.useEffect(()=>{const c=o.current,d=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&v){const y=new Event("change",{bubbles:!0});v.call(c,t),c.dispatchEvent(y)}},[l,t]),w.jsx(Z2,{asChild:!0,children:w.jsx("select",{...n,ref:a,defaultValue:t})})});Py.displayName="BubbleSelect";function Ty(r){const e=Da(r),t=ne.useRef(""),n=ne.useRef(0),o=ne.useCallback(l=>{const c=t.current+l;e(c),(function d(p){t.current=p,window.clearTimeout(n.current),p!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=ne.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return ne.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,o,a]}function Oy(r,e,t){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?r.indexOf(t):-1;let l=GS(r,Math.max(a,0));o.length===1&&(l=l.filter(p=>p!==t));const d=l.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return d!==t?d:void 0}function GS(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var KS=ly,JS=uy,YS=hy,XS=fy,QS=py,ZS=my,ek=wy,tk=Sy,rk=ky,nk=Ay,ik=Ey,sk=Cy;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ak=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),w1=r=>{const e=ak(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ry=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ne.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:l,...c},d)=>ne.createElement("svg",{ref:d,...lk,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:Ry("lucide",o),...c},[...l.map(([p,v])=>ne.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=(r,e)=>{const t=ne.forwardRef(({className:n,...o},a)=>ne.createElement(ck,{ref:a,iconNode:e,className:Ry(`lucide-${ok(w1(r))}`,`lucide-${r}`,n),...o}));return t.displayName=w1(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dk=Zm("check",uk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Iy=Zm("chevron-down",hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pk=Zm("chevron-up",fk);function Ta({...r}){return w.jsx(KS,{"data-slot":"select",...r})}function Oa({...r}){return w.jsx(YS,{"data-slot":"select-value",...r})}function Ra({className:r,size:e="default",children:t,...n}){return w.jsxs(JS,{"data-slot":"select-trigger","data-size":e,className:Ii("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n,children:[t,w.jsx(XS,{asChild:!0,children:w.jsx(Iy,{className:"size-4 opacity-50"})})]})}function Ia({className:r,children:e,position:t="popper",...n}){return w.jsx(QS,{children:w.jsxs(ZS,{"data-slot":"select-content",className:Ii("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...n,children:[w.jsx(mk,{}),w.jsx(ek,{className:Ii("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),w.jsx(gk,{})]})})}function Jt({className:r,children:e,...t}){return w.jsxs(tk,{"data-slot":"select-item",className:Ii("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[w.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:w.jsx(nk,{children:w.jsx(dk,{className:"size-4"})})}),w.jsx(rk,{children:e})]})}function mk({className:r,...e}){return w.jsx(ik,{"data-slot":"select-scroll-up-button",className:Ii("flex cursor-default items-center justify-center py-1",r),...e,children:w.jsx(pk,{className:"size-4"})})}function gk({className:r,...e}){return w.jsx(sk,{"data-slot":"select-scroll-down-button",className:Ii("flex cursor-default items-center justify-center py-1",r),...e,children:w.jsx(Iy,{className:"size-4"})})}const b1=()=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),description:"",unitPrice:"",quantity:"1",vatPercentage:"21"}),x1=({quotationId:r,onNavigate:e,onSaved:t})=>{const{accessToken:n,loading:o}=Wo(),[a,l]=ne.useState(!1),[c,d]=ne.useState(""),[p,v]=ne.useState(""),[y,S]=ne.useState([b1()]),[h,A]=ne.useState({clientName:"",clientAddress:"",status:"draft",date:new Date().toISOString().split("T")[0],expiryDate:""});ne.useEffect(()=>{if(!h.expiryDate&&!r){const se=new Date;se.setDate(se.getDate()+30),A(O=>({...O,expiryDate:se.toISOString().split("T")[0]}))}},[]),ne.useEffect(()=>{console.log("QuotationForm - Auth loading:",o),console.log("QuotationForm - Access token present:",!!n),n&&console.log("QuotationForm - Access token length:",n.length)},[n,o]),ne.useEffect(()=>{r&&k()},[r]);const k=async()=>{var se,O;if(!(!n||!r))try{const J=(await On.getQuotation(n,r)).quotation;A({clientName:J.clientName,clientAddress:J.clientAddress,status:J.status,date:J.date.split("T")[0],expiryDate:J.expiryDate?J.expiryDate.split("T")[0]:""}),J.lineItems&&J.lineItems.length>0?S(J.lineItems):S([{id:"1",description:J.description||"",unitPrice:((se=J.price)==null?void 0:se.toString())||"",quantity:"1",vatPercentage:((O=J.vatPercentage)==null?void 0:O.toString())||"21"}])}catch(F){console.error("Error fetching quotation:",F)}},E=()=>{S([...y,b1()])},j=se=>{y.length>1&&S(y.filter(O=>O.id!==se))},C=(se,O,F)=>{S(y.map(J=>J.id===se?{...J,[O]:F}:J))},P=se=>{const O=parseFloat(se.unitPrice)||0,F=parseFloat(se.quantity)||0;return O*F},R=se=>{const O=P(se),F=parseFloat(se.vatPercentage)||0;return O*F/100},U=()=>y.reduce((se,O)=>se+P(O),0),oe=()=>{const se={};return y.forEach(O=>{const F=O.vatPercentage;se[F]||(se[F]=0),se[F]+=R(O)}),se},Q=()=>y.reduce((se,O)=>se+R(O),0),W=()=>U()+Q(),H=async se=>{se.preventDefault(),d(""),v(""),l(!0);try{if(!n)throw new Error("Je bent niet ingelogd. Log opnieuw in.");const O=y.filter(X=>X.description.trim()&&parseFloat(X.unitPrice)>0);if(O.length===0)throw new Error("Voeg minimaal n regel met omschrijving en prijs toe.");const F=O.map(X=>X.description).join(`
`),J={...h,description:F,price:U(),vatPercentage:21,lineItems:O.map(X=>({...X,unitPrice:parseFloat(X.unitPrice)||0,quantity:parseFloat(X.quantity)||1,vatPercentage:parseFloat(X.vatPercentage)||21}))};r?await On.updateQuotation(n,r,J):await On.createQuotation(n,J),v("Offerte succesvol opgeslagen!"),setTimeout(()=>{t?t():e("quotations")},1e3)}catch(O){console.error("Quotation save error:",O),d(O.message||"Er is een onbekende fout opgetreden bij het opslaan")}finally{l(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow-sm",children:w.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:w.jsx(It,{variant:"ghost",onClick:()=>e("dashboard"),children:" Terug naar Dashboard"})})}),w.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:w.jsxs(gr,{children:[w.jsxs(xi,{children:[w.jsx(_i,{children:r?"Offerte Bewerken":"Nieuwe Offerte"}),w.jsx(Xi,{children:"Vul de gegevens in voor je offerte"})]}),w.jsx(an,{children:w.jsxs("form",{onSubmit:H,className:"space-y-6",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Klantgegevens"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"clientName",children:"Klant Naam *"}),w.jsx(Yr,{id:"clientName",value:h.clientName,onChange:se=>A({...h,clientName:se.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"clientAddress",children:"Klant Adres *"}),w.jsx(Jh,{id:"clientAddress",value:h.clientAddress,onChange:se=>A({...h,clientAddress:se.target.value}),rows:3,required:!0})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Offerte Details"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"date",children:"Offertedatum *"}),w.jsx(Yr,{id:"date",type:"date",value:h.date,onChange:se=>A({...h,date:se.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"expiryDate",children:"Geldig tot *"}),w.jsx(Yr,{id:"expiryDate",type:"date",value:h.expiryDate,onChange:se=>A({...h,expiryDate:se.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"status",children:"Status *"}),w.jsxs(Ta,{value:h.status,onValueChange:se=>A({...h,status:se}),children:[w.jsx(Ra,{children:w.jsx(Oa,{})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"draft",children:"Concept"}),w.jsx(Jt,{value:"sent",children:"Verstuurd"}),w.jsx(Jt,{value:"accepted",children:"Geaccepteerd"})]})]})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Werkzaamheden"}),w.jsx(It,{type:"button",variant:"outline",size:"sm",onClick:E,children:"+ Regel toevoegen"})]}),w.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-2 text-sm font-medium text-gray-600 px-2",children:[w.jsx("div",{className:"col-span-5",children:"Omschrijving"}),w.jsx("div",{className:"col-span-2",children:"Bedrag"}),w.jsx("div",{className:"col-span-2",children:"Aantal"}),w.jsx("div",{className:"col-span-2",children:"BTW"}),w.jsx("div",{className:"col-span-1"})]}),y.map((se,O)=>w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 p-3 bg-gray-50 rounded-lg",children:[w.jsxs("div",{className:"col-span-1 md:col-span-5",children:[w.jsx(dr,{className:"md:hidden text-xs text-gray-500",children:"Omschrijving"}),w.jsx(Yr,{placeholder:"Omschrijving werkzaamheden",value:se.description,onChange:F=>C(se.id,"description",F.target.value)})]}),w.jsxs("div",{className:"col-span-1 md:col-span-2",children:[w.jsx(dr,{className:"md:hidden text-xs text-gray-500",children:"Bedrag ()"}),w.jsx(Yr,{type:"number",step:"0.01",placeholder:"0,00",value:se.unitPrice,onChange:F=>C(se.id,"unitPrice",F.target.value)})]}),w.jsxs("div",{className:"col-span-1 md:col-span-2",children:[w.jsx(dr,{className:"md:hidden text-xs text-gray-500",children:"Aantal"}),w.jsx(Yr,{type:"number",step:"1",min:"1",placeholder:"1",value:se.quantity,onChange:F=>C(se.id,"quantity",F.target.value)})]}),w.jsxs("div",{className:"col-span-1 md:col-span-2",children:[w.jsx(dr,{className:"md:hidden text-xs text-gray-500",children:"BTW %"}),w.jsxs(Ta,{value:se.vatPercentage,onValueChange:F=>C(se.id,"vatPercentage",F),children:[w.jsx(Ra,{children:w.jsx(Oa,{})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"0",children:"0%"}),w.jsx(Jt,{value:"9",children:"9%"}),w.jsx(Jt,{value:"21",children:"21%"})]})]})]}),w.jsx("div",{className:"col-span-1 md:col-span-1 flex items-end justify-end md:justify-center",children:w.jsx(It,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(se.id),disabled:y.length===1,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:""})}),w.jsxs("div",{className:"col-span-1 md:hidden text-right text-sm font-medium text-gray-700",children:["Totaal: ",P(se).toFixed(2)]})]},se.id)),w.jsx(It,{type:"button",variant:"ghost",size:"sm",onClick:E,className:"w-full border-2 border-dashed",children:"+ Nog een regel toevoegen"})]}),U()>0&&w.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{children:"Subtotaal:"}),w.jsxs("span",{children:["",U().toFixed(2)]})]}),Object.entries(oe()).map(([se,O])=>O>0&&w.jsxs("div",{className:"flex justify-between text-gray-600",children:[w.jsxs("span",{children:["BTW ",se,"%:"]}),w.jsxs("span",{children:["",O.toFixed(2)]})]},se)),w.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[w.jsx("span",{children:"Totaal incl. BTW:"}),w.jsxs("span",{children:["",W().toFixed(2)]})]})]}),c&&w.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:c}),p&&w.jsx("div",{className:"text-green-600 text-sm p-3 bg-green-50 rounded",children:p}),w.jsxs("div",{className:"flex space-x-4",children:[w.jsx(It,{type:"submit",disabled:a,children:a?"Bezig...":r?"Bijwerken":"Aanmaken"}),w.jsx(It,{type:"button",variant:"outline",onClick:()=>e("dashboard"),children:"Annuleren"})]})]})})]})})]})},vk=({onNavigate:r})=>{const{accessToken:e}=Wo(),[t,n]=ne.useState([]),[o,a]=ne.useState(!0),[l,c]=ne.useState(""),[d,p]=ne.useState("all"),[v,y]=ne.useState("date-desc"),[S,h]=ne.useState("grouped");ne.useEffect(()=>{A()},[e]);const A=async()=>{if(e)try{const P=await On.getQuotations(e);n(P.quotations||[])}catch(P){console.error("Error fetching quotations:",P)}finally{a(!1)}},k=ne.useMemo(()=>{let P=[...t];if(d!=="all"&&(P=P.filter(R=>R.status===d)),l){const R=l.toLowerCase();P=P.filter(U=>{var oe,Q,W;return((oe=U.clientName)==null?void 0:oe.toLowerCase().includes(R))||((Q=U.quotationNumber)==null?void 0:Q.toLowerCase().includes(R))||((W=U.description)==null?void 0:W.toLowerCase().includes(R))})}return P.sort((R,U)=>{switch(v){case"date-desc":return new Date(U.date).getTime()-new Date(R.date).getTime();case"date-asc":return new Date(R.date).getTime()-new Date(U.date).getTime();case"price-desc":return(U.price||0)-(R.price||0);case"price-asc":return(R.price||0)-(U.price||0);case"client-asc":return(R.clientName||"").localeCompare(U.clientName||"");case"client-desc":return(U.clientName||"").localeCompare(R.clientName||"");default:return 0}}),P},[t,d,l,v]),E=ne.useMemo(()=>{const P={};return k.forEach(R=>{const oe=new Date(R.date).toLocaleDateString("nl-NL",{month:"long",year:"numeric"});P[oe]||(P[oe]=[]),P[oe].push(R)}),P},[k]),j=ne.useMemo(()=>{const P=k.reduce((U,oe)=>U+(oe.price||0),0),R={draft:k.filter(U=>U.status==="draft").length,sent:k.filter(U=>U.status==="sent").length,accepted:k.filter(U=>U.status==="accepted").length};return{total:P,byStatus:R,count:k.length}},[k]),C=P=>new Date(P).toLocaleDateString("nl-NL",{day:"numeric",month:"short",year:"numeric"});return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow-sm",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Alle Offertes"}),w.jsxs("div",{className:"flex space-x-4",children:[w.jsx(It,{onClick:()=>r("create-quotation"),children:"+ Nieuwe Offerte"}),w.jsx(It,{variant:"outline",onClick:()=>r("dashboard"),children:"Dashboard"})]})]})})}),w.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Totaal waarde"}),w.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",j.total.toFixed(2)]})]})}),w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Concept"}),w.jsx("p",{className:"text-2xl font-bold text-gray-600",children:j.byStatus.draft})]})}),w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Verstuurd"}),w.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.byStatus.sent})]})}),w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Geaccepteerd"}),w.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.byStatus.accepted})]})})]}),w.jsx(gr,{className:"mb-6",children:w.jsxs(an,{className:"p-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsx(Yr,{placeholder:"Zoek op naam, nummer of omschrijving...",value:l,onChange:P=>c(P.target.value),className:"md:col-span-2"}),w.jsxs(Ta,{value:d,onValueChange:p,children:[w.jsx(Ra,{children:w.jsx(Oa,{placeholder:"Filter op status"})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"all",children:"Alle Statussen"}),w.jsx(Jt,{value:"draft",children:"Concept"}),w.jsx(Jt,{value:"sent",children:"Verstuurd"}),w.jsx(Jt,{value:"accepted",children:"Geaccepteerd"})]})]}),w.jsxs(Ta,{value:v,onValueChange:P=>y(P),children:[w.jsx(Ra,{children:w.jsx(Oa,{placeholder:"Sorteren"})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"date-desc",children:"Nieuwste eerst"}),w.jsx(Jt,{value:"date-asc",children:"Oudste eerst"}),w.jsx(Jt,{value:"price-desc",children:"Hoogste prijs"}),w.jsx(Jt,{value:"price-asc",children:"Laagste prijs"}),w.jsx(Jt,{value:"client-asc",children:"Klant A-Z"}),w.jsx(Jt,{value:"client-desc",children:"Klant Z-A"})]})]})]}),w.jsxs("div",{className:"flex justify-between items-center mt-4",children:[w.jsxs("p",{className:"text-sm text-gray-500",children:[j.count," offerte(s) gevonden"]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(It,{variant:S==="grouped"?"default":"outline",size:"sm",onClick:()=>h("grouped"),children:"Gegroepeerd"}),w.jsx(It,{variant:S==="list"?"default":"outline",size:"sm",onClick:()=>h("list"),children:"Lijst"})]})]})]})}),o?w.jsx("div",{className:"text-center py-8",children:"Laden..."}):k.length===0?w.jsx(gr,{children:w.jsxs(an,{className:"py-8 text-center",children:[w.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"Nog geen offertes. Maak je eerste offerte aan!":"Geen offertes gevonden met deze filters."}),t.length===0&&w.jsx(It,{onClick:()=>r("create-quotation"),children:"Eerste Offerte Aanmaken"})]})}):S==="grouped"?w.jsx("div",{className:"space-y-6",children:Object.entries(E).map(([P,R])=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-700 capitalize",children:P}),w.jsxs("span",{className:"text-sm text-gray-500",children:[R.length," offerte(s) - ",R.reduce((U,oe)=>U+(oe.price||0),0).toFixed(2)]})]}),w.jsx("div",{className:"space-y-2",children:R.map(U=>{var oe,Q;return w.jsx("div",{className:"bg-white rounded-lg border p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r(`quotation-detail-${U.id}`),children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold",children:((Q=(oe=U.clientName)==null?void 0:oe.charAt(0))==null?void 0:Q.toUpperCase())||"?"}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("p",{className:"font-medium",children:U.clientName}),w.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Kh(U.status)}`,children:Gh(U.status)})]}),w.jsxs("p",{className:"text-sm text-gray-500",children:[U.quotationNumber,"  ",C(U.date)]})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"text-lg font-bold",children:["",(U.price||0).toFixed(2)]}),w.jsx("p",{className:"text-xs text-gray-500",children:"excl. BTW"})]})]})},U.id)})})]},P))}):w.jsx(gr,{children:w.jsx(an,{className:"p-0",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50 border-b",children:w.jsxs("tr",{children:[w.jsx("th",{className:"text-left p-4 font-medium text-gray-600",children:"Klant"}),w.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden md:table-cell",children:"Nummer"}),w.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden md:table-cell",children:"Datum"}),w.jsx("th",{className:"text-left p-4 font-medium text-gray-600",children:"Status"}),w.jsx("th",{className:"text-right p-4 font-medium text-gray-600",children:"Bedrag"})]})}),w.jsx("tbody",{children:k.map((P,R)=>w.jsxs("tr",{className:`border-b hover:bg-gray-50 cursor-pointer ${R%2===0?"bg-white":"bg-gray-50/50"}`,onClick:()=>r(`quotation-detail-${P.id}`),children:[w.jsxs("td",{className:"p-4",children:[w.jsx("p",{className:"font-medium",children:P.clientName}),w.jsx("p",{className:"text-sm text-gray-500 md:hidden",children:P.quotationNumber})]}),w.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:P.quotationNumber}),w.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:C(P.date)}),w.jsx("td",{className:"p-4",children:w.jsx("span",{className:`text-xs px-2 py-1 rounded ${Kh(P.status)}`,children:Gh(P.status)})}),w.jsxs("td",{className:"p-4 text-right font-medium",children:["",(P.price||0).toFixed(2)]})]},P.id))})]})})})]})]})},eg=(r,e)=>r*e/100,Dy=(r,e)=>r+eg(r,e),yk="modulepreload",wk=function(r){return"/"+r},_1={},jp=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=l(t.map(p=>{if(p=wk(p),p in _1)return;_1[p]=!0;const v=p.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":yk,v||(S.as="script"),S.crossOrigin="",S.href=p,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((h,A)=>{S.addEventListener("load",h),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function Cr(r){"@babel/helpers - typeof";return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(r)}var po=Uint8Array,bs=Uint16Array,tg=Int32Array,rg=new po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ng=new po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),S1=new po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fy=function(r,e){for(var t=new bs(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var o=new tg(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)o[a]=a-t[n]<<5|n;return{b:t,r:o}},My=Fy(rg,2),bk=My.b,_m=My.r;bk[28]=258,_m[258]=28;var xk=Fy(ng,0),k1=xk.r,Sm=new bs(32768);for(var $r=0;$r<32768;++$r){var _l=($r&43690)>>1|($r&21845)<<1;_l=(_l&52428)>>2|(_l&13107)<<2,_l=(_l&61680)>>4|(_l&3855)<<4,Sm[$r]=((_l&65280)>>8|(_l&255)<<8)>>1}var gd=(function(r,e,t){for(var n=r.length,o=0,a=new bs(e);o<n;++o)r[o]&&++a[r[o]-1];var l=new bs(e);for(o=1;o<e;++o)l[o]=l[o-1]+a[o-1]<<1;var c;if(t){c=new bs(1<<e);var d=15-e;for(o=0;o<n;++o)if(r[o])for(var p=o<<4|r[o],v=e-r[o],y=l[r[o]-1]++<<v,S=y|(1<<v)-1;y<=S;++y)c[Sm[y]>>d]=p}else for(c=new bs(n),o=0;o<n;++o)r[o]&&(c[o]=Sm[l[r[o]-1]++]>>15-r[o]);return c}),wc=new po(288);for(var $r=0;$r<144;++$r)wc[$r]=8;for(var $r=144;$r<256;++$r)wc[$r]=9;for(var $r=256;$r<280;++$r)wc[$r]=7;for(var $r=280;$r<288;++$r)wc[$r]=8;var tf=new po(32);for(var $r=0;$r<32;++$r)tf[$r]=5;var _k=gd(wc,9,0),Sk=gd(tf,5,0),By=function(r){return(r+7)/8|0},kk=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new po(r.subarray(e,t))},Ca=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},ud=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Lp=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var o=t.length,a=t.slice();if(!o)return{t:zy,l:0};if(o==1){var l=new po(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(U,oe){return U.f-oe.f}),t.push({s:-1,f:25001});var c=t[0],d=t[1],p=0,v=1,y=2;for(t[0]={s:-1,f:c.f+d.f,l:c,r:d};v!=o-1;)c=t[t[p].f<t[y].f?p++:y++],d=t[p!=v&&t[p].f<t[y].f?p++:y++],t[v++]={s:-1,f:c.f+d.f,l:c,r:d};for(var S=a[0].s,n=1;n<o;++n)a[n].s>S&&(S=a[n].s);var h=new bs(S+1),A=km(t[v-1],h,0);if(A>e){var n=0,k=0,E=A-e,j=1<<E;for(a.sort(function(oe,Q){return h[Q.s]-h[oe.s]||oe.f-Q.f});n<o;++n){var C=a[n].s;if(h[C]>e)k+=j-(1<<A-h[C]),h[C]=e;else break}for(k>>=E;k>0;){var P=a[n].s;h[P]<e?k-=1<<e-h[P]++-1:++n}for(;n>=0&&k;--n){var R=a[n].s;h[R]==e&&(--h[R],++k)}A=e}return{t:new po(h),l:A}},km=function(r,e,t){return r.s==-1?Math.max(km(r.l,e,t+1),km(r.r,e,t+1)):e[r.s]=t},N1=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new bs(++e),n=0,o=r[0],a=1,l=function(d){t[n++]=d},c=1;c<=e;++c)if(r[c]==o&&c!=e)++a;else{if(!o&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(o),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(o);a=1,o=r[c]}return{c:t.subarray(0,n),n:e}},dd=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},Uy=function(r,e,t){var n=t.length,o=By(e+2);r[o]=n&255,r[o+1]=n>>8,r[o+2]=r[o]^255,r[o+3]=r[o+1]^255;for(var a=0;a<n;++a)r[o+a+4]=t[a];return(o+4+n)*8},A1=function(r,e,t,n,o,a,l,c,d,p,v){Ca(e,v++,t),++o[256];for(var y=Lp(o,15),S=y.t,h=y.l,A=Lp(a,15),k=A.t,E=A.l,j=N1(S),C=j.c,P=j.n,R=N1(k),U=R.c,oe=R.n,Q=new bs(19),W=0;W<C.length;++W)++Q[C[W]&31];for(var W=0;W<U.length;++W)++Q[U[W]&31];for(var H=Lp(Q,7),se=H.t,O=H.l,F=19;F>4&&!se[S1[F-1]];--F);var J=p+5<<3,X=dd(o,wc)+dd(a,tf)+l,fe=dd(o,S)+dd(a,k)+l+14+3*F+dd(Q,se)+2*Q[16]+3*Q[17]+7*Q[18];if(d>=0&&J<=X&&J<=fe)return Uy(e,v,r.subarray(d,d+p));var de,ye,$,he;if(Ca(e,v,1+(fe<X)),v+=2,fe<X){de=gd(S,h,0),ye=S,$=gd(k,E,0),he=k;var xe=gd(se,O,0);Ca(e,v,P-257),Ca(e,v+5,oe-1),Ca(e,v+10,F-4),v+=14;for(var W=0;W<F;++W)Ca(e,v+3*W,se[S1[W]]);v+=3*F;for(var G=[C,U],T=0;T<2;++T)for(var q=G[T],W=0;W<q.length;++W){var Y=q[W]&31;Ca(e,v,xe[Y]),v+=se[Y],Y>15&&(Ca(e,v,q[W]>>5&127),v+=q[W]>>12)}}else de=_k,ye=wc,$=Sk,he=tf;for(var W=0;W<c;++W){var ae=n[W];if(ae>255){var Y=ae>>18&31;ud(e,v,de[Y+257]),v+=ye[Y+257],Y>7&&(Ca(e,v,ae>>23&31),v+=rg[Y]);var le=ae&31;ud(e,v,$[le]),v+=he[le],le>3&&(ud(e,v,ae>>5&8191),v+=ng[le])}else ud(e,v,de[ae]),v+=ye[ae]}return ud(e,v,de[256]),v+ye[256]},Nk=new tg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zy=new po(0),Ak=function(r,e,t,n,o,a){var l=a.z||r.length,c=new po(n+l+5*(1+Math.ceil(l/7e3))+o),d=c.subarray(n,c.length-o),p=a.l,v=(a.r||0)&7;if(e){v&&(d[0]=a.r>>3);for(var y=Nk[e-1],S=y>>13,h=y&8191,A=(1<<t)-1,k=a.p||new bs(32768),E=a.h||new bs(A+1),j=Math.ceil(t/3),C=2*j,P=function(Ke){return(r[Ke]^r[Ke+1]<<j^r[Ke+2]<<C)&A},R=new tg(25e3),U=new bs(288),oe=new bs(32),Q=0,W=0,H=a.i||0,se=0,O=a.w||0,F=0;H+2<l;++H){var J=P(H),X=H&32767,fe=E[J];if(k[X]=fe,E[J]=X,O<=H){var de=l-H;if((Q>7e3||se>24576)&&(de>423||!p)){v=A1(r,d,0,R,U,oe,W,se,F,H-F,v),se=Q=W=0,F=H;for(var ye=0;ye<286;++ye)U[ye]=0;for(var ye=0;ye<30;++ye)oe[ye]=0}var $=2,he=0,xe=h,G=X-fe&32767;if(de>2&&J==P(H-G))for(var T=Math.min(S,de)-1,q=Math.min(32767,H),Y=Math.min(258,de);G<=q&&--xe&&X!=fe;){if(r[H+$]==r[H+$-G]){for(var ae=0;ae<Y&&r[H+ae]==r[H+ae-G];++ae);if(ae>$){if($=ae,he=G,ae>T)break;for(var le=Math.min(G,ae-2),re=0,ye=0;ye<le;++ye){var ue=H-G+ye&32767,me=k[ue],_e=ue-me&32767;_e>re&&(re=_e,fe=ue)}}}X=fe,fe=k[X],G+=X-fe&32767}if(he){R[se++]=268435456|_m[$]<<18|k1[he];var Pe=_m[$]&31,Me=k1[he]&31;W+=rg[Pe]+ng[Me],++U[257+Pe],++oe[Me],O=H+$,++Q}else R[se++]=r[H],++U[r[H]]}}for(H=Math.max(H,O);H<l;++H)R[se++]=r[H],++U[r[H]];v=A1(r,d,p,R,U,oe,W,se,F,H-F,v),p||(a.r=v&7|d[v/8|0]<<3,v-=7,a.h=E,a.p=k,a.i=H,a.w=O)}else{for(var H=a.w||0;H<l+p;H+=65535){var $e=H+65535;$e>=l&&(d[v/8|0]=p,$e=l),v=Uy(d,v+1,r.subarray(H,$e))}a.i=l}return kk(c,0,n+By(v)+o)},qy=function(){var r=1,e=0;return{p:function(t){for(var n=r,o=e,a=t.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)o+=n+=t[l];n=(n&65535)+15*(n>>16),o=(o&65535)+15*(o>>16)}r=n,e=o},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Ek=function(r,e,t,n,o){if(!o&&(o={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new po(a.length+r.length);l.set(a),l.set(r,a.length),r=l,o.w=a.length}return Ak(r,e.level==null?6:e.level,e.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,o)},$y=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},Ck=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var o=qy();o.p(e.dictionary),$y(r,2,o.d())}};function Nm(r,e){e||(e={});var t=qy();t.p(r);var n=Ek(r,e,e.dictionary?6:2,4);return Ck(n,e),$y(n,n.length-4,t.d()),n}var jk=typeof TextDecoder<"u"&&new TextDecoder,Lk=0;try{jk.decode(zy,{stream:!0}),Lk=1}catch{}function Pk(r){if(Array.isArray(r))return r}function Tk(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,o,a,l,c=[],d=!0,p=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(d=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(v){p=!0,o=v}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(p)throw o}}return c}}function E1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Ok(r,e){if(r){if(typeof r=="string")return E1(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E1(r,e):void 0}}function Rk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C1(r,e){return Pk(r)||Tk(r,e)||Ok(r,e)||Rk()}function j1(r,e="utf8"){return new TextDecoder(e).decode(r)}const Ik=new TextEncoder;function Dk(r){return Ik.encode(r)}const Fk=1024*8,Mk=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),Pp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ig{constructor(e=Fk,t={}){Er(this,"buffer");Er(this,"byteLength");Er(this,"byteOffset");Er(this,"length");Er(this,"offset");Er(this,"lastWrittenByte");Er(this,"littleEndian");Er(this,"_data");Er(this,"_mark");Er(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const o=t.offset?t.offset>>>0:0,a=e.byteLength-o;let l=o;(ArrayBuffer.isView(e)||e instanceof ig)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+o),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,o=new Uint8Array(n);o.set(new Uint8Array(this.buffer)),this.buffer=o.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=Pp[t].BYTES_PER_ELEMENT*e,o=this.byteOffset+this.offset,a=this.buffer.slice(o,o+n);if(this.littleEndian===Mk&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(o,o+n));c.reverse();const d=new Pp[t](c.buffer);return this.offset+=n,d.reverse(),d}const l=new Pp[t](a);return this.offset+=n,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return j1(this.readBytes(e))}decodeText(e=1,t="utf8"){return j1(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Dk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ou(r){let e=r.length;for(;--e>=0;)r[e]=0}const Bk=3,Uk=258,Wy=29,zk=256,qk=zk+1+Wy,Vy=30,$k=512,Wk=new Array((qk+2)*2);Ou(Wk);const Vk=new Array(Vy*2);Ou(Vk);const Hk=new Array($k);Ou(Hk);const Gk=new Array(Uk-Bk+1);Ou(Gk);const Kk=new Array(Wy);Ou(Kk);const Jk=new Array(Vy);Ou(Jk);const Yk=(r,e,t,n)=>{let o=r&65535|0,a=r>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do o=o+e[n++]|0,a=a+o|0;while(--l);o%=65521,a%=65521}return o|a<<16|0};var Am=Yk;const Xk=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},Qk=new Uint32Array(Xk()),Zk=(r,e,t,n)=>{const o=Qk,a=n+t;r^=-1;for(let l=n;l<a;l++)r=r>>>8^o[(r^e[l])&255];return r^-1};var Do=Zk,Em={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Hy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const eN=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var tN=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)eN(t,n)&&(r[n]=t[n])}}return r},rN=r=>{let e=0;for(let n=0,o=r.length;n<o;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,o=0,a=r.length;n<a;n++){let l=r[n];t.set(l,o),o+=l.length}return t},Gy={assign:tN,flattenChunks:rN};let Ky=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ky=!1}const Ad=new Uint8Array(256);for(let r=0;r<256;r++)Ad[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Ad[254]=Ad[254]=1;var nN=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,o,a,l=r.length,c=0;for(o=0;o<l;o++)t=r.charCodeAt(o),(t&64512)===55296&&o+1<l&&(n=r.charCodeAt(o+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),o++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),a=0,o=0;a<c;o++)t=r.charCodeAt(o),(t&64512)===55296&&o+1<l&&(n=r.charCodeAt(o+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),o++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const iN=(r,e)=>{if(e<65534&&r.subarray&&Ky)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var sN=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,o;const a=new Array(t*2);for(o=0,n=0;n<t;){let l=r[n++];if(l<128){a[o++]=l;continue}let c=Ad[l];if(c>4){a[o++]=65533,n+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&n<t;)l=l<<6|r[n++]&63,c--;if(c>1){a[o++]=65533;continue}l<65536?a[o++]=l:(l-=65536,a[o++]=55296|l>>10&1023,a[o++]=56320|l&1023)}return iN(a,o)},oN=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Ad[r[t]]>e?t:e},Cm={string2buf:nN,buf2string:sN,utf8border:oN};function aN(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lN=aN;const Nh=16209,cN=16191;var uN=function(e,t){let n,o,a,l,c,d,p,v,y,S,h,A,k,E,j,C,P,R,U,oe,Q,W,H,se;const O=e.state;n=e.next_in,H=e.input,o=n+(e.avail_in-5),a=e.next_out,se=e.output,l=a-(t-e.avail_out),c=a+(e.avail_out-257),d=O.dmax,p=O.wsize,v=O.whave,y=O.wnext,S=O.window,h=O.hold,A=O.bits,k=O.lencode,E=O.distcode,j=(1<<O.lenbits)-1,C=(1<<O.distbits)-1;e:do{A<15&&(h+=H[n++]<<A,A+=8,h+=H[n++]<<A,A+=8),P=k[h&j];t:for(;;){if(R=P>>>24,h>>>=R,A-=R,R=P>>>16&255,R===0)se[a++]=P&65535;else if(R&16){U=P&65535,R&=15,R&&(A<R&&(h+=H[n++]<<A,A+=8),U+=h&(1<<R)-1,h>>>=R,A-=R),A<15&&(h+=H[n++]<<A,A+=8,h+=H[n++]<<A,A+=8),P=E[h&C];r:for(;;){if(R=P>>>24,h>>>=R,A-=R,R=P>>>16&255,R&16){if(oe=P&65535,R&=15,A<R&&(h+=H[n++]<<A,A+=8,A<R&&(h+=H[n++]<<A,A+=8)),oe+=h&(1<<R)-1,oe>d){e.msg="invalid distance too far back",O.mode=Nh;break e}if(h>>>=R,A-=R,R=a-l,oe>R){if(R=oe-R,R>v&&O.sane){e.msg="invalid distance too far back",O.mode=Nh;break e}if(Q=0,W=S,y===0){if(Q+=p-R,R<U){U-=R;do se[a++]=S[Q++];while(--R);Q=a-oe,W=se}}else if(y<R){if(Q+=p+y-R,R-=y,R<U){U-=R;do se[a++]=S[Q++];while(--R);if(Q=0,y<U){R=y,U-=R;do se[a++]=S[Q++];while(--R);Q=a-oe,W=se}}}else if(Q+=y-R,R<U){U-=R;do se[a++]=S[Q++];while(--R);Q=a-oe,W=se}for(;U>2;)se[a++]=W[Q++],se[a++]=W[Q++],se[a++]=W[Q++],U-=3;U&&(se[a++]=W[Q++],U>1&&(se[a++]=W[Q++]))}else{Q=a-oe;do se[a++]=se[Q++],se[a++]=se[Q++],se[a++]=se[Q++],U-=3;while(U>2);U&&(se[a++]=se[Q++],U>1&&(se[a++]=se[Q++]))}}else if((R&64)===0){P=E[(P&65535)+(h&(1<<R)-1)];continue r}else{e.msg="invalid distance code",O.mode=Nh;break e}break}}else if((R&64)===0){P=k[(P&65535)+(h&(1<<R)-1)];continue t}else if(R&32){O.mode=cN;break e}else{e.msg="invalid literal/length code",O.mode=Nh;break e}break}}while(n<o&&a<c);U=A>>3,n-=U,A-=U<<3,h&=(1<<A)-1,e.next_in=n,e.next_out=a,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=a<c?257+(c-a):257-(a-c),O.hold=h,O.bits=A};const lu=15,L1=852,P1=592,T1=0,Tp=1,O1=2,dN=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),hN=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fN=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mN=(r,e,t,n,o,a,l,c)=>{const d=c.bits;let p=0,v=0,y=0,S=0,h=0,A=0,k=0,E=0,j=0,C=0,P,R,U,oe,Q,W=null,H;const se=new Uint16Array(lu+1),O=new Uint16Array(lu+1);let F=null,J,X,fe;for(p=0;p<=lu;p++)se[p]=0;for(v=0;v<n;v++)se[e[t+v]]++;for(h=d,S=lu;S>=1&&se[S]===0;S--);if(h>S&&(h=S),S===0)return o[a++]=1<<24|64<<16|0,o[a++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<S&&se[y]===0;y++);for(h<y&&(h=y),E=1,p=1;p<=lu;p++)if(E<<=1,E-=se[p],E<0)return-1;if(E>0&&(r===T1||S!==1))return-1;for(O[1]=0,p=1;p<lu;p++)O[p+1]=O[p]+se[p];for(v=0;v<n;v++)e[t+v]!==0&&(l[O[e[t+v]]++]=v);if(r===T1?(W=F=l,H=20):r===Tp?(W=dN,F=hN,H=257):(W=fN,F=pN,H=0),C=0,v=0,p=y,Q=a,A=h,k=0,U=-1,j=1<<h,oe=j-1,r===Tp&&j>L1||r===O1&&j>P1)return 1;for(;;){J=p-k,l[v]+1<H?(X=0,fe=l[v]):l[v]>=H?(X=F[l[v]-H],fe=W[l[v]-H]):(X=96,fe=0),P=1<<p-k,R=1<<A,y=R;do R-=P,o[Q+(C>>k)+R]=J<<24|X<<16|fe|0;while(R!==0);for(P=1<<p-1;C&P;)P>>=1;if(P!==0?(C&=P-1,C+=P):C=0,v++,--se[p]===0){if(p===S)break;p=e[t+l[v]]}if(p>h&&(C&oe)!==U){for(k===0&&(k=h),Q+=y,A=p-k,E=1<<A;A+k<S&&(E-=se[A+k],!(E<=0));)A++,E<<=1;if(j+=1<<A,r===Tp&&j>L1||r===O1&&j>P1)return 1;U=C&oe,o[U]=h<<24|A<<16|Q-a|0}}return C!==0&&(o[Q+C]=p-k<<24|64<<16|0),c.bits=h,0};var vd=mN;const gN=0,Jy=1,Yy=2,{Z_FINISH:R1,Z_BLOCK:vN,Z_TREES:Ah,Z_OK:bc,Z_STREAM_END:yN,Z_NEED_DICT:wN,Z_STREAM_ERROR:Us,Z_DATA_ERROR:Xy,Z_MEM_ERROR:Qy,Z_BUF_ERROR:bN,Z_DEFLATED:I1}=Hy,gf=16180,D1=16181,F1=16182,M1=16183,B1=16184,U1=16185,z1=16186,q1=16187,$1=16188,W1=16189,rf=16190,ja=16191,Op=16192,V1=16193,Rp=16194,H1=16195,G1=16196,K1=16197,J1=16198,Eh=16199,Ch=16200,Y1=16201,X1=16202,Q1=16203,Z1=16204,ev=16205,Ip=16206,tv=16207,rv=16208,Jr=16209,Zy=16210,e5=16211,xN=852,_N=592,SN=15,kN=SN,nv=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function NN(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xc=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<gf||e.mode>e5?1:0},t5=r=>{if(xc(r))return Us;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=gf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xN),e.distcode=e.distdyn=new Int32Array(_N),e.sane=1,e.back=-1,bc},r5=r=>{if(xc(r))return Us;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,t5(r)},n5=(r,e)=>{let t;if(xc(r))return Us;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Us:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,r5(r))},i5=(r,e)=>{if(!r)return Us;const t=new NN;r.state=t,t.strm=r,t.window=null,t.mode=gf;const n=n5(r,e);return n!==bc&&(r.state=null),n},AN=r=>i5(r,kN);let iv=!0,Dp,Fp;const EN=r=>{if(iv){Dp=new Int32Array(512),Fp=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(vd(Jy,r.lens,0,288,Dp,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;vd(Yy,r.lens,0,32,Fp,0,r.work,{bits:5}),iv=!1}r.lencode=Dp,r.lenbits=9,r.distcode=Fp,r.distbits=5},s5=(r,e,t,n)=>{let o;const a=r.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(o=a.wsize-a.wnext,o>n&&(o=n),a.window.set(e.subarray(t-n,t-n+o),a.wnext),n-=o,n?(a.window.set(e.subarray(t-n,t),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0},CN=(r,e)=>{let t,n,o,a,l,c,d,p,v,y,S,h,A,k,E=0,j,C,P,R,U,oe,Q,W;const H=new Uint8Array(4);let se,O;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(xc(r)||!r.output||!r.input&&r.avail_in!==0)return Us;t=r.state,t.mode===ja&&(t.mode=Op),l=r.next_out,o=r.output,d=r.avail_out,a=r.next_in,n=r.input,c=r.avail_in,p=t.hold,v=t.bits,y=c,S=d,W=bc;e:for(;;)switch(t.mode){case gf:if(t.wrap===0){t.mode=Op;break}for(;v<16;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if(t.wrap&2&&p===35615){t.wbits===0&&(t.wbits=15),t.check=0,H[0]=p&255,H[1]=p>>>8&255,t.check=Do(t.check,H,2,0),p=0,v=0,t.mode=D1;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((p&255)<<8)+(p>>8))%31){r.msg="incorrect header check",t.mode=Jr;break}if((p&15)!==I1){r.msg="unknown compression method",t.mode=Jr;break}if(p>>>=4,v-=4,Q=(p&15)+8,t.wbits===0&&(t.wbits=Q),Q>15||Q>t.wbits){r.msg="invalid window size",t.mode=Jr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=p&512?W1:ja,p=0,v=0;break;case D1:for(;v<16;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if(t.flags=p,(t.flags&255)!==I1){r.msg="unknown compression method",t.mode=Jr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Jr;break}t.head&&(t.head.text=p>>8&1),t.flags&512&&t.wrap&4&&(H[0]=p&255,H[1]=p>>>8&255,t.check=Do(t.check,H,2,0)),p=0,v=0,t.mode=F1;case F1:for(;v<32;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}t.head&&(t.head.time=p),t.flags&512&&t.wrap&4&&(H[0]=p&255,H[1]=p>>>8&255,H[2]=p>>>16&255,H[3]=p>>>24&255,t.check=Do(t.check,H,4,0)),p=0,v=0,t.mode=M1;case M1:for(;v<16;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}t.head&&(t.head.xflags=p&255,t.head.os=p>>8),t.flags&512&&t.wrap&4&&(H[0]=p&255,H[1]=p>>>8&255,t.check=Do(t.check,H,2,0)),p=0,v=0,t.mode=B1;case B1:if(t.flags&1024){for(;v<16;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}t.length=p,t.head&&(t.head.extra_len=p),t.flags&512&&t.wrap&4&&(H[0]=p&255,H[1]=p>>>8&255,t.check=Do(t.check,H,2,0)),p=0,v=0}else t.head&&(t.head.extra=null);t.mode=U1;case U1:if(t.flags&1024&&(h=t.length,h>c&&(h=c),h&&(t.head&&(Q=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(a,a+h),Q)),t.flags&512&&t.wrap&4&&(t.check=Do(t.check,n,h,a)),c-=h,a+=h,t.length-=h),t.length))break e;t.length=0,t.mode=z1;case z1:if(t.flags&2048){if(c===0)break e;h=0;do Q=n[a+h++],t.head&&Q&&t.length<65536&&(t.head.name+=String.fromCharCode(Q));while(Q&&h<c);if(t.flags&512&&t.wrap&4&&(t.check=Do(t.check,n,h,a)),c-=h,a+=h,Q)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=q1;case q1:if(t.flags&4096){if(c===0)break e;h=0;do Q=n[a+h++],t.head&&Q&&t.length<65536&&(t.head.comment+=String.fromCharCode(Q));while(Q&&h<c);if(t.flags&512&&t.wrap&4&&(t.check=Do(t.check,n,h,a)),c-=h,a+=h,Q)break e}else t.head&&(t.head.comment=null);t.mode=$1;case $1:if(t.flags&512){for(;v<16;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if(t.wrap&4&&p!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Jr;break}p=0,v=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=ja;break;case W1:for(;v<32;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}r.adler=t.check=nv(p),p=0,v=0,t.mode=rf;case rf:if(t.havedict===0)return r.next_out=l,r.avail_out=d,r.next_in=a,r.avail_in=c,t.hold=p,t.bits=v,wN;r.adler=t.check=1,t.mode=ja;case ja:if(e===vN||e===Ah)break e;case Op:if(t.last){p>>>=v&7,v-=v&7,t.mode=Ip;break}for(;v<3;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}switch(t.last=p&1,p>>>=1,v-=1,p&3){case 0:t.mode=V1;break;case 1:if(EN(t),t.mode=Eh,e===Ah){p>>>=2,v-=2;break e}break;case 2:t.mode=G1;break;case 3:r.msg="invalid block type",t.mode=Jr}p>>>=2,v-=2;break;case V1:for(p>>>=v&7,v-=v&7;v<32;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if((p&65535)!==(p>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Jr;break}if(t.length=p&65535,p=0,v=0,t.mode=Rp,e===Ah)break e;case Rp:t.mode=H1;case H1:if(h=t.length,h){if(h>c&&(h=c),h>d&&(h=d),h===0)break e;o.set(n.subarray(a,a+h),l),c-=h,a+=h,d-=h,l+=h,t.length-=h;break}t.mode=ja;break;case G1:for(;v<14;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if(t.nlen=(p&31)+257,p>>>=5,v-=5,t.ndist=(p&31)+1,p>>>=5,v-=5,t.ncode=(p&15)+4,p>>>=4,v-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Jr;break}t.have=0,t.mode=K1;case K1:for(;t.have<t.ncode;){for(;v<3;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}t.lens[F[t.have++]]=p&7,p>>>=3,v-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,se={bits:t.lenbits},W=vd(gN,t.lens,0,19,t.lencode,0,t.work,se),t.lenbits=se.bits,W){r.msg="invalid code lengths set",t.mode=Jr;break}t.have=0,t.mode=J1;case J1:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[p&(1<<t.lenbits)-1],j=E>>>24,C=E>>>16&255,P=E&65535,!(j<=v);){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if(P<16)p>>>=j,v-=j,t.lens[t.have++]=P;else{if(P===16){for(O=j+2;v<O;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if(p>>>=j,v-=j,t.have===0){r.msg="invalid bit length repeat",t.mode=Jr;break}Q=t.lens[t.have-1],h=3+(p&3),p>>>=2,v-=2}else if(P===17){for(O=j+3;v<O;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}p>>>=j,v-=j,Q=0,h=3+(p&7),p>>>=3,v-=3}else{for(O=j+7;v<O;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}p>>>=j,v-=j,Q=0,h=11+(p&127),p>>>=7,v-=7}if(t.have+h>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Jr;break}for(;h--;)t.lens[t.have++]=Q}}if(t.mode===Jr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Jr;break}if(t.lenbits=9,se={bits:t.lenbits},W=vd(Jy,t.lens,0,t.nlen,t.lencode,0,t.work,se),t.lenbits=se.bits,W){r.msg="invalid literal/lengths set",t.mode=Jr;break}if(t.distbits=6,t.distcode=t.distdyn,se={bits:t.distbits},W=vd(Yy,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,se),t.distbits=se.bits,W){r.msg="invalid distances set",t.mode=Jr;break}if(t.mode=Eh,e===Ah)break e;case Eh:t.mode=Ch;case Ch:if(c>=6&&d>=258){r.next_out=l,r.avail_out=d,r.next_in=a,r.avail_in=c,t.hold=p,t.bits=v,uN(r,S),l=r.next_out,o=r.output,d=r.avail_out,a=r.next_in,n=r.input,c=r.avail_in,p=t.hold,v=t.bits,t.mode===ja&&(t.back=-1);break}for(t.back=0;E=t.lencode[p&(1<<t.lenbits)-1],j=E>>>24,C=E>>>16&255,P=E&65535,!(j<=v);){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if(C&&(C&240)===0){for(R=j,U=C,oe=P;E=t.lencode[oe+((p&(1<<R+U)-1)>>R)],j=E>>>24,C=E>>>16&255,P=E&65535,!(R+j<=v);){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}p>>>=R,v-=R,t.back+=R}if(p>>>=j,v-=j,t.back+=j,t.length=P,C===0){t.mode=ev;break}if(C&32){t.back=-1,t.mode=ja;break}if(C&64){r.msg="invalid literal/length code",t.mode=Jr;break}t.extra=C&15,t.mode=Y1;case Y1:if(t.extra){for(O=t.extra;v<O;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}t.length+=p&(1<<t.extra)-1,p>>>=t.extra,v-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=X1;case X1:for(;E=t.distcode[p&(1<<t.distbits)-1],j=E>>>24,C=E>>>16&255,P=E&65535,!(j<=v);){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if((C&240)===0){for(R=j,U=C,oe=P;E=t.distcode[oe+((p&(1<<R+U)-1)>>R)],j=E>>>24,C=E>>>16&255,P=E&65535,!(R+j<=v);){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}p>>>=R,v-=R,t.back+=R}if(p>>>=j,v-=j,t.back+=j,C&64){r.msg="invalid distance code",t.mode=Jr;break}t.offset=P,t.extra=C&15,t.mode=Q1;case Q1:if(t.extra){for(O=t.extra;v<O;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}t.offset+=p&(1<<t.extra)-1,p>>>=t.extra,v-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Jr;break}t.mode=Z1;case Z1:if(d===0)break e;if(h=S-d,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Jr;break}h>t.wnext?(h-=t.wnext,A=t.wsize-h):A=t.wnext-h,h>t.length&&(h=t.length),k=t.window}else k=o,A=l-t.offset,h=t.length;h>d&&(h=d),d-=h,t.length-=h;do o[l++]=k[A++];while(--h);t.length===0&&(t.mode=Ch);break;case ev:if(d===0)break e;o[l++]=t.length,d--,t.mode=Ch;break;case Ip:if(t.wrap){for(;v<32;){if(c===0)break e;c--,p|=n[a++]<<v,v+=8}if(S-=d,r.total_out+=S,t.total+=S,t.wrap&4&&S&&(r.adler=t.check=t.flags?Do(t.check,o,S,l-S):Am(t.check,o,S,l-S)),S=d,t.wrap&4&&(t.flags?p:nv(p))!==t.check){r.msg="incorrect data check",t.mode=Jr;break}p=0,v=0}t.mode=tv;case tv:if(t.wrap&&t.flags){for(;v<32;){if(c===0)break e;c--,p+=n[a++]<<v,v+=8}if(t.wrap&4&&p!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Jr;break}p=0,v=0}t.mode=rv;case rv:W=yN;break e;case Jr:W=Xy;break e;case Zy:return Qy;case e5:default:return Us}return r.next_out=l,r.avail_out=d,r.next_in=a,r.avail_in=c,t.hold=p,t.bits=v,(t.wsize||S!==r.avail_out&&t.mode<Jr&&(t.mode<Ip||e!==R1))&&s5(r,r.output,r.next_out,S-r.avail_out),y-=r.avail_in,S-=r.avail_out,r.total_in+=y,r.total_out+=S,t.total+=S,t.wrap&4&&S&&(r.adler=t.check=t.flags?Do(t.check,o,S,r.next_out-S):Am(t.check,o,S,r.next_out-S)),r.data_type=t.bits+(t.last?64:0)+(t.mode===ja?128:0)+(t.mode===Eh||t.mode===Rp?256:0),(y===0&&S===0||e===R1)&&W===bc&&(W=bN),W},jN=r=>{if(xc(r))return Us;let e=r.state;return e.window&&(e.window=null),r.state=null,bc},LN=(r,e)=>{if(xc(r))return Us;const t=r.state;return(t.wrap&2)===0?Us:(t.head=e,e.done=!1,bc)},PN=(r,e)=>{const t=e.length;let n,o,a;return xc(r)||(n=r.state,n.wrap!==0&&n.mode!==rf)?Us:n.mode===rf&&(o=1,o=Am(o,e,t,0),o!==n.check)?Xy:(a=s5(r,e,t,t),a?(n.mode=Zy,Qy):(n.havedict=1,bc))};var TN=r5,ON=n5,RN=t5,IN=AN,DN=i5,FN=CN,MN=jN,BN=LN,UN=PN,zN="pako inflate (from Nodeca project)",Pa={inflateReset:TN,inflateReset2:ON,inflateResetKeep:RN,inflateInit:IN,inflateInit2:DN,inflate:FN,inflateEnd:MN,inflateGetHeader:BN,inflateSetDictionary:UN,inflateInfo:zN};function qN(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $N=qN;const o5=Object.prototype.toString,{Z_NO_FLUSH:WN,Z_FINISH:VN,Z_OK:Ed,Z_STREAM_END:Mp,Z_NEED_DICT:Bp,Z_STREAM_ERROR:HN,Z_DATA_ERROR:sv,Z_MEM_ERROR:GN}=Hy;function Td(r){this.options=Gy.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lN,this.strm.avail_out=0;let t=Pa.inflateInit2(this.strm,e.windowBits);if(t!==Ed)throw new Error(Em[t]);if(this.header=new $N,Pa.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Cm.string2buf(e.dictionary):o5.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Pa.inflateSetDictionary(this.strm,e.dictionary),t!==Ed)))throw new Error(Em[t])}Td.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let a,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?VN:WN,o5.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),a=Pa.inflate(t,l),a===Bp&&o&&(a=Pa.inflateSetDictionary(t,o),a===Ed?a=Pa.inflate(t,l):a===sv&&(a=Bp));t.avail_in>0&&a===Mp&&t.state.wrap>0&&r[t.next_in]!==0;)Pa.inflateReset(t),a=Pa.inflate(t,l);switch(a){case HN:case sv:case Bp:case GN:return this.onEnd(a),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||a===Mp))if(this.options.to==="string"){let d=Cm.utf8border(t.output,t.next_out),p=t.next_out-d,v=Cm.buf2string(t.output,d);t.next_out=p,t.avail_out=n-p,p&&t.output.set(t.output.subarray(d,d+p),0),this.onData(v)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Ed&&c===0)){if(a===Mp)return a=Pa.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Td.prototype.onData=function(r){this.chunks.push(r)};Td.prototype.onEnd=function(r){r===Ed&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gy.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function KN(r,e){const t=new Td(e);if(t.push(r),t.err)throw t.msg||Em[t.err];return t.result}var JN=Td,YN=KN,XN={Inflate:JN,inflate:YN};const{Inflate:QN,inflate:ZN}=XN;var ov=QN,e6=ZN;const a5=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;a5[r]=e}const av=4294967295;function t6(r,e,t){let n=r;for(let o=0;o<t;o++)n=a5[(n^e[o])&255]^n>>>8;return n}function r6(r,e){return(t6(av,r,e)^av)>>>0}function lv(r,e,t){const n=r.readUint32(),o=r6(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(o!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${o}`)}function l5(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function c5(r,e,t,n){let o=0;for(;o<n;o++)e[o]=r[o];for(;o<t;o++)e[o]=r[o]+e[o-n]&255}function u5(r,e,t,n){let o=0;if(t.length===0)for(;o<n;o++)e[o]=r[o];else for(;o<n;o++)e[o]=r[o]+t[o]&255}function d5(r,e,t,n,o){let a=0;if(t.length===0){for(;a<o;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+(e[a-o]>>1)&255}else{for(;a<o;a++)e[a]=r[a]+(t[a]>>1)&255;for(;a<n;a++)e[a]=r[a]+(e[a-o]+t[a]>>1)&255}}function h5(r,e,t,n,o){let a=0;if(t.length===0){for(;a<o;a++)e[a]=r[a];for(;a<n;a++)e[a]=r[a]+e[a-o]&255}else{for(;a<o;a++)e[a]=r[a]+t[a]&255;for(;a<n;a++)e[a]=r[a]+n6(e[a-o],t[a],t[a-o])&255}}function n6(r,e,t){const n=r+e-t,o=Math.abs(n-r),a=Math.abs(n-e),l=Math.abs(n-t);return o<=a&&o<=l?r:a<=l?e:t}function i6(r,e,t,n,o,a){switch(r){case 0:l5(e,t,o);break;case 1:c5(e,t,o,a);break;case 2:u5(e,t,n,o);break;case 3:d5(e,t,n,o,a);break;case 4:h5(e,t,n,o,a);break;default:throw new Error(`Unsupported filter: ${r}`)}}const s6=new Uint16Array([255]),o6=new Uint8Array(s6.buffer),a6=o6[0]===255;function l6(r){const{data:e,width:t,height:n,channels:o,depth:a}=r,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*o,d=new Uint8Array(n*t*c);let p=0;for(let v=0;v<7;v++){const y=l[v],S=Math.ceil((t-y.x)/y.xStep),h=Math.ceil((n-y.y)/y.yStep);if(S<=0||h<=0)continue;const A=S*c,k=new Uint8Array(A);for(let E=0;E<h;E++){const j=e[p++],C=e.subarray(p,p+A);p+=A;const P=new Uint8Array(A);i6(j,C,P,k,A,c),k.set(P);for(let R=0;R<S;R++){const U=y.x+R*y.xStep,oe=y.y+E*y.yStep;if(!(U>=t||oe>=n))for(let Q=0;Q<c;Q++)d[(oe*t+U)*c+Q]=P[R*c+Q]}}}if(a===16){const v=new Uint16Array(d.buffer);if(a6)for(let y=0;y<v.length;y++)v[y]=c6(v[y]);return v}else return d}function c6(r){return(r&255)<<8|r>>8&255}const u6=new Uint16Array([255]),d6=new Uint8Array(u6.buffer),h6=d6[0]===255,f6=new Uint8Array(0);function cv(r){const{data:e,width:t,height:n,channels:o,depth:a}=r,l=Math.ceil(a/8)*o,c=Math.ceil(a/8*o*t),d=new Uint8Array(n*c);let p=f6,v=0,y,S;for(let h=0;h<n;h++){switch(y=e.subarray(v+1,v+1+c),S=d.subarray(h*c,(h+1)*c),e[v]){case 0:l5(y,S,c);break;case 1:c5(y,S,c,l);break;case 2:u5(y,S,p,c);break;case 3:d5(y,S,p,c,l);break;case 4:h5(y,S,p,c,l);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}p=S,v+=c+1}if(a===16){const h=new Uint16Array(d.buffer);if(h6)for(let A=0;A<h.length;A++)h[A]=p6(h[A]);return h}else return d}function p6(r){return(r&255)<<8|r>>8&255}const Mh=Uint8Array.of(137,80,78,71,13,10,26,10);function uv(r){if(!m6(r.readBytes(Mh.length)))throw new Error("wrong PNG signature")}function m6(r){if(r.length<Mh.length)return!1;for(let e=0;e<Mh.length;e++)if(r[e]!==Mh[e])return!1;return!0}const g6="tEXt",v6=0,f5=new TextDecoder("latin1");function y6(r){if(b6(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const w6=/^[\u0000-\u00FF]*$/;function b6(r){if(!w6.test(r))throw new Error("invalid latin1 text")}function x6(r,e,t){const n=p5(e);r[n]=_6(e,t-n.length-1)}function p5(r){for(r.mark();r.readByte()!==v6;);const e=r.offset;r.reset();const t=f5.decode(r.readBytes(e-r.offset-1));return r.skip(1),y6(t),t}function _6(r,e){return f5.decode(r.readBytes(e))}const ms={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Up={UNKNOWN:-1,DEFLATE:0},dv={UNKNOWN:-1,ADAPTIVE:0},zp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},jh={NONE:0,BACKGROUND:1,PREVIOUS:2},qp={SOURCE:0,OVER:1};class S6 extends ig{constructor(t,n={}){super(t);Er(this,"_checkCrc");Er(this,"_inflator");Er(this,"_png");Er(this,"_apng");Er(this,"_end");Er(this,"_hasPalette");Er(this,"_palette");Er(this,"_hasTransparency");Er(this,"_transparency");Er(this,"_compressionMethod");Er(this,"_filterMethod");Er(this,"_interlaceMethod");Er(this,"_colorType");Er(this,"_isAnimated");Er(this,"_numberOfFrames");Er(this,"_numberOfPlays");Er(this,"_frames");Er(this,"_writingDataChunks");const{checkCrc:o=!1}=n;this._checkCrc=o,this._inflator=new ov,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Up.UNKNOWN,this._filterMethod=dv.UNKNOWN,this._interlaceMethod=zp.UNKNOWN,this._colorType=ms.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(uv(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(uv(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const o=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case g6:x6(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-o!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lv(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const o=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=o+t;break}if(this.offset-o!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lv(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=k6(this.readUint8());const n=this.readUint8();this._colorType=n;let o;switch(n){case ms.GREYSCALE:o=1;break;case ms.TRUECOLOUR:o=3;break;case ms.INDEXED_COLOUR:o=1;break;case ms.GREYSCALE_ALPHA:o=2;break;case ms.TRUECOLOUR_ALPHA:o=4;break;case ms.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=o,this._compressionMethod=this.readUint8(),this._compressionMethod!==Up.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const o=[];this._palette=o;for(let a=0;a<n;a++)o.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,o=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,o,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,o=this.offset+this.byteOffset;if(o+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,o,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ms.GREYSCALE:case ms.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case ms.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const o=this.readByte();this._palette[n].push(o)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ms.UNKNOWN:case ms.GREYSCALE_ALPHA:case ms.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=p5(this),o=this.readUint8();if(o!==Up.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${o}`);const a=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:e6(a)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),o=this.readByte();this._png.resolution={x:t,y:n,unit:o}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},o=this._frames.at(t);if(o){if(o.data=cv({data:o.data,width:o.width,height:o.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||o.xOffset===0&&o.yOffset===0&&o.width===this._png.width&&o.height===this._png.height)n.data=o.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(o,a,n),this.addFrameDataToCanvas(n,o)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,o){switch(t.disposeOp){case jh.NONE:break;case jh.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let l=0;l<this._png.width;l++){const c=(a*t.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)o.data[c+d]=0}break;case jh.PREVIOUS:o.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const o=1<<this._png.depth,a=(l,c)=>{const d=((l+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,p=(l*n.width+c)*this._png.channels;return{index:d,frameIndex:p}};switch(n.blendOp){case qp.SOURCE:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:p}=a(l,c);for(let v=0;v<this._png.channels;v++)t.data[d+v]=n.data[p+v]}break;case qp.OVER:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:p}=a(l,c);for(let v=0;v<this._png.channels;v++){const y=n.data[p+this._png.channels-1]/o,S=v%(this._png.channels-1)===0?1:n.data[p+v],h=Math.floor(y*S+(1-y)*t.data[d+v]);t.data[d+v]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==dv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===zp.NO_INTERLACE)this._png.data=cv({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===zp.ADAM7)this._png.data=l6({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:jh.NONE,blendOp:qp.SOURCE,data:t}),this._inflator=new ov,this._writingDataChunks=!1}}function k6(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var hv;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(hv||(hv={}));function N6(r,e){return new S6(r,e).decode()}var Ft=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $p(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var Rr={log:$p,warn:function(r){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):$p.call(null,arguments))},error:function(r){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):$p(r))}};function Wp(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){dc(n.response,e,t)},n.onerror=function(){Rr.error("could not download file")},n.send()}function fv(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Lh(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var dc=Ft.saveAs||((typeof window>"u"?"undefined":Cr(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=Ft.URL||Ft.webkitURL,o=document.createElement("a");e=e||r.name||"download",o.download=e,o.rel="noopener",typeof r=="string"?(o.href=r,o.origin!==location.origin?fv(o.href)?Wp(r,e,t):Lh(o,o.target="_blank"):Lh(o)):(o.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(o.href)},4e4),setTimeout(function(){Lh(o)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(fv(r))Wp(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Lh(n)})}else navigator.msSaveOrOpenBlob((function(o,a){return a===void 0?a={autoBom:!1}:Cr(a)!=="object"&&(Rr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Wp(r,e,t);var o=r.type==="application/octet-stream",a=/constructor/i.test(Ft.HTMLElement)||Ft.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&a)&&(typeof FileReader>"u"?"undefined":Cr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var v=c.result;v=l?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=v:location=v,n=null},c.readAsDataURL(r)}else{var d=Ft.URL||Ft.webkitURL,p=d.createObjectURL(r);n?n.location=p:location.href=p,n=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function m5(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<t.length;n++){var o=t[n].re,a=t[n].process,l=o.exec(r);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+c+d+p}}var Bh=Ft.atob.bind(Ft),pv=Ft.btoa.bind(Ft);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Vp(r,e){var t=r[0],n=r[1],o=r[2],a=r[3];t=vi(t,n,o,a,e[0],7,-680876936),a=vi(a,t,n,o,e[1],12,-389564586),o=vi(o,a,t,n,e[2],17,606105819),n=vi(n,o,a,t,e[3],22,-1044525330),t=vi(t,n,o,a,e[4],7,-176418897),a=vi(a,t,n,o,e[5],12,1200080426),o=vi(o,a,t,n,e[6],17,-1473231341),n=vi(n,o,a,t,e[7],22,-45705983),t=vi(t,n,o,a,e[8],7,1770035416),a=vi(a,t,n,o,e[9],12,-1958414417),o=vi(o,a,t,n,e[10],17,-42063),n=vi(n,o,a,t,e[11],22,-1990404162),t=vi(t,n,o,a,e[12],7,1804603682),a=vi(a,t,n,o,e[13],12,-40341101),o=vi(o,a,t,n,e[14],17,-1502002290),t=yi(t,n=vi(n,o,a,t,e[15],22,1236535329),o,a,e[1],5,-165796510),a=yi(a,t,n,o,e[6],9,-1069501632),o=yi(o,a,t,n,e[11],14,643717713),n=yi(n,o,a,t,e[0],20,-373897302),t=yi(t,n,o,a,e[5],5,-701558691),a=yi(a,t,n,o,e[10],9,38016083),o=yi(o,a,t,n,e[15],14,-660478335),n=yi(n,o,a,t,e[4],20,-405537848),t=yi(t,n,o,a,e[9],5,568446438),a=yi(a,t,n,o,e[14],9,-1019803690),o=yi(o,a,t,n,e[3],14,-187363961),n=yi(n,o,a,t,e[8],20,1163531501),t=yi(t,n,o,a,e[13],5,-1444681467),a=yi(a,t,n,o,e[2],9,-51403784),o=yi(o,a,t,n,e[7],14,1735328473),t=wi(t,n=yi(n,o,a,t,e[12],20,-1926607734),o,a,e[5],4,-378558),a=wi(a,t,n,o,e[8],11,-2022574463),o=wi(o,a,t,n,e[11],16,1839030562),n=wi(n,o,a,t,e[14],23,-35309556),t=wi(t,n,o,a,e[1],4,-1530992060),a=wi(a,t,n,o,e[4],11,1272893353),o=wi(o,a,t,n,e[7],16,-155497632),n=wi(n,o,a,t,e[10],23,-1094730640),t=wi(t,n,o,a,e[13],4,681279174),a=wi(a,t,n,o,e[0],11,-358537222),o=wi(o,a,t,n,e[3],16,-722521979),n=wi(n,o,a,t,e[6],23,76029189),t=wi(t,n,o,a,e[9],4,-640364487),a=wi(a,t,n,o,e[12],11,-421815835),o=wi(o,a,t,n,e[15],16,530742520),t=bi(t,n=wi(n,o,a,t,e[2],23,-995338651),o,a,e[0],6,-198630844),a=bi(a,t,n,o,e[7],10,1126891415),o=bi(o,a,t,n,e[14],15,-1416354905),n=bi(n,o,a,t,e[5],21,-57434055),t=bi(t,n,o,a,e[12],6,1700485571),a=bi(a,t,n,o,e[3],10,-1894986606),o=bi(o,a,t,n,e[10],15,-1051523),n=bi(n,o,a,t,e[1],21,-2054922799),t=bi(t,n,o,a,e[8],6,1873313359),a=bi(a,t,n,o,e[15],10,-30611744),o=bi(o,a,t,n,e[6],15,-1560198380),n=bi(n,o,a,t,e[13],21,1309151649),t=bi(t,n,o,a,e[4],6,-145523070),a=bi(a,t,n,o,e[11],10,-1120210379),o=bi(o,a,t,n,e[2],15,718787259),n=bi(n,o,a,t,e[9],21,-343485551),r[0]=El(t,r[0]),r[1]=El(n,r[1]),r[2]=El(o,r[2]),r[3]=El(a,r[3])}function vf(r,e,t,n,o,a){return e=El(El(e,r),El(n,a)),El(e<<o|e>>>32-o,t)}function vi(r,e,t,n,o,a,l){return vf(e&t|~e&n,r,e,o,a,l)}function yi(r,e,t,n,o,a,l){return vf(e&n|t&~n,r,e,o,a,l)}function wi(r,e,t,n,o,a,l){return vf(e^t^n,r,e,o,a,l)}function bi(r,e,t,n,o,a,l){return vf(t^(e|~n),r,e,o,a,l)}function g5(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Vp(n,A6(r.substring(e-64,e)));r=r.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(Vp(n,o),e=0;e<16;e++)o[e]=0;return o[14]=8*t,Vp(n,o),n}function A6(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var mv="0123456789abcdef".split("");function E6(r){for(var e="",t=0;t<4;t++)e+=mv[r>>8*t+4&15]+mv[r>>8*t&15];return e}function C6(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function jm(r){return g5(r).map(C6).join("")}var j6=(function(r){for(var e=0;e<r.length;e++)r[e]=E6(r[e]);return r.join("")})(g5("hello"))!="5d41402abc4b2a76b9719d911017c592";function El(r,e){if(j6){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Lm(r,e){var t,n,o,a;if(r!==t){for(var l=(o=r,a=1+(256/r.length|0),new Array(a+1).join(o)),c=[],d=0;d<256;d++)c[d]=d;var p=0;for(d=0;d<256;d++){var v=c[d];p=(p+v+l.charCodeAt(d))%256,c[d]=c[p],c[p]=v}t=r,n=c}else c=n;var y=e.length,S=0,h=0,A="";for(d=0;d<y;d++)h=(h+(v=c[S=(S+1)%256]))%256,c[S]=c[h],c[h]=v,l=c[(c[S]+c[h])%256],A+=String.fromCharCode(e.charCodeAt(d)^l);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gv={print:4,modify:8,copy:16,"annot-forms":32};function pu(r,e,t,n){this.v=1,this.r=2;var o=192;r.forEach(function(c){if(gv.perm!==void 0)throw new Error("Invalid permission: "+c);o+=gv[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^o)),this.encryptionKey=jm(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Lm(this.encryptionKey,this.padding)}function mu(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var o=r.charCodeAt(n);e+=o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?"#"+("0"+o.toString(16)).slice(-2):r[n]}return e}function vv(r){if(Cr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,o){if(o=o||!1,typeof t!="string"||typeof n!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[n,!!o],a},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),o=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(r,n)}catch(c){Ft.console&&Rr.error("jsPDF PubSub Error",c.message,c)}l[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function nf(r){if(!(this instanceof nf))return new nf(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function v5(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function pc(r,e,t,n,o){if(!(this instanceof pc))return new pc(r,e,t,n,o);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,v5.call(this,n,o)}function vu(r,e,t,n,o){if(!(this instanceof vu))return new vu(r,e,t,n,o);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,v5.call(this,n,o)}function bt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],o=arguments[2],a=arguments[3],l=[],c=1,d=16,p="S",v=null;Cr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,o=r.format||o,a=r.compress||r.compressPdf||a,(v=r.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),p=r.defaultPathOperation||"S"),l=r.filters||(a===!0?["FlateEncode"]:l),n=n||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,S={},h={internal:{},__private__:{}};h.__private__.PubSub=vv;var A="1.3",k=h.__private__.getPdfVersion=function(){return A};h.__private__.setPdfVersion=function(b){A=b};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return E};var j=h.__private__.getPageFormat=function(b){return E[b]};o=o||"a4";var C="compat",P="advanced",R=C;function U(){this.saveGraphicsState(),Z(new Xe(kt,0,0,-kt,0,qi()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),p="n",R=P}function oe(){this.restoreGraphicsState(),p="S",R=C}var Q=h.__private__.combineFontStyleAndFontWeight=function(b,D){if(b=="bold"&&D=="normal"||b=="bold"&&D==400||b=="normal"&&D=="italic"||b=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(b=D==400||D==="normal"?b==="italic"?"italic":"normal":D!=700&&D!=="bold"||b!=="normal"?(D==700?"bold":D)+""+b:"bold"),b};h.advancedAPI=function(b){var D=R===C;return D&&U.call(this),typeof b!="function"||(b(this),D&&oe.call(this)),this},h.compatAPI=function(b){var D=R===P;return D&&oe.call(this),typeof b!="function"||(b(this),D&&U.call(this)),this},h.isAdvancedAPI=function(){return R===P};var W,H=function(b){if(R!==P)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},se=h.roundToPrecision=h.__private__.roundToPrecision=function(b,D){var ie=e||D;if(isNaN(b)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(ie).replace(/0+$/,"")};W=h.hpf=h.__private__.hpf=typeof d=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return se(b,d)}:d==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return se(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return se(b,16)};var O=h.f2=h.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return se(b,2)},F=h.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return se(b,3)},J=h.scale=h.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return R===C?b*kt:R===P?b:void 0},X=function(b){return J((function(D){return R===C?qi()-D:R===P?D:void 0})(b))};h.__private__.setPrecision=h.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var fe,de="00000000000000000000000000000000",ye=h.__private__.getFileId=function(){return de},$=h.__private__.setFileId=function(b){return de=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(yn=new pu(v.userPermissions,v.userPassword,v.ownerPassword,de)),de};h.setFileId=function(b){return $(b),this},h.getFileId=function(){return ye()};var he=h.__private__.convertDateToPDFDate=function(b){var D=b.getTimezoneOffset(),ie=D<0?"+":"-",pe=Math.floor(Math.abs(D/60)),Se=Math.abs(D%60),Re=[ie,Y(pe),"'",Y(Se),"'"].join("");return["D:",b.getFullYear(),Y(b.getMonth()+1),Y(b.getDate()),Y(b.getHours()),Y(b.getMinutes()),Y(b.getSeconds()),Re].join("")},xe=h.__private__.convertPDFDateToDate=function(b){var D=parseInt(b.substr(2,4),10),ie=parseInt(b.substr(6,2),10)-1,pe=parseInt(b.substr(8,2),10),Se=parseInt(b.substr(10,2),10),Re=parseInt(b.substr(12,2),10),Be=parseInt(b.substr(14,2),10);return new Date(D,ie,pe,Se,Re,Be,0)},G=h.__private__.setCreationDate=function(b){var D;if(b===void 0&&(b=new Date),b instanceof Date)D=he(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=b}return fe=D},T=h.__private__.getCreationDate=function(b){var D=fe;return b==="jsDate"&&(D=xe(fe)),D};h.setCreationDate=function(b){return G(b),this},h.getCreationDate=function(b){return T(b)};var q,Y=h.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},ae=h.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},le=0,re=[],ue=[],me=0,_e=[],Pe=[],Me=!1,$e=ue;h.__private__.setCustomOutputDestination=function(b){Me=!0,$e=b};var Ke=function(b){Me||($e=b)};h.__private__.resetCustomOutputDestination=function(){Me=!1,$e=ue};var Z=h.__private__.out=function(b){return b=b.toString(),me+=b.length+1,$e.push(b),$e},He=h.__private__.write=function(b){return Z(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},_t=h.__private__.getArrayBuffer=function(b){for(var D=b.length,ie=new ArrayBuffer(D),pe=new Uint8Array(ie);D--;)pe[D]=b.charCodeAt(D);return ie},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return vt};var De=r.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(b){return De=R===P?b/kt:b,this};var yt,Ye=h.__private__.getFontSize=h.getFontSize=function(){return R===C?De:De*kt},Qe=r.R2L||!1;h.__private__.setR2L=h.setR2L=function(b){return Qe=b,this},h.__private__.getR2L=h.getR2L=function(){return Qe};var at,tr=h.__private__.setZoomMode=function(b){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))yt=b;else if(isNaN(b)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');yt=b}else yt=parseInt(b,10)};h.__private__.getZoomMode=function(){return yt};var Vt,Et=h.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');at=b};h.__private__.getPageMode=function(){return at};var Ht=h.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');Vt=b};h.__private__.getLayoutMode=function(){return Vt},h.__private__.setDisplayMode=h.setDisplayMode=function(b,D,ie){return tr(b),Ht(D),Et(ie),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(b){if(Object.keys(Ut).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[b]},h.__private__.getDocumentProperties=function(){return Ut},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(b){for(var D in Ut)Ut.hasOwnProperty(D)&&b[D]&&(Ut[D]=b[D]);return this},h.__private__.setDocumentProperty=function(b,D){if(Object.keys(Ut).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[b]=D};var rt,kt,nt,vr,Yt,zt={},qt={},hr=[],wt={},nr={},ht={},Pt={},sr=null,Ot=0,St=[],Je=new vv(h),_r=r.hotfixes||[],er={},Ir={},Rn=[],Xe=function b(D,ie,pe,Se,Re,Be){if(!(this instanceof b))return new b(D,ie,pe,Se,Re,Be);isNaN(D)&&(D=1),isNaN(ie)&&(ie=0),isNaN(pe)&&(pe=0),isNaN(Se)&&(Se=1),isNaN(Re)&&(Re=0),isNaN(Be)&&(Be=0),this._matrix=[D,ie,pe,Se,Re,Be]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(W).join(b)},Xe.prototype.multiply=function(b){var D=b.sx*this.sx+b.shy*this.shx,ie=b.sx*this.shy+b.shy*this.sy,pe=b.shx*this.sx+b.sy*this.shx,Se=b.shx*this.shy+b.sy*this.sy,Re=b.tx*this.sx+b.ty*this.shx+this.tx,Be=b.tx*this.shy+b.ty*this.sy+this.ty;return new Xe(D,ie,pe,Se,Re,Be)},Xe.prototype.decompose=function(){var b=this.sx,D=this.shy,ie=this.shx,pe=this.sy,Se=this.tx,Re=this.ty,Be=Math.sqrt(b*b+D*D),st=(b/=Be)*ie+(D/=Be)*pe;ie-=b*st,pe-=D*st;var pt=Math.sqrt(ie*ie+pe*pe);return st/=pt,b*(pe/=pt)<D*(ie/=pt)&&(b=-b,D=-D,st=-st,Be=-Be),{scale:new Xe(Be,0,0,pt,0,0),translate:new Xe(1,0,0,1,Se,Re),rotate:new Xe(b,D,-D,b,0,0),skew:new Xe(1,0,st,1,0,0)}},Xe.prototype.toString=function(b){return this.join(" ")},Xe.prototype.inversed=function(){var b=this.sx,D=this.shy,ie=this.shx,pe=this.sy,Se=this.tx,Re=this.ty,Be=1/(b*pe-D*ie),st=pe*Be,pt=-D*Be,Rt=-ie*Be,Mt=b*Be;return new Xe(st,pt,Rt,Mt,-st*Se-Rt*Re,-pt*Se-Mt*Re)},Xe.prototype.applyToPoint=function(b){var D=b.x*this.sx+b.y*this.shx+this.tx,ie=b.x*this.shy+b.y*this.sy+this.ty;return new Bi(D,ie)},Xe.prototype.applyToRectangle=function(b){var D=this.applyToPoint(b),ie=this.applyToPoint(new Bi(b.x+b.w,b.y+b.h));return new ia(D.x,D.y,ie.x-D.x,ie.y-D.y)},Xe.prototype.clone=function(){var b=this.sx,D=this.shy,ie=this.shx,pe=this.sy,Se=this.tx,Re=this.ty;return new Xe(b,D,ie,pe,Se,Re)},h.Matrix=Xe;var jr=h.matrixMult=function(b,D){return D.multiply(b)},$n=new Xe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=$n;var yr=function(b,D){if(!nr[b]){var ie=(D instanceof pc?"Sh":"P")+(Object.keys(wt).length+1).toString(10);D.id=ie,nr[b]=ie,wt[ie]=D,Je.publish("addPattern",D)}};h.ShadingPattern=pc,h.TilingPattern=vu,h.addShadingPattern=function(b,D){return H("addShadingPattern()"),yr(b,D),this},h.beginTilingPattern=function(b){H("beginTilingPattern()"),Ui(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},h.endTilingPattern=function(b,D){H("endTilingPattern()"),D.stream=Pe[q].join(`
`),yr(b,D),Je.publish("endTilingPattern",D),Rn.pop().restore()};var Dr,fr=h.__private__.newObject=function(){var b=pr();return Xr(b,!0),b},pr=h.__private__.newObjectDeferred=function(){return le++,re[le]=function(){return me},le},Xr=function(b,D){return D=typeof D=="boolean"&&D,re[b]=me,D&&Z(b+" 0 obj"),b},zs=h.__private__.newAdditionalObject=function(){var b={objId:pr(),content:""};return _e.push(b),b},vo=pr(),es=pr(),Ss=h.__private__.decodeColorString=function(b){var D=b.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var ie=parseFloat(D[0]);D=[ie,ie,ie,"r"]}for(var pe="#",Se=0;Se<3;Se++)pe+=("0"+Math.floor(255*parseFloat(D[Se])).toString(16)).slice(-2);return pe},In=h.__private__.encodeColorString=function(b){var D;typeof b=="string"&&(b={ch1:b});var ie=b.ch1,pe=b.ch2,Se=b.ch3,Re=b.ch4,Be=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var st=new m5(ie);if(st.ok)ie=st.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var pt=parseInt(ie.substr(1),16);ie=pt>>16&255,pe=pt>>8&255,Se=255&pt}if(pe===void 0||Re===void 0&&ie===pe&&pe===Se)D=typeof ie=="string"?ie+" "+Be[0]:b.precision===2?O(ie/255)+" "+Be[0]:F(ie/255)+" "+Be[0];else if(Re===void 0||Cr(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return["1.","1.","1.",Be[1]].join(" ");D=typeof ie=="string"?[ie,pe,Se,Be[1]].join(" "):b.precision===2?[O(ie/255),O(pe/255),O(Se/255),Be[1]].join(" "):[F(ie/255),F(pe/255),F(Se/255),Be[1]].join(" ")}else D=typeof ie=="string"?[ie,pe,Se,Re,Be[2]].join(" "):b.precision===2?[O(ie),O(pe),O(Se),O(Re),Be[2]].join(" "):[F(ie),F(pe),F(Se),F(Re),Be[2]].join(" ");return D},Di=h.__private__.getFilters=function(){return l},Si=h.__private__.putStream=function(b){var D=(b=b||{}).data||"",ie=b.filters||Di(),pe=b.alreadyAppliedFilters||[],Se=b.addLength1||!1,Re=D.length,Be=b.objectId,st=function(wn){return wn};if(v!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(st=yn.encryptor(Be,0));var pt={};ie===!0&&(ie=["FlateEncode"]);var Rt=b.additionalKeyValues||[],Mt=(pt=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(D,ie):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(pt.data.length!==0&&(Rt.push({key:"Length",value:pt.data.length}),Se===!0&&Rt.push({key:"Length1",value:Re})),Mt.length!=0)if(Mt.split("/").length-1==1)Rt.push({key:"Filter",value:Mt});else{Rt.push({key:"Filter",value:"["+Mt+"]"});for(var rr=0;rr<Rt.length;rr+=1)if(Rt[rr].key==="DecodeParms"){for(var zr=[],un=0;un<pt.reverseChain.split("/").length-1;un+=1)zr.push("null");zr.push(Rt[rr].value),Rt[rr].value="["+zr.join(" ")+"]"}}Z("<<");for(var Lr=0;Lr<Rt.length;Lr++)Z("/"+Rt[Lr].key+" "+Rt[Lr].value);Z(">>"),pt.data.length!==0&&(Z("stream"),Z(st(pt.data)),Z("endstream"))},Go=h.__private__.putPage=function(b){var D=b.number,ie=b.data,pe=b.objId,Se=b.contentsObjId;Xr(pe,!0),Z("<</Type /Page"),Z("/Parent "+b.rootDictionaryObjId+" 0 R"),Z("/Resources "+b.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(W(b.mediaBox.bottomLeftX))+" "+parseFloat(W(b.mediaBox.bottomLeftY))+" "+W(b.mediaBox.topRightX)+" "+W(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&Z("/CropBox ["+W(b.cropBox.bottomLeftX)+" "+W(b.cropBox.bottomLeftY)+" "+W(b.cropBox.topRightX)+" "+W(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&Z("/BleedBox ["+W(b.bleedBox.bottomLeftX)+" "+W(b.bleedBox.bottomLeftY)+" "+W(b.bleedBox.topRightX)+" "+W(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&Z("/TrimBox ["+W(b.trimBox.bottomLeftX)+" "+W(b.trimBox.bottomLeftY)+" "+W(b.trimBox.topRightX)+" "+W(b.trimBox.topRightY)+"]"),b.artBox!==null&&Z("/ArtBox ["+W(b.artBox.bottomLeftX)+" "+W(b.artBox.bottomLeftY)+" "+W(b.artBox.topRightX)+" "+W(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&Z("/UserUnit "+b.userUnit),Je.publish("putPage",{objId:pe,pageContext:St[D],pageNumber:D,page:ie}),Z("/Contents "+Se+" 0 R"),Z(">>"),Z("endobj");var Re=ie.join(`
`);return R===P&&(Re+=`
Q`),Xr(Se,!0),Si({data:Re,filters:Di(),objectId:Se}),Z("endobj"),pe},ts=h.__private__.putPages=function(){var b,D,ie=[];for(b=1;b<=Ot;b++)St[b].objId=pr(),St[b].contentsObjId=pr();for(b=1;b<=Ot;b++)ie.push(Go({number:b,data:Pe[b],objId:St[b].objId,contentsObjId:St[b].contentsObjId,mediaBox:St[b].mediaBox,cropBox:St[b].cropBox,bleedBox:St[b].bleedBox,trimBox:St[b].trimBox,artBox:St[b].artBox,userUnit:St[b].userUnit,rootDictionaryObjId:vo,resourceDictionaryObjId:es}));Xr(vo,!0),Z("<</Type /Pages");var pe="/Kids [";for(D=0;D<Ot;D++)pe+=ie[D]+" 0 R ";Z(pe+"]"),Z("/Count "+Ot),Z(">>"),Z("endobj"),Je.publish("postPutPages")},yo=function(b){Je.publish("putFont",{font:b,out:Z,newObject:fr,putStream:Si}),b.isAlreadyPutted!==!0&&(b.objectNumber=fr(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+mu(b.postScriptName)),Z("/Subtype /Type1"),typeof b.encoding=="string"&&Z("/Encoding /"+b.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Ko=function(b){b.objectNumber=fr();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[W(b.x),W(b.y),W(b.x+b.width),W(b.y+b.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var ie=b.pages[1].join(`
`);Si({data:ie,additionalKeyValues:D,objectId:b.objectNumber}),Z("endobj")},Jo=function(b,D){D||(D=21);var ie=fr(),pe=(function(Be,st){var pt,Rt=[],Mt=1/(st-1);for(pt=0;pt<1;pt+=Mt)Rt.push(pt);if(Rt.push(1),Be[0].offset!=0){var rr={offset:0,color:Be[0].color};Be.unshift(rr)}if(Be[Be.length-1].offset!=1){var zr={offset:1,color:Be[Be.length-1].color};Be.push(zr)}for(var un="",Lr=0,wn=0;wn<Rt.length;wn++){for(pt=Rt[wn];pt>Be[Lr+1].offset;)Lr++;var Qr=Be[Lr].offset,Dn=(pt-Qr)/(Be[Lr+1].offset-Qr),Ws=Be[Lr].color,is=Be[Lr+1].color;un+=ae(Math.round((1-Dn)*Ws[0]+Dn*is[0]).toString(16))+ae(Math.round((1-Dn)*Ws[1]+Dn*is[1]).toString(16))+ae(Math.round((1-Dn)*Ws[2]+Dn*is[2]).toString(16))}return un.trim()})(b.colors,D),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+D+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Si({data:pe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),Z("endobj"),b.objectNumber=fr(),Z("<< /ShadingType "+b.type),Z("/ColorSpace /DeviceRGB");var Re="/Coords ["+W(parseFloat(b.coords[0]))+" "+W(parseFloat(b.coords[1]))+" ";b.type===2?Re+=W(parseFloat(b.coords[2]))+" "+W(parseFloat(b.coords[3])):Re+=W(parseFloat(b.coords[2]))+" "+W(parseFloat(b.coords[3]))+" "+W(parseFloat(b.coords[4]))+" "+W(parseFloat(b.coords[5])),Z(Re+="]"),b.matrix&&Z("/Matrix ["+b.matrix.toString()+"]"),Z("/Function "+ie+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Ua=function(b,D){var ie=pr(),pe=fr();D.push({resourcesOid:ie,objectOid:pe}),b.objectNumber=pe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+b.boundingBox.map(W).join(" ")+"]"}),Se.push({key:"XStep",value:W(b.xStep)}),Se.push({key:"YStep",value:W(b.yStep)}),Se.push({key:"Resources",value:ie+" 0 R"}),b.matrix&&Se.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),Si({data:b.stream,additionalKeyValues:Se,objectId:b.objectNumber}),Z("endobj")},Ru=function(b){for(var D in b.objectNumber=fr(),Z("<<"),b)switch(D){case"opacity":Z("/ca "+O(b[D]));break;case"stroke-opacity":Z("/CA "+O(b[D]))}Z(">>"),Z("endobj")},Tr=function(b){Xr(b.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var D in Z("/Font <<"),zt)zt.hasOwnProperty(D)&&(y===!1||y===!0&&S.hasOwnProperty(D))&&Z("/"+D+" "+zt[D].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(wt).length>0){for(var D in Z("/Shading <<"),wt)wt.hasOwnProperty(D)&&wt[D]instanceof pc&&wt[D].objectNumber>=0&&Z("/"+D+" "+wt[D].objectNumber+" 0 R");Je.publish("putShadingPatternDict"),Z(">>")}})(),(function(D){if(Object.keys(wt).length>0){for(var ie in Z("/Pattern <<"),wt)wt.hasOwnProperty(ie)&&wt[ie]instanceof h.TilingPattern&&wt[ie].objectNumber>=0&&wt[ie].objectNumber<D&&Z("/"+ie+" "+wt[ie].objectNumber+" 0 R");Je.publish("putTilingPatternDict"),Z(">>")}})(b.objectOid),(function(){if(Object.keys(ht).length>0){var D;for(D in Z("/ExtGState <<"),ht)ht.hasOwnProperty(D)&&ht[D].objectNumber>=0&&Z("/"+D+" "+ht[D].objectNumber+" 0 R");Je.publish("putGStateDict"),Z(">>")}})(),(function(){for(var D in Z("/XObject <<"),er)er.hasOwnProperty(D)&&er[D].objectNumber>=0&&Z("/"+D+" "+er[D].objectNumber+" 0 R");Je.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},Sc=function(b){qt[b.fontName]=qt[b.fontName]||{},qt[b.fontName][b.fontStyle]=b.id},za=function(b,D,ie,pe,Se){var Re={id:"F"+(Object.keys(zt).length+1).toString(10),postScriptName:b,fontName:D,fontStyle:ie,encoding:pe,isStandardFont:Se||!1,metadata:{}};return Je.publish("addFont",{font:Re,instance:this}),zt[Re.id]=Re,Sc(Re),Re.id},ki=h.__private__.pdfEscape=h.pdfEscape=function(b,D){return(function(ie,pe){var Se,Re,Be,st,pt,Rt,Mt,rr,zr;if(Be=(pe=pe||{}).sourceEncoding||"Unicode",pt=pe.outputEncoding,(pe.autoencode||pt)&&zt[rt].metadata&&zt[rt].metadata[Be]&&zt[rt].metadata[Be].encoding&&(st=zt[rt].metadata[Be].encoding,!pt&&zt[rt].encoding&&(pt=zt[rt].encoding),!pt&&st.codePages&&(pt=st.codePages[0]),typeof pt=="string"&&(pt=st[pt]),pt)){for(Mt=!1,Rt=[],Se=0,Re=ie.length;Se<Re;Se++)(rr=pt[ie.charCodeAt(Se)])?Rt.push(String.fromCharCode(rr)):Rt.push(ie[Se]),Rt[Se].charCodeAt(0)>>8&&(Mt=!0);ie=Rt.join("")}for(Se=ie.length;Mt===void 0&&Se!==0;)ie.charCodeAt(Se-1)>>8&&(Mt=!0),Se--;if(!Mt)return ie;for(Rt=pe.noBOM?[]:[254,255],Se=0,Re=ie.length;Se<Re;Se++){if((zr=(rr=ie.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(zr),Rt.push(rr-(zr<<8))}return String.fromCharCode.apply(void 0,Rt)})(b,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wo=h.__private__.beginPage=function(b){Pe[++Ot]=[],St[Ot]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},Yo(Ot),Ke(Pe[q])},kc=function(b,D){var ie,pe,Se;switch(t=D||t,typeof b=="string"&&(ie=j(b.toLowerCase()),Array.isArray(ie)&&(pe=ie[0],Se=ie[1])),Array.isArray(b)&&(pe=b[0]*kt,Se=b[1]*kt),isNaN(pe)&&(pe=o[0],Se=o[1]),(pe>14400||Se>14400)&&(Rr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Se=Math.min(14400,Se)),o=[pe,Se],t.substr(0,1)){case"l":Se>pe&&(o=[Se,pe]);break;case"p":pe>Se&&(o=[Se,pe])}wo(o),Ct(Mi),Z(ra),Fl!==0&&Z(Fl+" J"),Ml!==0&&Z(Ml+" j"),Je.publish("addPage",{pageNumber:Ot})},qa=function(b){b>0&&b<=Ot&&(Pe.splice(b,1),St.splice(b,1),Ot--,q>Ot&&(q=Ot),this.setPage(q))},Yo=function(b){b>0&&b<=Ot&&(q=b)},Ni=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Pe.length-1},Nc=function(b,D,ie){var pe,Se=void 0;return ie=ie||{},b=b!==void 0?b:zt[rt].fontName,D=D!==void 0?D:zt[rt].fontStyle,pe=b.toLowerCase(),qt[pe]!==void 0&&qt[pe][D]!==void 0?Se=qt[pe][D]:qt[b]!==void 0&&qt[b][D]!==void 0?Se=qt[b][D]:ie.disableWarning===!1&&Rr.warn("Unable to look up font label for font '"+b+"', '"+D+"'. Refer to getFontList() for available fonts."),Se||ie.noFallback||(Se=qt.times[D])==null&&(Se=qt.times.normal),Se},ln=h.__private__.putInfo=function(){var b=fr(),D=function(pe){return pe};for(var ie in v!==null&&(D=yn.encryptor(b,0)),Z("<<"),Z("/Producer ("+ki(D("jsPDF "+bt.version))+")"),Ut)Ut.hasOwnProperty(ie)&&Ut[ie]&&Z("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+ki(D(Ut[ie]))+")");Z("/CreationDate ("+ki(D(fe))+")"),Z(">>"),Z("endobj")},$a=h.__private__.putCatalog=function(b){var D=(b=b||{}).rootDictionaryObjId||vo;switch(fr(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+D+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+yt;ie.substr(ie.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+O(yt)+"]")}switch(Vt||(Vt="continuous"),Vt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}at&&Z("/PageMode /"+at),Je.publish("putCatalog"),Z(">>"),Z("endobj")},Iu=h.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(le+1)),Z("/Root "+le+" 0 R"),Z("/Info "+(le-1)+" 0 R"),v!==null&&Z("/Encrypt "+yn.oid+" 0 R"),Z("/ID [ <"+de+"> <"+de+"> ]"),Z(">>")},cn=h.__private__.putHeader=function(){Z("%PDF-"+A),Z("%")},Xo=h.__private__.putXRef=function(){var b="0000000000";Z("xref"),Z("0 "+(le+1)),Z("0000000000 65535 f ");for(var D=1;D<=le;D++)typeof re[D]=="function"?Z((b+re[D]()).slice(-10)+" 00000 n "):re[D]!==void 0?Z((b+re[D]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Ai=h.__private__.buildDocument=function(){var b;le=0,me=0,ue=[],re=[],_e=[],vo=pr(),es=pr(),Ke(ue),Je.publish("buildDocument"),cn(),ts(),(function(){Je.publish("putAdditionalObjects");for(var ie=0;ie<_e.length;ie++){var pe=_e[ie];Xr(pe.objId,!0),Z(pe.content),Z("endobj")}Je.publish("postPutAdditionalObjects")})(),b=[],(function(){for(var ie in zt)zt.hasOwnProperty(ie)&&(y===!1||y===!0&&S.hasOwnProperty(ie))&&yo(zt[ie])})(),(function(){var ie;for(ie in ht)ht.hasOwnProperty(ie)&&Ru(ht[ie])})(),(function(){for(var ie in er)er.hasOwnProperty(ie)&&Ko(er[ie])})(),(function(ie){var pe;for(pe in wt)wt.hasOwnProperty(pe)&&(wt[pe]instanceof pc?Jo(wt[pe]):wt[pe]instanceof vu&&Ua(wt[pe],ie))})(b),Je.publish("putResources"),b.forEach(Tr),Tr({resourcesOid:es,objectOid:Number.MAX_SAFE_INTEGER}),Je.publish("postPutResources"),v!==null&&(yn.oid=fr(),Z("<<"),Z("/Filter /Standard"),Z("/V "+yn.v),Z("/R "+yn.r),Z("/U <"+yn.toHexString(yn.U)+">"),Z("/O <"+yn.toHexString(yn.O)+">"),Z("/P "+yn.P),Z(">>"),Z("endobj")),ln(),$a();var D=me;return Xo(),Iu(),Z("startxref"),Z(""+D),Z("%%EOF"),Ke(Pe[q]),ue.join(`
`)},ks=h.__private__.getBlob=function(b){return new Blob([_t(b)],{type:"application/pdf"})},Qo=h.output=h.__private__.output=(Dr=function(b,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",b){case void 0:return Ai();case"save":h.save(D.filename);break;case"arraybuffer":return _t(Ai());case"blob":return ks(Ai());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(ks(Ai()))||void 0;Rr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",pe=Ai();try{ie=pv(pe)}catch{ie=pv(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+D.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(Se=D.pdfObjectUrl,Re="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",st=Ft.open();return st!==null&&st.document.write(Be),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',Rt=Ft.open();if(Rt!==null){Rt.document.write(pt);var Mt=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=D.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mt.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',zr=Ft.open();if(zr!==null&&(zr.document.write(rr),zr.document.title=D.filename),zr||typeof safari>"u")return zr;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",D);default:return null}},Dr.foo=function(){try{return Dr.apply(this,arguments)}catch(ie){var b=ie.stack||"";~b.indexOf(" at ")&&(b=b.split(" at ")[1]);var D="Error in function "+b.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Ft.console)throw new Error(D);Ft.console.error(D,ie),Ft.alert&&alert(D)}},Dr.foo.bar=Dr,Dr.foo),Fi=function(b){return Array.isArray(_r)===!0&&_r.indexOf(b)>-1};switch(n){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=Fi("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);kt=n}var yn=null;G(),$();var rs=h.__private__.getPageInfo=h.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[b].objId,pageNumber:b,pageContext:St[b]}},Ol=h.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in St)if(St[D].objId===b)break;return rs(D)},Rl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:St[q].objId,pageNumber:q,pageContext:St[q]}};h.addPage=function(){return kc.apply(this,arguments),this},h.setPage=function(){return Yo.apply(this,arguments),Ke.call(this,Pe[q]),this},h.insertPage=function(b){return this.addPage(),this.movePage(q,b),this},h.movePage=function(b,D){var ie,pe;if(b>D){ie=Pe[b],pe=St[b];for(var Se=b;Se>D;Se--)Pe[Se]=Pe[Se-1],St[Se]=St[Se-1];Pe[D]=ie,St[D]=pe,this.setPage(D)}else if(b<D){ie=Pe[b],pe=St[b];for(var Re=b;Re<D;Re++)Pe[Re]=Pe[Re+1],St[Re]=St[Re+1];Pe[D]=ie,St[D]=pe,this.setPage(D)}return this},h.deletePage=function(){return qa.apply(this,arguments),this},h.__private__.text=h.text=function(b,D,ie,pe,Se){var Re,Be,st,pt,Rt,Mt,rr,zr,un,Lr=(pe=pe||{}).scope||this;if(typeof b=="number"&&typeof D=="number"&&(typeof ie=="string"||Array.isArray(ie))){var wn=ie;ie=D,D=b,b=wn}if(arguments[3]instanceof Xe==0?(st=arguments[4],pt=arguments[5],Cr(rr=arguments[3])==="object"&&rr!==null||(typeof st=="string"&&(pt=st,st=null),typeof rr=="string"&&(pt=rr,rr=null),typeof rr=="number"&&(st=rr,rr=null),pe={flags:rr,angle:st,align:pt})):(H("The transform parameter of text() with a Matrix value"),un=Se),isNaN(D)||isNaN(ie)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Lr;var Qr,Dn="",Ws=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:ai,is=Lr.internal.scaleFactor;function Vs(or){return or=or.split("	").join(Array(pe.TabLen||9).join(" ")),ki(or,rr)}function aa(or){for(var wr,Vr=or.concat(),dn=[],as=Vr.length;as--;)typeof(wr=Vr.shift())=="string"?dn.push(wr):Array.isArray(or)&&(wr.length===1||wr[1]===void 0&&wr[2]===void 0)?dn.push(wr[0]):dn.push([wr[0],wr[1],wr[2]]);return dn}function Xa(or,wr){var Vr;if(typeof or=="string")Vr=wr(or)[0];else if(Array.isArray(or)){for(var dn,as,ql=or.concat(),rl=[],Ys=ql.length;Ys--;)typeof(dn=ql.shift())=="string"?rl.push(wr(dn)[0]):Array.isArray(dn)&&typeof dn[0]=="string"&&(as=wr(dn[0],dn[1],dn[2]),rl.push([as[0],as[1],as[2]]));Vr=rl}return Vr}var _o=!1,la=!0;if(typeof b=="string")_o=!0;else if(Array.isArray(b)){var So=b.concat();Be=[];for(var ko,Fn=So.length;Fn--;)(typeof(ko=So.shift())!="string"||Array.isArray(ko)&&typeof ko[0]!="string")&&(la=!1);_o=la}if(_o===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var ca=De/Lr.internal.scaleFactor,ua=ca*(Ws-1);switch(pe.baseline){case"bottom":ie-=ua;break;case"top":ie+=ca-ua;break;case"hanging":ie+=ca-2*ua;break;case"middle":ie+=ca/2-ua}if((Mt=pe.maxWidth||0)>0&&(typeof b=="string"?b=Lr.splitTextToSize(b,Mt):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(or,wr){return or.concat(Lr.splitTextToSize(wr,Mt))},[]))),Re={text:b,x:D,y:ie,options:pe,mutex:{pdfEscape:ki,activeFontKey:rt,fonts:zt,activeFontSize:De}},Je.publish("preProcessText",Re),b=Re.text,st=(pe=Re.options).angle,un instanceof Xe==0&&st&&typeof st=="number"){st*=Math.PI/180,pe.rotationDirection===0&&(st=-st),R===P&&(st=-st);var Ul=Math.cos(st),zl=Math.sin(st);un=new Xe(Ul,zl,-zl,Ul,0,0)}else st&&st instanceof Xe&&(un=st);R!==P||un||(un=$n),(Rt=pe.charSpace||li)!==void 0&&(Dn+=W(J(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zr=pe.horizontalScale)!==void 0&&(Dn+=W(100*zr)+` Tz
`),pe.lang;var Qn=-1,ss=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,js=Lr.internal.getCurrentPageInfo().pageContext;switch(ss){case 0:case!1:case"fill":Qn=0;break;case 1:case!0:case"stroke":Qn=1;break;case 2:case"fillThenStroke":Qn=2;break;case 3:case"invisible":Qn=3;break;case 4:case"fillAndAddForClipping":Qn=4;break;case 5:case"strokeAndAddPathForClipping":Qn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qn=6;break;case 7:case"addToPathForClipping":Qn=7}var Lc=js.usedRenderingMode!==void 0?js.usedRenderingMode:-1;Qn!==-1?Dn+=Qn+` Tr
`:Lc!==-1&&(Dn+=`0 Tr
`),Qn!==-1&&(js.usedRenderingMode=Qn),pt=pe.align||"left";var Ci,No=De*Ws,Qa=Lr.internal.pageSize.getWidth(),Za=zt[rt];Rt=pe.charSpace||li,Mt=pe.maxWidth||0,rr=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var Hs=[],$i=function(or){return Lr.getStringUnitWidth(or,{font:Za,charSpace:Rt,fontSize:De,doKerning:!1})*De/is};if(Object.prototype.toString.call(b)==="[object Array]"){var ji;Be=aa(b),pt!=="left"&&(Ci=Be.map($i));var Li,Ao=0;if(pt==="right"){D-=Ci[0],b=[],Fn=Be.length;for(var Ls=0;Ls<Fn;Ls++)Ls===0?(Li=Ei(D),ji=qs(ie)):(Li=J(Ao-Ci[Ls]),ji=-No),b.push([Be[Ls],Li,ji]),Ao=Ci[Ls]}else if(pt==="center"){D-=Ci[0]/2,b=[],Fn=Be.length;for(var Gs=0;Gs<Fn;Gs++)Gs===0?(Li=Ei(D),ji=qs(ie)):(Li=J((Ao-Ci[Gs])/2),ji=-No),b.push([Be[Gs],Li,ji]),Ao=Ci[Gs]}else if(pt==="left"){b=[],Fn=Be.length;for(var Ks=0;Ks<Fn;Ks++)b.push(Be[Ks])}else if(pt==="justify"&&Za.encoding==="Identity-H"){b=[],Fn=Be.length,Mt=Mt!==0?Mt:Qa;for(var Ps=0,Zr=0;Zr<Fn;Zr++)if(ji=Zr===0?qs(ie):-No,Li=Zr===0?Ei(D):Ps,Zr<Fn-1){var da=J((Mt-Ci[Zr])/(Be[Zr].split(" ").length-1)),Ts=Be[Zr].split(" ");b.push([Ts[0]+" ",Li,ji]),Ps=0;for(var os=1;os<Ts.length;os++){var ha=($i(Ts[os-1]+" "+Ts[os])-$i(Ts[os]))*is+da;os==Ts.length-1?b.push([Ts[os],ha,0]):b.push([Ts[os]+" ",ha,0]),Ps-=ha}}else b.push([Be[Zr],Li,ji]);b.push(["",Ps,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Fn=Be.length,Mt=Mt!==0?Mt:Qa,Zr=0;Zr<Fn;Zr++){ji=Zr===0?qs(ie):-No,Li=Zr===0?Ei(D):0;var fa=Be[Zr].split(" ").length-1,el=fa>0?(Mt-Ci[Zr])/fa:0;Zr<Fn-1?Hs.push(W(J(el))):Hs.push(0),b.push([Be[Zr],Li,ji])}}}(typeof pe.R2L=="boolean"?pe.R2L:Qe)===!0&&(b=Xa(b,function(or,wr,Vr){return[or.split("").reverse().join(""),wr,Vr]})),Re={text:b,x:D,y:ie,options:pe,mutex:{pdfEscape:ki,activeFontKey:rt,fonts:zt,activeFontSize:De}},Je.publish("postProcessText",Re),b=Re.text,Qr=Re.mutex.isHex||!1;var tl=zt[rt].encoding;tl!=="WinAnsiEncoding"&&tl!=="StandardEncoding"||(b=Xa(b,function(or,wr,Vr){return[Vs(or),wr,Vr]})),Be=aa(b),b=[];for(var Js,Eo,Co,pa=Array.isArray(Be[0])?1:0,jo="",ma=function(or,wr,Vr){var dn="";return Vr instanceof Xe?(Vr=typeof pe.angle=="number"?jr(Vr,new Xe(1,0,0,1,or,wr)):jr(new Xe(1,0,0,1,or,wr),Vr),R===P&&(Vr=jr(new Xe(1,0,0,-1,0,0),Vr)),dn=Vr.join(" ")+` Tm
`):dn=W(or)+" "+W(wr)+` Td
`,dn},Wr=0;Wr<Be.length;Wr++){switch(jo="",pa){case 1:Co=(Qr?"<":"(")+Be[Wr][0]+(Qr?">":")"),Js=parseFloat(Be[Wr][1]),Eo=parseFloat(Be[Wr][2]);break;case 0:Co=(Qr?"<":"(")+Be[Wr]+(Qr?">":")"),Js=Ei(D),Eo=qs(ie)}Hs!==void 0&&Hs[Wr]!==void 0&&(jo=Hs[Wr]+` Tw
`),Wr===0?b.push(jo+ma(Js,Eo,un)+Co):pa===0?b.push(jo+Co):pa===1&&b.push(jo+ma(Js,Eo,un)+Co)}b=pa===0?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var ci=`BT
/`;return ci+=rt+" "+De+` Tf
`,ci+=W(De*Ws)+` TL
`,ci+=ns+`
`,ci+=Dn,ci+=b,Z(ci+="ET"),S[rt]=!0,Lr};var Zo=h.__private__.clip=h.clip=function(b){return Z(b==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Zo("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Z("n"),this};var Ns=h.__private__.isValidStyle=function(b){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(D=!0),D};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(b){return Ns(b)&&(p=b),this};var Wa=h.__private__.getStyle=h.getStyle=function(b){var D=p;switch(b){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=b}return D},ir=h.close=function(){return Z("h"),this};h.stroke=function(){return Z("S"),this},h.fill=function(b){return ea("f",b),this},h.fillEvenOdd=function(b){return ea("f*",b),this},h.fillStroke=function(b){return ea("B",b),this},h.fillStrokeEvenOdd=function(b){return ea("B*",b),this};var ea=function(b,D){Cr(D)==="object"?Ac(D,b):Z(b)},bo=function(b){b===null||R===P&&b===void 0||(b=Wa(b),Z(b))};function Il(b,D,ie,pe,Se){var Re=new vu(D||this.boundingBox,ie||this.xStep,pe||this.yStep,this.gState,Se||this.matrix);Re.stream=this.stream;var Be=b+"$$"+this.cloneIndex+++"$$";return yr(Be,Re),Re}var Ac=function(b,D){var ie=nr[b.key],pe=wt[ie];if(pe instanceof pc)Z("q"),Z(Ec(D)),pe.gState&&h.setGState(pe.gState),Z(b.matrix.toString()+" cm"),Z("/"+ie+" sh"),Z("Q");else if(pe instanceof vu){var Se=new Xe(1,0,0,-1,0,qi());b.matrix&&(Se=Se.multiply(b.matrix||$n),ie=Il.call(pe,b.key,b.boundingBox,b.xStep,b.yStep,Se).id),Z("q"),Z("/Pattern cs"),Z("/"+ie+" scn"),pe.gState&&h.setGState(pe.gState),Z(D),Z("Q")}},Ec=function(b){switch(b){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Va=h.moveTo=function(b,D){return Z(W(J(b))+" "+W(X(D))+" m"),this},Ha=h.lineTo=function(b,D){return Z(W(J(b))+" "+W(X(D))+" l"),this},oi=h.curveTo=function(b,D,ie,pe,Se,Re){return Z([W(J(b)),W(X(D)),W(J(ie)),W(X(pe)),W(J(Se)),W(X(Re)),"c"].join(" ")),this};h.__private__.line=h.line=function(b,D,ie,pe,Se){if(isNaN(b)||isNaN(D)||isNaN(ie)||isNaN(pe)||!Ns(Se))throw new Error("Invalid arguments passed to jsPDF.line");return R===C?this.lines([[ie-b,pe-D]],b,D,[1,1],Se||"S"):this.lines([[ie-b,pe-D]],b,D,[1,1]).stroke()},h.__private__.lines=h.lines=function(b,D,ie,pe,Se,Re){var Be,st,pt,Rt,Mt,rr,zr,un,Lr,wn,Qr,Dn;if(typeof b=="number"&&(Dn=ie,ie=D,D=b,b=Dn),pe=pe||[1,1],Re=Re||!1,isNaN(D)||isNaN(ie)||!Array.isArray(b)||!Array.isArray(pe)||!Ns(Se)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Va(D,ie),Be=pe[0],st=pe[1],Rt=b.length,wn=D,Qr=ie,pt=0;pt<Rt;pt++)(Mt=b[pt]).length===2?(wn=Mt[0]*Be+wn,Qr=Mt[1]*st+Qr,Ha(wn,Qr)):(rr=Mt[0]*Be+wn,zr=Mt[1]*st+Qr,un=Mt[2]*Be+wn,Lr=Mt[3]*st+Qr,wn=Mt[4]*Be+wn,Qr=Mt[5]*st+Qr,oi(rr,zr,un,Lr,wn,Qr));return Re&&ir(),bo(Se),this},h.path=function(b){for(var D=0;D<b.length;D++){var ie=b[D],pe=ie.c;switch(ie.op){case"m":Va(pe[0],pe[1]);break;case"l":Ha(pe[0],pe[1]);break;case"c":oi.apply(this,pe);break;case"h":ir()}}return this},h.__private__.rect=h.rect=function(b,D,ie,pe,Se){if(isNaN(b)||isNaN(D)||isNaN(ie)||isNaN(pe)||!Ns(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return R===C&&(pe=-pe),Z([W(J(b)),W(X(D)),W(J(ie)),W(J(pe)),"re"].join(" ")),bo(Se),this},h.__private__.triangle=h.triangle=function(b,D,ie,pe,Se,Re,Be){if(isNaN(b)||isNaN(D)||isNaN(ie)||isNaN(pe)||isNaN(Se)||isNaN(Re)||!Ns(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-b,pe-D],[Se-ie,Re-pe],[b-Se,D-Re]],b,D,[1,1],Be,!0),this},h.__private__.roundedRect=h.roundedRect=function(b,D,ie,pe,Se,Re,Be){if(isNaN(b)||isNaN(D)||isNaN(ie)||isNaN(pe)||isNaN(Se)||isNaN(Re)||!Ns(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*ie),Re=Math.min(Re,.5*pe),this.lines([[ie-2*Se,0],[Se*st,0,Se,Re-Re*st,Se,Re],[0,pe-2*Re],[0,Re*st,-Se*st,Re,-Se,Re],[2*Se-ie,0],[-Se*st,0,-Se,-Re*st,-Se,-Re],[0,2*Re-pe],[0,-Re*st,Se*st,-Re,Se,-Re]],b+Se,D,[1,1],Be,!0),this},h.__private__.ellipse=h.ellipse=function(b,D,ie,pe,Se){if(isNaN(b)||isNaN(D)||isNaN(ie)||isNaN(pe)||!Ns(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*ie,Be=4/3*(Math.SQRT2-1)*pe;return Va(b+ie,D),oi(b+ie,D-Be,b+Re,D-pe,b,D-pe),oi(b-Re,D-pe,b-ie,D-Be,b-ie,D),oi(b-ie,D+Be,b-Re,D+pe,b,D+pe),oi(b+Re,D+pe,b+ie,D+Be,b+ie,D),bo(Se),this},h.__private__.circle=h.circle=function(b,D,ie,pe){if(isNaN(b)||isNaN(D)||isNaN(ie)||!Ns(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,D,ie,ie,pe)},h.setFont=function(b,D,ie){return ie&&(D=Q(D,ie)),rt=Nc(b,D,{disableWarning:!1}),this};var As=h.__private__.getFont=h.getFont=function(){return zt[Nc.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var b,D,ie={};for(b in qt)if(qt.hasOwnProperty(b))for(D in ie[b]=[],qt[b])qt[b].hasOwnProperty(D)&&ie[b].push(D);return ie},h.addFont=function(b,D,ie,pe,Se){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(ie=Q(ie,pe)),za.call(this,b,D,ie,Se=Se||"Identity-H")};var ai,Mi=r.lineWidth||.200025,ta=h.__private__.getLineWidth=h.getLineWidth=function(){return Mi},Ct=h.__private__.setLineWidth=h.setLineWidth=function(b){return Mi=b,Z(W(J(b))+" w"),this};h.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(b,D){if(b=b||[],D=D||0,isNaN(D)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(ie){return W(J(ie))}).join(" "),D=W(J(D)),Z("["+b+"] "+D+" d"),this};var Es=h.__private__.getLineHeight=h.getLineHeight=function(){return De*ai};h.__private__.getLineHeight=h.getLineHeight=function(){return De*ai};var Du=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(ai=b),this},Cc=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ai};Du(r.lineHeight);var Ei=h.__private__.getHorizontalCoordinate=function(b){return J(b)},qs=h.__private__.getVerticalCoordinate=function(b){return R===P?b:St[q].mediaBox.topRightY-St[q].mediaBox.bottomLeftY-J(b)},jc=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(b){return W(Ei(b))},Ga=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(b){return W(qs(b))},ra=r.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ss(ra)},h.__private__.setStrokeColor=h.setDrawColor=function(b,D,ie,pe){return ra=In({ch1:b,ch2:D,ch3:ie,ch4:pe,pdfColorType:"draw",precision:2}),Z(ra),this};var Dl=r.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ss(Dl)},h.__private__.setFillColor=h.setFillColor=function(b,D,ie,pe){return Dl=In({ch1:b,ch2:D,ch3:ie,ch4:pe,pdfColorType:"fill",precision:2}),Z(Dl),this};var ns=r.textColor||"0 g",na=h.__private__.getTextColor=h.getTextColor=function(){return Ss(ns)};h.__private__.setTextColor=h.setTextColor=function(b,D,ie,pe){return ns=In({ch1:b,ch2:D,ch3:ie,ch4:pe,pdfColorType:"text",precision:3}),this};var li=r.charSpace,Ka=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(li||0)};h.__private__.setCharSpace=h.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return li=b,this};var Fl=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(b){var D=h.CapJoinStyles[b];if(D===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fl=D,Z(D+" J"),this};var Ml=0;h.__private__.setLineJoin=h.setLineJoin=function(b){var D=h.CapJoinStyles[b];if(D===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ml=D,Z(D+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(W(J(b))+" M"),this},h.GState=nf,h.setGState=function(b){(b=typeof b=="string"?ht[Pt[b]]:Ja(null,b)).equals(sr)||(Z("/"+b.id+" gs"),sr=b)};var Ja=function(b,D){if(!b||!Pt[b]){var ie=!1;for(var pe in ht)if(ht.hasOwnProperty(pe)&&ht[pe].equals(D)){ie=!0;break}if(ie)D=ht[pe];else{var Se="GS"+(Object.keys(ht).length+1).toString(10);ht[Se]=D,D.id=Se}return b&&(Pt[b]=D.id),Je.publish("addGState",D),D}};h.addGState=function(b,D){return Ja(b,D),this},h.saveGraphicsState=function(){return Z("q"),hr.push({key:rt,size:De,color:ns}),this},h.restoreGraphicsState=function(){Z("Q");var b=hr.pop();return rt=b.key,De=b.size,ns=b.color,sr=null,this},h.setCurrentTransformationMatrix=function(b){return Z(b.toString()+" cm"),this},h.comment=function(b){return Z("#"+b),this};var Bi=function(b,D){var ie=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Re){isNaN(Re)||(ie=parseFloat(Re))}});var pe=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(Re){isNaN(Re)||(pe=parseFloat(Re))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Re){Se=Re.toString()}}),this},ia=function(b,D,ie,pe){Bi.call(this,b,D),this.type="rect";var Se=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Be){isNaN(Be)||(Se=parseFloat(Be))}});var Re=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(Be){isNaN(Be)||(Re=parseFloat(Be))}}),this},sa=function(){this.page=Ot,this.currentPage=q,this.pages=Pe.slice(0),this.pagesContext=St.slice(0),this.x=nt,this.y=vr,this.matrix=Yt,this.width=xo(q),this.height=oa(q),this.outputDestination=$e,this.id="",this.objectNumber=-1};sa.prototype.restore=function(){Ot=this.page,q=this.currentPage,St=this.pagesContext,Pe=this.pages,nt=this.x,vr=this.y,Yt=this.matrix,Bl(q,this.width),zi(q,this.height),$e=this.outputDestination};var Ui=function(b,D,ie,pe,Se){Rn.push(new sa),Ot=q=0,Pe=[],nt=b,vr=D,Yt=Se,wo([ie,pe])};for(var $s in h.beginFormObject=function(b,D,ie,pe,Se){return Ui(b,D,ie,pe,Se),this},h.endFormObject=function(b){return(function(D){if(Ir[D])Rn.pop().restore();else{var ie=new sa,pe="Xo"+(Object.keys(er).length+1).toString(10);ie.id=pe,Ir[D]=pe,er[pe]=ie,Je.publish("addFormObject",ie),Rn.pop().restore()}})(b),this},h.doFormObject=function(b,D){var ie=er[Ir[b]];return Z("q"),Z(D.toString()+" cm"),Z("/"+ie.id+" Do"),Z("Q"),this},h.getFormObject=function(b){var D=er[Ir[b]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},h.save=function(b,D){return b=b||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(dc(ks(Ai()),b),typeof dc.unload=="function"&&Ft.setTimeout&&setTimeout(dc.unload,911),this):new Promise(function(ie,pe){try{var Se=dc(ks(Ai()),b);typeof dc.unload=="function"&&Ft.setTimeout&&setTimeout(dc.unload,911),ie(Se)}catch(Re){pe(Re.message)}})},bt.API)bt.API.hasOwnProperty($s)&&($s==="events"&&bt.API.events.length?(function(b,D){var ie,pe,Se;for(Se=D.length-1;Se!==-1;Se--)ie=D[Se][0],pe=D[Se][1],b.subscribe.apply(b,[ie].concat(typeof pe=="function"?[pe]:pe))})(Je,bt.API.events):h[$s]=bt.API[$s]);function xo(b){return St[b].mediaBox.topRightX-St[b].mediaBox.bottomLeftX}function Bl(b,D){St[b].mediaBox.topRightX=D+St[b].mediaBox.bottomLeftX}function oa(b){return St[b].mediaBox.topRightY-St[b].mediaBox.bottomLeftY}function zi(b,D){St[b].mediaBox.topRightY=D+St[b].mediaBox.bottomLeftY}var Cs=h.getPageWidth=function(b){return xo(b=b||q)/kt},Wn=h.setPageWidth=function(b,D){Bl(b,D*kt)},qi=h.getPageHeight=function(b){return oa(b=b||q)/kt},Ya=h.setPageHeight=function(b,D){zi(b,D*kt)};return h.internal={pdfEscape:ki,getStyle:Wa,getFont:As,getFontSize:Ye,getCharSpace:Ka,getTextColor:na,getLineHeight:Es,getLineHeightFactor:Cc,getLineWidth:ta,write:He,getHorizontalCoordinate:Ei,getVerticalCoordinate:qs,getCoordinateString:jc,getVerticalCoordinateString:Ga,collections:{},newObject:fr,newAdditionalObject:zs,newObjectDeferred:pr,newObjectDeferredBegin:Xr,getFilters:Di,putStream:Si,events:Je,scaleFactor:kt,pageSize:{getWidth:function(){return Cs(q)},setWidth:function(b){Wn(q,b)},getHeight:function(){return qi(q)},setHeight:function(b){Ya(q,b)}},encryptionOptions:v,encryption:yn,getEncryptor:function(b){return v!==null?yn.encryptor(b,0):function(D){return D}},output:Qo,getNumberOfPages:Ni,get pages(){return Pe},out:Z,f2:O,f3:F,getPageInfo:rs,getPageInfoByObjId:Ol,getCurrentPageInfo:Rl,getPDFVersion:k,Point:Bi,Rectangle:ia,Matrix:Xe,hasHotfix:Fi},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Cs(q)},set:function(b){Wn(q,b)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return qi(q)},set:function(b){Ya(q,b)},enumerable:!0,configurable:!0}),(function(b){for(var D=0,ie=vt.length;D<ie;D++){var pe=za.call(this,b[D][0],b[D][1],b[D][2],vt[D][3],!0);y===!1&&(S[pe]=!0);var Se=b[D][0].split("-");Sc({id:pe,fontName:Se[0],fontStyle:Se[1]||""})}Je.publish("addFonts",{fonts:zt,dictionary:qt})}).call(h,vt),rt="F1",kc(o,t),Je.publish("initialized"),h}pu.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},pu.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pu.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},pu.prototype.processOwnerPassword=function(r,e){return Lm(jm(e).substr(0,5),r)},pu.prototype.encryptor=function(r,e){var t=jm(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Lm(t,n)}},nf.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Cr(r)!==Cr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},bt.API={events:[]},bt.version="4.0.0";var gn=bt.API,sg=1,_c=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cu=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(r){return r.toFixed(2)},Sl=function(r){return r.toFixed(5)};gn.__acroform__={};var Zi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},yv=function(r){return r*sg},Mo=function(r){var e=new w5,t=dt.internal.getHeight(r)||0,n=dt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Wt(n)),Number(Wt(t))],e},L6=gn.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},P6=gn.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},T6=gn.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Sn=gn.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return T6(r,e-1)},kn=gn.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return L6(r,e-1)},Nn=gn.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return P6(r,e-1)},O6=gn.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,o=r[0],a=r[1],l=r[2],c=r[3],d={};return d.lowerLeft_X=t(o)||0,d.lowerLeft_Y=n(a+c)||0,d.upperRight_X=t(o+l)||0,d.upperRight_Y=n(a)||0,[Number(Wt(d.lowerLeft_X)),Number(Wt(d.lowerLeft_Y)),Number(Wt(d.upperRight_X)),Number(Wt(d.upperRight_Y))]},R6=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=Pm(r,t),o=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+o+" "+Wt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Mo(r);return a.scope=r.scope,a.stream=e.join(`
`),a}},Pm=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},o=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");o=r.multiline?o.map(function(O){return O.split(`
`)}):o.map(function(O){return[O]});var a=t,l=dt.internal.getHeight(r)||0;l=l<0?-l:l;var c=dt.internal.getWidth(r)||0;c=c<0?-c:c;var d=function(O,F,J){if(O+1<o.length){var X=F+" "+o[O+1][0];return Ph(X,r,J).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var p,v,y=Ph("3",r,a).height,S=r.multiline?l-a:(l-y)/2,h=S+=2,A=0,k=0,E=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ph(e,r,a=12).width+", FieldWidth:"+c+`
`;break}for(var j="",C=0,P=0;P<o.length;P++)if(o.hasOwnProperty(P)){var R=!1;if(o[P].length!==1&&E!==o[P].length-1){if((y+2)*(C+2)+2>l)continue e;j+=o[P][E],R=!0,k=P,P--}else{j=(j+=o[P][E]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var U=parseInt(P),oe=d(U,j,a),Q=P>=o.length-1;if(oe&&!Q){j+=" ",E=0;continue}if(oe||Q){if(Q)k=U;else if(r.multiline&&(y+2)*(C+2)+2>l)continue e}else{if(!r.multiline||(y+2)*(C+2)+2>l)continue e;k=U}}for(var W="",H=A;H<=k;H++){var se=o[H];if(r.multiline){if(H===k){W+=se[E]+" ",E=(E+1)%se.length;continue}if(H===A){W+=se[se.length-1]+" ";continue}}W+=se[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,v=Ph(W,r,a).width,r.textAlign){case"right":p=c-v-2;break;case"center":p=(c-v)/2;break;default:p=2}e+=Wt(p)+" "+Wt(h)+` Td
`,e+="("+_c(W)+`) Tj
`,e+=-Wt(p)+` 0 Td
`,h=-(a+2),v=0,A=R?k:k+1,C++,j=""}break}return n.text=e,n.fontSize=a,n},Ph=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),o=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:o}},I6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},D6=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},F6=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(mo.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(I6)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sg=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new b5,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];a.objId=void 0,a.hasAnnotation&&D6(a,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,o){var a=!n;for(var l in n||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var c=n[l],d=[],p=c.Rect;if(c.Rect&&(c.Rect=O6(c.Rect,o)),o.internal.newObjectDeferredBegin(c.objId,!0),c.DA=dt.createDefaultAppearanceStream(c),Cr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var v=R6(c);d.push({key:"AP",value:"<</N "+v+">>"}),o.internal.acroformPlugin.xForms.push(v)}if(c.appearanceStreamContent){var y="";for(var S in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(S)){var h=c.appearanceStreamContent[S];if(y+="/"+S+" ",y+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var l in h)if(h.hasOwnProperty(l)){var A=h[l];typeof A=="function"&&(A=A.call(o,c)),y+="/"+l+" "+A+" ",o.internal.acroformPlugin.xForms.indexOf(A)>=0||o.internal.acroformPlugin.xForms.push(A)}}else typeof(A=h)=="function"&&(A=A.call(o,c)),y+="/"+l+" "+A,o.internal.acroformPlugin.xForms.indexOf(A)>=0||o.internal.acroformPlugin.xForms.push(A);y+=">>"}d.push({key:"AP",value:`<<
`+y+">>"})}o.internal.putStream({additionalKeyValues:d,objectId:c.objId}),o.internal.out("endobj")}a&&(function(k,E){for(var j in k)if(k.hasOwnProperty(j)){var C=j,P=k[j];E.internal.newObjectDeferredBegin(P.objId,!0),Cr(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete k[C]}})(o.internal.acroformPlugin.xForms,o)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},y5=gn.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(l){return l};if(Array.isArray(r)){for(var o="[",a=0;a<r.length;a++)switch(a!==0&&(o+=" "),Cr(r[a])){case"boolean":case"number":case"object":o+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),o+="("+_c(n(r[a].toString()))+")"):o+=r[a].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hp=function(r,e,t){var n=function(o){return o};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+_c(n(r))+")"},zo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zo.prototype.toString=function(){return this.objId+" 0 R"},zo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},zo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],o=this[n];o&&(Array.isArray(o)?r.push({key:n,value:y5(o,this.objId,this.scope)}):o instanceof zo?(o.scope=this.scope,r.push({key:n,value:o.objId+" 0 R"})):typeof o!="function"&&r.push({key:n,value:o}))}return r};var w5=function(){zo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Zi(w5,zo);var b5=function(){zo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+_c(t(r))+")"}},set:function(t){r=t}})};Zi(b5,zo);var mo=function r(){zo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sn(e,3)},set:function(j){j?this.F=kn(e,3):this.F=Nn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');t=j}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(j){n=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(j){n[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(j){n[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(j){n[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(j){n[3]=j}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof sf)return;a="FieldObject"+r.FieldNum++}var j=function(C){return C};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+_c(j(a))+")"},set:function(j){a=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(j){a=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/sg:p},set:function(j){p=j}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(j){v=j}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof sf||this instanceof gc))return Hp(y,this.objId,this.scope)},set:function(j){j=j.toString(),y=j}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Xn==0?Hp(S,this.objId,this.scope):S},set:function(j){j=j.toString(),S=this instanceof Xn==0?j.substr(0,1)==="("?cu(j.substr(1,j.length-2)):cu(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn==1?cu(S.substr(1,S.length-1)):S},set:function(j){j=j.toString(),S=this instanceof Xn==1?"/"+j:j}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Xn==0?Hp(h,this.objId,this.scope):h},set:function(j){j=j.toString(),h=this instanceof Xn==0?j.substr(0,1)==="("?cu(j.substr(1,j.length-2)):cu(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xn==1?cu(h.substr(1,h.length-1)):h},set:function(j){j=j.toString(),h=this instanceof Xn==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(j){j=!!j,k=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(j){A=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,1)},set:function(j){j?this.Ff=kn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,2)},set:function(j){j?this.Ff=kn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,3)},set:function(j){j?this.Ff=kn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');E=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(E){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};Zi(mo,zo);var xu=function(){mo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y5(e,this.objId,this.scope)},set:function(t){var n,o;o=[],typeof(n=t)=="string"&&(o=(function(a,l,c){c||(c=1);for(var d,p=[];d=l.exec(a);)p.push(d[c]);return p})(n,/\((.*?)\)/g)),e=o}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,18)},set:function(t){t?this.Ff=kn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=kn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,20)},set:function(t){t?(this.Ff=kn(this.Ff,20),e.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,22)},set:function(t){t?this.Ff=kn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(t){t?this.Ff=kn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,27)},set:function(t){t?this.Ff=kn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Zi(xu,mo);var _u=function(){xu.call(this),this.fontName="helvetica",this.combo=!1};Zi(_u,xu);var Su=function(){_u.call(this),this.combo=!0};Zi(Su,_u);var Uh=function(){Su.call(this),this.edit=!0};Zi(Uh,Su);var Xn=function(){mo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,15)},set:function(t){t?this.Ff=kn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,16)},set:function(t){t?this.Ff=kn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,17)},set:function(t){t?this.Ff=kn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(t){t?this.Ff=kn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,o=[];for(n in o.push("<<"),e)o.push("/"+n+" ("+_c(t(e[n]))+")");return o.push(">>"),o.join(`
`)}},set:function(t){Cr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Zi(Xn,mo);var zh=function(){Xn.call(this),this.pushButton=!0};Zi(zh,Xn);var ku=function(){Xn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Zi(ku,Xn);var sf=function(){var r,e;mo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(o){r=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(o){e=o}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(c){return c};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),n)l.push("/"+a+" ("+_c(o(n[a]))+")");return l.push(">>"),l.join(`
`)},set:function(o){Cr(o)==="object"&&(n=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(o){typeof o=="string"&&(n.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(o){t="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zi(sf,mo),ku.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},ku.prototype.createOption=function(r){var e=new sf;return e.Parent=this,e.optionName=r,this.Kids.push(e),M6.call(this.scope,e),e};var qh=function(){Xn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};Zi(qh,Xn);var gc=function(){mo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,13)},set:function(e){e?this.Ff=kn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,21)},set:function(e){e?this.Ff=kn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(e){e?this.Ff=kn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,24)},set:function(e){e?this.Ff=kn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,25)},set:function(e){e?this.Ff=kn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(e){e?this.Ff=kn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zi(gc,mo);var $h=function(){gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,14)},set:function(r){r?this.Ff=kn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};Zi($h,gc);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,o=r.scope.__private__.encodeColorString(r.color),a=Pm(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Wt(dt.internal.getWidth(r))+" "+Wt(dt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Wt(a.fontSize)+" Tf "+o),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),o=[],a=dt.internal.getHeight(r),l=dt.internal.getWidth(r),c=Pm(r,r.caption);return o.push("1 g"),o.push("0 0 "+Wt(l)+" "+Wt(a)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Wt(l-1)+" "+Wt(a-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+t+" "+Wt(c.fontSize)+" Tf "+n),o.push(c.text),o.push("ET"),o.push("Q"),e.stream=o.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(dt.internal.getWidth(r))+" "+Wt(dt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=dt.RadioButton.Circle.YesNormal,e.D[r]=dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=[],n=dt.internal.getWidth(r)<=dt.internal.getHeight(r)?dt.internal.getWidth(r)/4:dt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var o=dt.internal.Bezier_C,a=Number((n*o).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Sl(dt.internal.getWidth(r)/2)+" "+Sl(dt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],n=dt.internal.getWidth(r)<=dt.internal.getHeight(r)?dt.internal.getWidth(r)/4:dt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),a=Number((o*dt.internal.Bezier_C).toFixed(5)),l=Number((n*dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Sl(dt.internal.getWidth(r)/2)+" "+Sl(dt.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),t.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),t.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),t.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Sl(dt.internal.getWidth(r)/2)+" "+Sl(dt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),t.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),t.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),t.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],n=dt.internal.getWidth(r)<=dt.internal.getHeight(r)?dt.internal.getWidth(r)/4:dt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),a=Number((o*dt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Sl(dt.internal.getWidth(r)/2)+" "+Sl(dt.internal.getHeight(r)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),t.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),t.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),t.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=dt.RadioButton.Cross.YesNormal,e.D[r]=dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=[],n=dt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Wt(dt.internal.getWidth(r)-2)+" "+Wt(dt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Wt(n.x1.x)+" "+Wt(n.x1.y)+" m"),t.push(Wt(n.x2.x)+" "+Wt(n.x2.y)+" l"),t.push(Wt(n.x4.x)+" "+Wt(n.x4.y)+" m"),t.push(Wt(n.x3.x)+" "+Wt(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=dt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(dt.internal.getWidth(r))+" "+Wt(dt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Wt(dt.internal.getWidth(r)-2)+" "+Wt(dt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Wt(t.x1.x)+" "+Wt(t.x1.y)+" m"),n.push(Wt(t.x2.x)+" "+Wt(t.x2.y)+" l"),n.push(Wt(t.x4.x)+" "+Wt(t.x4.y)+" m"),n.push(Wt(t.x3.x)+" "+Wt(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(dt.internal.getWidth(r))+" "+Wt(dt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};dt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=dt.internal.getWidth(r),t=dt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},dt.internal.getWidth=function(r){var e=0;return Cr(r)==="object"&&(e=yv(r.Rect[2])),e},dt.internal.getHeight=function(r){var e=0;return Cr(r)==="object"&&(e=yv(r.Rect[3])),e};var M6=gn.addField=function(r){if(F6(this,r),!(r instanceof mo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};gn.AcroFormChoiceField=xu,gn.AcroFormListBox=_u,gn.AcroFormComboBox=Su,gn.AcroFormEditBox=Uh,gn.AcroFormButton=Xn,gn.AcroFormPushButton=zh,gn.AcroFormRadioButton=ku,gn.AcroFormCheckBox=qh,gn.AcroFormTextField=gc,gn.AcroFormPasswordField=$h,gn.AcroFormAppearance=dt,gn.AcroForm={ChoiceField:xu,ListBox:_u,ComboBox:Su,EditBox:Uh,Button:Xn,PushButton:zh,RadioButton:ku,CheckBox:qh,TextField:gc,PasswordField:$h,Appearance:dt},bt.AcroForm={ChoiceField:xu,ListBox:_u,ComboBox:Su,EditBox:Uh,Button:Xn,PushButton:zh,RadioButton:ku,CheckBox:qh,TextField:gc,PasswordField:$h,Appearance:dt};bt.AcroForm;function x5(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=r.__addimage__.getImageFileTypeByImageData=function(O,F){var J,X,fe,de,ye,$=t;if((F=F||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(oe(O))for(ye in n)for(fe=n[ye],J=0;J<fe.length;J+=1){for(de=!0,X=0;X<fe[J].length;X+=1)if(fe[J][X]!==void 0&&fe[J][X]!==O[X]){de=!1;break}if(de===!0){$=ye;break}}else for(ye in n)for(fe=n[ye],J=0;J<fe.length;J+=1){for(de=!0,X=0;X<fe[J].length;X+=1)if(fe[J][X]!==void 0&&fe[J][X]!==O.charCodeAt(X)){de=!1;break}if(de===!0){$=ye;break}}return $===t&&F!==t&&($=F),$},a=function O(F){for(var J=this.internal.write,X=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:F.width}),de.push({key:"Height",value:F.height}),F.colorSpace===j.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===j.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ye="",$=0,he=F.transparency.length;$<he;$++)ye+=F.transparency[$]+" "+F.transparency[$]+" ";de.push({key:"Mask",value:"["+ye+"]"})}F.sMask!==void 0&&de.push({key:"SMask",value:F.objectId+1+" 0 R"});var xe=F.filter!==void 0?["/"+F.filter]:void 0;if(X({data:F.data,additionalKeyValues:de,alreadyAppliedFilters:xe,objectId:F.objectId}),J("endobj"),"sMask"in F&&F.sMask!==void 0){var G,T=(G=F.sMaskBitsPerComponent)!==null&&G!==void 0?G:F.bitsPerComponent,q={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:F.sMask};"filter"in F&&(q.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(F.width),q.filter=F.filter),O.call(this,q)}if(F.colorSpace===j.INDEXED){var Y=this.internal.newObject();X({data:W(new Uint8Array(F.palette)),objectId:Y}),J("endobj")}},l=function(){var O=this.internal.collections[e+"images"];for(var F in O)a.call(this,O[F])},c=function(){var O,F=this.internal.collections[e+"images"],J=this.internal.write;for(var X in F)J("/I"+(O=F[X]).index,O.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},p=function(){var O=this.internal.collections[e+"images"];return d.call(this),O},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(O){return typeof r["process"+O.toUpperCase()]=="function"},S=function(O){return Cr(O)==="object"&&O.nodeType===1},h=function(O,F){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var J=""+O.getAttribute("src");if(J.indexOf("data:image/")===0)return Bh(unescape(J).split("base64,").pop());var X=r.loadFile(J,!0);if(X!==void 0)return X}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var fe;switch(F){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return Bh(O.toDataURL(fe,1).split("base64,").pop())}},A=function(O){var F=this.internal.collections[e+"images"];if(F){for(var J in F)if(O===F[J].alias)return F[J]}},k=function(O,F,J){return O||F||(O=-96,F=-96),O<0&&(O=-1*J.width*72/O/this.internal.scaleFactor),F<0&&(F=-1*J.height*72/F/this.internal.scaleFactor),O===0&&(O=F*J.width/J.height),F===0&&(F=O*J.height/J.width),[O,F]},E=function(O,F,J,X,fe,de){var ye=k.call(this,J,X,fe),$=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,xe=p.call(this);if(J=ye[0],X=ye[1],xe[fe.index]=fe,de){de*=Math.PI/180;var G=Math.cos(de),T=Math.sin(de),q=function(ae){return ae.toFixed(4)},Y=[q(G),q(T),q(-1*T),q(G),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,$(O),he(F+X),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([$(J),"0","0",$(X),"0","0","cm"].join(" "))):this.internal.write([$(J),"0","0",$(X),$(O),he(F+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},j=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=r.__addimage__.sHashCode=function(O){var F,J,X=0;if(typeof O=="string")for(J=O.length,F=0;F<J;F++)X=(X<<5)-X+O.charCodeAt(F),X|=0;else if(oe(O))for(J=O.byteLength/2,F=0;F<J;F++)X=(X<<5)-X+O[F],X|=0;return X},R=r.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var F=!0;return O.length===0&&(F=!1),O.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(F=!1),F},U=r.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var F=O.indexOf(",");return F<0?null:O.substring(0,F).trim().endsWith("base64")?O.substring(F+1):null};r.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var oe=r.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},Q=r.__addimage__.binaryStringToUint8Array=function(O){for(var F=O.length,J=new Uint8Array(F),X=0;X<F;X++)J[X]=O.charCodeAt(X);return J},W=r.__addimage__.arrayBufferToBinaryString=function(O){for(var F="",J=oe(O)?O:new Uint8Array(O),X=0;X<J.length;X+=8192)F+=String.fromCharCode.apply(null,J.subarray(X,X+8192));return F};r.addImage=function(){var O,F,J,X,fe,de,ye,$,he;if(typeof arguments[1]=="number"?(F=t,J=arguments[1],X=arguments[2],fe=arguments[3],de=arguments[4],ye=arguments[5],$=arguments[6],he=arguments[7]):(F=arguments[1],J=arguments[2],X=arguments[3],fe=arguments[4],de=arguments[5],ye=arguments[6],$=arguments[7],he=arguments[8]),Cr(O=arguments[0])==="object"&&!S(O)&&"imageData"in O){var xe=O;O=xe.imageData,F=xe.format||F||t,J=xe.x||J||0,X=xe.y||X||0,fe=xe.w||xe.width||fe,de=xe.h||xe.height||de,ye=xe.alias||ye,$=xe.compression||$,he=xe.rotation||xe.angle||he}var G=this.internal.getFilters();if($===void 0&&G.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(J)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var T=H.call(this,O,F,ye,$);return E.call(this,J,X,fe,de,T,he),this};var H=function(O,F,J,X){var fe,de,ye;if(typeof O=="string"&&o(O)===t){O=unescape(O);var $=se(O,!1);($!==""||($=r.loadFile(O,!0))!==void 0)&&(O=$)}if(S(O)&&(O=h(O,F)),F=o(O,F),!y(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ye=J)==null||ye.length===0)&&(J=(function(he){return typeof he=="string"||oe(he)?P(he):oe(he.data)?P(he.data):null})(O)),(fe=A.call(this,J))||(O instanceof Uint8Array||F==="RGBA"||(de=O,O=Q(O)),fe=this["process"+F.toUpperCase()](O,v.call(this),J,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in r.image_compression?he:C.NONE})(X),de)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},se=r.__addimage__.convertBase64ToBinaryString=function(O,F){F=typeof F!="boolean"||F;var J,X="";if(typeof O=="string"){var fe;J=(fe=U(O))!==null&&fe!==void 0?fe:O;try{X=Bh(J)}catch(de){if(F)throw R(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};r.getImageProperties=function(O){var F,J,X="";if(S(O)&&(O=h(O)),typeof O=="string"&&o(O)===t&&((X=se(O,!1))===""&&(X=r.loadFile(O)||""),O=X),J=o(O),!y(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(O instanceof Uint8Array||(O=Q(O)),!(F=this["process"+J.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=J,F}})(bt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,o,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,v=!1,y=0;y<p.length&&!v;y++)switch((n=p[y]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var S=0;S<p.length;S++){n=p[S];var h=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(k.objId),C=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(o="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+h(j(n.contents))+")",a+=" /Popup "+E.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+h(j(C))+") >>",k.content=a;var P=k.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+l(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(a+=" /Open true"),a+=" >>",E.content=a,this.internal.write(k.objId,"0 R",E.objId,"0 R");break;case"freetext":o="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+h(A(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var U=this.annotations._nameMap[n.options.name];n.options.pageNumber=U.page,n.options.top=U.y}else n.options.top||(n.options.top=0);if(o="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+h(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var oe=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+oe+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,o,a,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(t),y:p(n),w:d(t+o),h:p(n+a)},options:l,type:"link"})},r.textWithLink=function(t,n,o,a){var l,c,d=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var v=this.splitTextToSize(t,c).length;l=Math.ceil(p*v)}else c=d,l=p;return this.text(t,n,o,a),o+=.2*p,a.align==="center"&&(n-=d/2),a.align==="right"&&(n-=d),this.link(n,o-p,c,l,a),d},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(bt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},l=r.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},c=r.__arabicParser__.isArabicEndLetter=function(k){return l(k)&&a(k)&&e[k.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(k){return l(k)&&o.indexOf(k.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return l(k)&&a(k)&&e[k.charCodeAt(0)].length>=1};var p=r.__arabicParser__.arabicLetterHasFinalForm=function(k){return l(k)&&a(k)&&e[k.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(k){return l(k)&&a(k)&&e[k.charCodeAt(0)].length>=3};var v=r.__arabicParser__.arabicLetterHasMedialForm=function(k){return l(k)&&a(k)&&e[k.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(k){var E=0,j=t,C="",P=0;for(E=0;E<k.length;E+=1)j[k.charCodeAt(E)]!==void 0?(P++,typeof(j=j[k.charCodeAt(E)])=="number"&&(C+=String.fromCharCode(j),j=t,P=0),E===k.length-1&&(j=t,C+=k.charAt(E-(P-1)),E-=P-1,P=0)):(j=t,C+=k.charAt(E-P),E-=P,P=0);return C};r.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var S=r.__arabicParser__.getCorrectForm=function(k,E,j){return l(k)?a(k)===!1?-1:!p(k)||!l(E)&&!l(j)||!l(j)&&c(E)||c(k)&&!l(E)||c(k)&&d(E)||c(k)&&c(E)?0:v(k)&&l(E)&&!c(E)&&l(j)&&p(j)?3:c(k)||!l(j)?1:2:-1},h=function(k){var E=0,j=0,C=0,P="",R="",U="",oe=(k=k||"").split("\\s+"),Q=[];for(E=0;E<oe.length;E+=1){for(Q.push(""),j=0;j<oe[E].length;j+=1)P=oe[E][j],R=oe[E][j-1],U=oe[E][j+1],l(P)?(C=S(P,R,U),Q[E]+=C!==-1?String.fromCharCode(e[P.charCodeAt(0)][C]):P):Q[E]+=P;Q[E]=y(Q[E])}return Q.join(" ")},A=r.__arabicParser__.processArabic=r.processArabic=function(){var k,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(E)){var C=0;for(j=[],C=0;C<E.length;C+=1)Array.isArray(E[C])?j.push([h(E[C][0]),E[C][1],E[C][2]]):j.push([h(E[C])]);k=j}else k=h(E);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};r.events.push(["preProcessText",A])})(bt.API),bt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(c){o=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var o;if((t=t||"2d")!=="2d")return null;for(o in n)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=n[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(bt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(k){S=k}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(k){A=k}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,p){n.call(this);var v=(p=p||{}).fontSize||this.getFontSize(),y=p.font||this.getFont(),S=p.scaleFactor||this.internal.scaleFactor,h=0,A=0,k=0,E=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var j=p.maxWidth;j>0?typeof d=="string"?d=this.splitTextToSize(d,j):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(P,R){return P.concat(E.splitTextToSize(R,j))},[])):d=Array.isArray(d)?d:[d];for(var C=0;C<d.length;C++)h<(k=this.getStringUnitWidth(d[C],{font:y})*v)&&(h=k);return h!==0&&(A=d.length),{w:h/=S,h:Math.max((A*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/S,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=r.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var p=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=y.top,h&&S&&(this.printHeaderRow(d.lineNumber,!0),d.y+=S[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-v,d.y+v,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+v,{align:"center",baseline:"top",maxWidth:d.width-v-v}):this.text(d.text,d.x+v,d.y+v,{align:"left",baseline:"top",maxWidth:d.width-v-v})),this.internal.__cell__.lastCell=d,this};r.table=function(d,p,v,y,S){if(n.call(this),!v)throw new Error("No data for PDF table.");var h,A,k,E,j=[],C=[],P=[],R={},U={},oe=[],Q=[],W=(S=S||{}).autoSize||!1,H=S.printHeaders!==!1,se=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,O=S.margins||Object.assign({width:this.getPageWidth()},e),F=typeof S.padding=="number"?S.padding:3,J=S.headerBackgroundColor||"#c8c8c8",X=S.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=X,this.setFontSize(se),y==null)C=j=Object.keys(v[0]),P=j.map(function(){return"left"});else if(Array.isArray(y)&&Cr(y[0])==="object")for(j=y.map(function(xe){return xe.name}),C=y.map(function(xe){return xe.prompt||xe.name||""}),P=y.map(function(xe){return xe.align||"left"}),h=0;h<y.length;h+=1)U[y[h].name]=.7499990551181103*y[h].width;else Array.isArray(y)&&typeof y[0]=="string"&&(C=j=y,P=j.map(function(){return"left"}));if(W||Array.isArray(y)&&typeof y[0]=="string")for(h=0;h<j.length;h+=1){for(R[E=j[h]]=v.map(function(xe){return xe[E]}),this.setFont(void 0,"bold"),oe.push(this.getTextDimensions(C[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=R[E],this.setFont(void 0,"normal"),k=0;k<A.length;k+=1)oe.push(this.getTextDimensions(A[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[E]=Math.max.apply(null,oe)+F+F,oe=[]}if(H){var fe={};for(h=0;h<j.length;h+=1)fe[j[h]]={},fe[j[h]].text=C[h],fe[j[h]].align=P[h];var de=c.call(this,fe,U);Q=j.map(function(xe){return new a(d,p,U[xe],de,fe[xe].text,void 0,fe[xe].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var ye=y.reduce(function(xe,G){return xe[G.name]=G.align,xe},{});for(h=0;h<v.length;h+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:h,data:v[h]},this);var $=c.call(this,v[h],U);for(k=0;k<j.length;k+=1){var he=v[h][j[k]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:h,col:k,data:he},this),l.call(this,new a(d,p,U[j[k]],$,he,h+2,ye[j[k]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var c=function(d,p){var v=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(d).map(function(h){var A=d[h];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,p[h]-v-v)},this).map(function(h){return this.getLineHeightFactor()*h.length*y/S+v+v},this).reduce(function(h,A){return Math.max(h,A)},0)};r.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,p){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){v=this.internal.__cell__.tableHeaderRow[h].clone(),p&&(v.y=this.internal.__cell__.margins.top||0,S.push(v)),v.lineNumber=d;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,v),this.setTextColor(A)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),t=!1}})(bt.API);var _5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tm=x5(S5),k5=[100,200,300,400,500,600,700,800,900],B6=x5(k5);function Gp(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(a){return _5[a=a||"normal"]?a:"normal"})(r.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(r.weight),o=(function(a){return typeof Tm[a=a||"normal"]=="number"?a:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:o,src:r.src||[],ref:r.ref||{name:e,style:[o,t,n].join(" ")}}}function wv(r,e,t,n){var o;for(o=t;o>=0&&o<e.length;o+=n)if(r[e[o]])return r[e[o]];for(o=t;o>=0&&o<e.length;o-=n)if(r[e[o]])return r[e[o]]}var U6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},bv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xv(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function _v(r){return r.trimLeft()}function z6(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function q6(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Th,Sv,kv,uu,Oh,Nv,Av,Ev,Kp=["times"];function Cv(r,e,t,n,o){var a=4,l=Lv;switch(o){case bt.API.image_compression.FAST:a=1,l=jv;break;case bt.API.image_compression.MEDIUM:a=6,l=Pv;break;case bt.API.image_compression.SLOW:a=9,l=Tv}r=(function(d,p,v,y){for(var S,h=d.length/p,A=new Uint8Array(d.length+h),k=[$6,jv,Lv,Pv,Tv],E=0;E<h;E+=1){var j=E*p,C=d.subarray(j,j+p);if(y)A.set(y(C,v,S),j+E);else{for(var P=k.length,R=[],U=0;U<P;U+=1)R[U]=k[U](C,v,S);var oe=V6(R.concat());A.set(R[oe],j+E)}S=C}return A})(r,e,Math.ceil(t*n/8),l);var c=Nm(r,{level:a});return bt.API.__addimage__.arrayBufferToBinaryString(c)}function $6(r){var e=Array.apply([],r);return e.unshift(0),e}function jv(r,e){var t=r.length,n=[];n[0]=1;for(var o=0;o<t;o+=1){var a=r[o-e]||0;n[o+1]=r[o]-a+256&255}return n}function Lv(r,e,t){var n=r.length,o=[];o[0]=2;for(var a=0;a<n;a+=1){var l=t&&t[a]||0;o[a+1]=r[a]-l+256&255}return o}function Pv(r,e,t){var n=r.length,o=[];o[0]=3;for(var a=0;a<n;a+=1){var l=r[a-e]||0,c=t&&t[a]||0;o[a+1]=r[a]+256-(l+c>>>1)&255}return o}function Tv(r,e,t){var n=r.length,o=[];o[0]=4;for(var a=0;a<n;a+=1){var l=W6(r[a-e]||0,t&&t[a]||0,t&&t[a-e]||0);o[a+1]=r[a]-l+256&255}return o}function W6(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),o=Math.abs(r-t),a=Math.abs(r+e-t-t);return n<=o&&n<=a?r:o<=a?e:t}function V6(r){var e=r.map(function(t){return t.reduce(function(n,o){return n+Math.abs(o)},0)});return e.indexOf(Math.min.apply(null,e))}function Jp(r,e,t){var n=e*t,o=Math.floor(n/8),a=16-(n-8*o+t),l=(1<<t)-1;return N5(r,o)>>a&l}function Ov(r,e,t,n){var o=t*n,a=Math.floor(o/8),l=16-(o-8*a+n),c=(1<<n)-1,d=(e&c)<<l;(function(p,v,y){if(v+1<p.byteLength)p.setUint16(v,y,!1);else{var S=y>>8&255;p.setUint8(v,S)}})(r,a,N5(r,a)&~(c<<l)&65535|d)}function N5(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function H6(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,o=r[e++],a=o>>7,l=1<<1+(7&o);r[e++],r[e++];var c=null,d=null;a&&(c=e,d=l,e+=3*l);var p=!0,v=[],y=0,S=null,h=0,A=null;for(this.width=t,this.height=n;p&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,A=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=r[e++];y=r[e++]|r[e++]<<8,S=r[e++],1&k||(S=null),h=k>>2&7,e++;break;case 254:for(;;){if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var E=r[e++]|r[e++]<<8,j=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,P=r[e++]|r[e++]<<8,R=r[e++],U=R>>6&1,oe=1<<1+(7&R),Q=c,W=d,H=!1;R>>7&&(H=!0,Q=e,W=oe,e+=3*oe);var se=e;for(e++;;){var O;if(!((O=r[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}v.push({x:E,y:j,width:C,height:P,has_local_palette:H,palette_offset:Q,palette_size:W,data_offset:se,data_length:e-se,transparent_index:S,interlaced:!!U,delay:y,disposal:h});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return A},this.frameInfo=function(F){if(F<0||F>=v.length)throw new Error("Frame index out of range.");return v[F]},this.decodeAndBlitFrameBGRA=function(F,J){var X=this.frameInfo(F),fe=X.width*X.height,de=new Uint8Array(fe);Rv(r,X.data_offset,de,fe);var ye=X.palette_offset,$=X.transparent_index;$===null&&($=256);var he=X.width,xe=t-he,G=he,T=4*(X.y*t+X.x),q=4*((X.y+X.height)*t+X.x),Y=T,ae=4*xe;X.interlaced===!0&&(ae+=4*t*7);for(var le=8,re=0,ue=de.length;re<ue;++re){var me=de[re];if(G===0&&(G=he,(Y+=ae)>=q&&(ae=4*xe+4*t*(le-1),Y=T+(he+xe)*(le<<1),le>>=1)),me===$)Y+=4;else{var _e=r[ye+3*me],Pe=r[ye+3*me+1],Me=r[ye+3*me+2];J[Y++]=Me,J[Y++]=Pe,J[Y++]=_e,J[Y++]=255}--G}},this.decodeAndBlitFrameRGBA=function(F,J){var X=this.frameInfo(F),fe=X.width*X.height,de=new Uint8Array(fe);Rv(r,X.data_offset,de,fe);var ye=X.palette_offset,$=X.transparent_index;$===null&&($=256);var he=X.width,xe=t-he,G=he,T=4*(X.y*t+X.x),q=4*((X.y+X.height)*t+X.x),Y=T,ae=4*xe;X.interlaced===!0&&(ae+=4*t*7);for(var le=8,re=0,ue=de.length;re<ue;++re){var me=de[re];if(G===0&&(G=he,(Y+=ae)>=q&&(ae=4*xe+4*t*(le-1),Y=T+(he+xe)*(le<<1),le>>=1)),me===$)Y+=4;else{var _e=r[ye+3*me],Pe=r[ye+3*me+1],Me=r[ye+3*me+2];J[Y++]=_e,J[Y++]=Pe,J[Y++]=Me,J[Y++]=255}--G}}}function Rv(r,e,t,n){for(var o=r[e++],a=1<<o,l=a+1,c=l+1,d=o+1,p=(1<<d)-1,v=0,y=0,S=0,h=r[e++],A=new Int32Array(4096),k=null;;){for(;v<16&&h!==0;)y|=r[e++]<<v,v+=8,h===1?h=r[e++]:--h;if(v<d)break;var E=y&p;if(y>>=d,v-=d,E!==a){if(E===l)break;for(var j=E<c?E:k,C=0,P=j;P>a;)P=A[P]>>8,++C;var R=P;if(S+C+(j!==E?1:0)>n)return void Rr.log("Warning, gif stream longer than expected.");t[S++]=R;var U=S+=C;for(j!==E&&(t[S++]=R),P=j;C--;)P=A[P],t[--U]=255&P,P>>=8;k!==null&&c<4096&&(A[c++]=k<<8|R,c>=p+1&&d<12&&(++d,p=p<<1|1)),k=E}else c=l+1,p=(1<<(d=o+1))-1,k=null}return S!==n&&Rr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yp(r){var e,t,n,o,a,l=Math.floor,c=new Array(64),d=new Array(64),p=new Array(64),v=new Array(64),y=new Array(65535),S=new Array(65535),h=new Array(64),A=new Array(64),k=[],E=0,j=7,C=new Array(64),P=new Array(64),R=new Array(64),U=new Array(256),oe=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(T,q){for(var Y=0,ae=0,le=new Array,re=1;re<=16;re++){for(var ue=1;ue<=T[re];ue++)le[q[ae]]=[],le[q[ae]][0]=Y,le[q[ae]][1]=re,ae++,Y++;Y*=2}return le}function ye(T){for(var q=T[0],Y=T[1]-1;Y>=0;)q&1<<Y&&(E|=1<<j),Y--,--j<0&&(E==255?($(255),$(0)):$(E),j=7,E=0)}function $(T){k.push(T)}function he(T){$(T>>8&255),$(255&T)}function xe(T,q,Y,ae,le){for(var re,ue=le[0],me=le[240],_e=(function(De,yt){var Ye,Qe,at,tr,Vt,Et,Ht,Ut,rt,kt,nt=0;for(rt=0;rt<8;++rt){Ye=De[nt],Qe=De[nt+1],at=De[nt+2],tr=De[nt+3],Vt=De[nt+4],Et=De[nt+5],Ht=De[nt+6];var vr=Ye+(Ut=De[nt+7]),Yt=Ye-Ut,zt=Qe+Ht,qt=Qe-Ht,hr=at+Et,wt=at-Et,nr=tr+Vt,ht=tr-Vt,Pt=vr+nr,sr=vr-nr,Ot=zt+hr,St=zt-hr;De[nt]=Pt+Ot,De[nt+4]=Pt-Ot;var Je=.707106781*(St+sr);De[nt+2]=sr+Je,De[nt+6]=sr-Je;var _r=.382683433*((Pt=ht+wt)-(St=qt+Yt)),er=.5411961*Pt+_r,Ir=1.306562965*St+_r,Rn=.707106781*(Ot=wt+qt),Xe=Yt+Rn,jr=Yt-Rn;De[nt+5]=jr+er,De[nt+3]=jr-er,De[nt+1]=Xe+Ir,De[nt+7]=Xe-Ir,nt+=8}for(nt=0,rt=0;rt<8;++rt){Ye=De[nt],Qe=De[nt+8],at=De[nt+16],tr=De[nt+24],Vt=De[nt+32],Et=De[nt+40],Ht=De[nt+48];var $n=Ye+(Ut=De[nt+56]),yr=Ye-Ut,Dr=Qe+Ht,fr=Qe-Ht,pr=at+Et,Xr=at-Et,zs=tr+Vt,vo=tr-Vt,es=$n+zs,Ss=$n-zs,In=Dr+pr,Di=Dr-pr;De[nt]=es+In,De[nt+32]=es-In;var Si=.707106781*(Di+Ss);De[nt+16]=Ss+Si,De[nt+48]=Ss-Si;var Go=.382683433*((es=vo+Xr)-(Di=fr+yr)),ts=.5411961*es+Go,yo=1.306562965*Di+Go,Ko=.707106781*(In=Xr+fr),Jo=yr+Ko,Ua=yr-Ko;De[nt+40]=Ua+ts,De[nt+24]=Ua-ts,De[nt+8]=Jo+yo,De[nt+56]=Jo-yo,nt++}for(rt=0;rt<64;++rt)kt=De[rt]*yt[rt],h[rt]=kt>0?kt+.5|0:kt-.5|0;return h})(T,q),Pe=0;Pe<64;++Pe)A[Q[Pe]]=_e[Pe];var Me=A[0]-Y;Y=A[0],Me==0?ye(ae[0]):(ye(ae[S[re=32767+Me]]),ye(y[re]));for(var $e=63;$e>0&&A[$e]==0;)$e--;if($e==0)return ye(ue),Y;for(var Ke,Z=1;Z<=$e;){for(var He=Z;A[Z]==0&&Z<=$e;)++Z;var _t=Z-He;if(_t>=16){Ke=_t>>4;for(var vt=1;vt<=Ke;++vt)ye(me);_t&=15}re=32767+A[Z],ye(le[(_t<<4)+S[re]]),ye(y[re]),Z++}return $e!=63&&ye(ue),Y}function G(T){T=Math.min(Math.max(T,1),100),a!=T&&((function(q){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var le=l((Y[ae]*q+50)/100);le=Math.min(Math.max(le,1),255),c[Q[ae]]=le}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var me=l((re[ue]*q+50)/100);me=Math.min(Math.max(me,1),255),d[Q[ue]]=me}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Me=0;Me<8;Me++)for(var $e=0;$e<8;$e++)p[Pe]=1/(c[Q[Pe]]*_e[Me]*_e[$e]*8),v[Pe]=1/(d[Q[Pe]]*_e[Me]*_e[$e]*8),Pe++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,q){q&&G(q),k=new Array,E=0,j=7,he(65496),he(65504),he(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),he(1),he(1),$(0),$(0),(function(){he(65499),he(132),$(0);for(var Qe=0;Qe<64;Qe++)$(c[Qe]);$(1);for(var at=0;at<64;at++)$(d[at])})(),(function(Qe,at){he(65472),he(17),$(8),he(at),he(Qe),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)})(T.width,T.height),(function(){he(65476),he(418),$(0);for(var Qe=0;Qe<16;Qe++)$(W[Qe+1]);for(var at=0;at<=11;at++)$(H[at]);$(16);for(var tr=0;tr<16;tr++)$(se[tr+1]);for(var Vt=0;Vt<=161;Vt++)$(O[Vt]);$(1);for(var Et=0;Et<16;Et++)$(F[Et+1]);for(var Ht=0;Ht<=11;Ht++)$(J[Ht]);$(17);for(var Ut=0;Ut<16;Ut++)$(X[Ut+1]);for(var rt=0;rt<=161;rt++)$(fe[rt])})(),he(65498),he(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var Y=0,ae=0,le=0;E=0,j=7,this.encode.displayName="_encode_";for(var re,ue,me,_e,Pe,Me,$e,Ke,Z,He=T.data,_t=T.width,vt=T.height,De=4*_t,yt=0;yt<vt;){for(re=0;re<De;){for(Pe=De*yt+re,$e=-1,Ke=0,Z=0;Z<64;Z++)Me=Pe+(Ke=Z>>3)*De+($e=4*(7&Z)),yt+Ke>=vt&&(Me-=De*(yt+1+Ke-vt)),re+$e>=De&&(Me-=re+$e-De+4),ue=He[Me++],me=He[Me++],_e=He[Me++],C[Z]=(oe[ue]+oe[me+256|0]+oe[_e+512|0]>>16)-128,P[Z]=(oe[ue+768|0]+oe[me+1024|0]+oe[_e+1280|0]>>16)-128,R[Z]=(oe[ue+1280|0]+oe[me+1536|0]+oe[_e+1792|0]>>16)-128;Y=xe(C,p,Y,e,n),ae=xe(P,v,ae,t,o),le=xe(R,v,le,t,o),re+=32}yt+=8}if(j>=0){var Ye=[];Ye[1]=j+1,Ye[0]=(1<<j+1)-1,ye(Ye)}return he(65497),new Uint8Array(k)},r=r||50,(function(){for(var T=String.fromCharCode,q=0;q<256;q++)U[q]=T(q)})(),e=de(W,H),t=de(F,J),n=de(se,O),o=de(X,fe),(function(){for(var T=1,q=2,Y=1;Y<=15;Y++){for(var ae=T;ae<q;ae++)S[32767+ae]=Y,y[32767+ae]=[],y[32767+ae][1]=Y,y[32767+ae][0]=ae;for(var le=-(q-1);le<=-T;le++)S[32767+le]=Y,y[32767+le]=[],y[32767+le][1]=Y,y[32767+le][0]=q-1+le;T<<=1,q<<=1}})(),(function(){for(var T=0;T<256;T++)oe[T]=19595*T,oe[T+256|0]=38470*T,oe[T+512|0]=7471*T+32768,oe[T+768|0]=-11059*T,oe[T+1024|0]=-21709*T,oe[T+1280|0]=32768*T+8421375,oe[T+1536|0]=-27439*T,oe[T+1792|0]=-5329*T})(),G(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function oo(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Iv(r){function e(H){if(!H)throw Error("assert :P")}function t(H,se,O){for(var F=0;4>F;F++)if(H[se+F]!=O.charCodeAt(F))return!0;return!1}function n(H,se,O,F,J){for(var X=0;X<J;X++)H[se+X]=O[F+X]}function o(H,se,O,F){for(var J=0;J<F;J++)H[se+J]=O}function a(H){return new Int32Array(H)}function l(H,se){for(var O=[],F=0;F<H;F++)O.push(new se);return O}function c(H,se){var O=[];return(function F(J,X,fe){for(var de=fe[X],ye=0;ye<de&&(J.push(fe.length>X+1?[]:new se),!(fe.length<X+1));ye++)F(J[ye],X+1,fe)})(O,0,H),O}var d=function(){var H=this;function se(f,g){for(var _=1<<g-1>>>0;f&_;)_>>>=1;return _?(f&_-1)+_:f}function O(f,g,_,L,I){e(!(L%_));do f[g+(L-=_)]=I;while(0<L)}function F(f,g,_,L,I){if(e(2328>=I),512>=I)var B=a(512);else if((B=a(I))==null)return 0;return(function(z,V,K,ee,ge,Ne){var te,we,ke=V,Oe=1<<K,Ee=a(16),Le=a(16);for(e(ge!=0),e(ee!=null),e(z!=null),e(0<K),we=0;we<ge;++we){if(15<ee[we])return 0;++Ee[ee[we]]}if(Ee[0]==ge)return 0;for(Le[1]=0,te=1;15>te;++te){if(Ee[te]>1<<te)return 0;Le[te+1]=Le[te]+Ee[te]}for(we=0;we<ge;++we)te=ee[we],0<ee[we]&&(Ne[Le[te]++]=we);if(Le[15]==1)return(ee=new J).g=0,ee.value=Ne[0],O(z,ke,1,Oe,ee),Oe;var Te,Ie=-1,Fe=Oe-1,mt=0,et=1,Bt=1,ot=1<<K;for(we=0,te=1,ge=2;te<=K;++te,ge<<=1){if(et+=Bt<<=1,0>(Bt-=Ee[te]))return 0;for(;0<Ee[te];--Ee[te])(ee=new J).g=te,ee.value=Ne[we++],O(z,ke+mt,ge,ot,ee),mt=se(mt,te)}for(te=K+1,ge=2;15>=te;++te,ge<<=1){if(et+=Bt<<=1,0>(Bt-=Ee[te]))return 0;for(;0<Ee[te];--Ee[te]){if(ee=new J,(mt&Fe)!=Ie){for(ke+=ot,Te=1<<(Ie=te)-K;15>Ie&&!(0>=(Te-=Ee[Ie]));)++Ie,Te<<=1;Oe+=ot=1<<(Te=Ie-K),z[V+(Ie=mt&Fe)].g=Te+K,z[V+Ie].value=ke-V-Ie}ee.g=te-K,ee.value=Ne[we++],O(z,ke+(mt>>K),ge,ot,ee),mt=se(mt,te)}}return et!=2*Le[15]-1?0:Oe})(f,g,_,L,I,B)}function J(){this.value=this.g=0}function X(){this.value=this.g=0}function fe(){this.G=l(5,J),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l($i,X)}function de(f,g,_,L){e(f!=null),e(g!=null),e(2147483648>L),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=_,f.Jd=g,f.Yc=_+L,f.Zc=4<=L?_+L-4+1:_,ue(f)}function ye(f,g){for(var _=0;0<g--;)_|=_e(f,128)<<g;return _}function $(f,g){var _=ye(f,g);return me(f)?-_:_}function he(f,g,_,L){var I,B=0;for(e(f!=null),e(g!=null),e(4294967288>L),f.Sb=L,f.Ra=0,f.u=0,f.h=0,4<L&&(L=4),I=0;I<L;++I)B+=g[_+I]<<8*I;f.Ra=B,f.bb=L,f.oa=g,f.pa=_}function xe(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Ao-8>>>0,++f.bb,f.u-=8;ae(f)&&(f.h=1,f.u=0)}function G(f,g){if(e(0<=g),!f.h&&g<=Li){var _=Y(f)&ji[g];return f.u+=g,xe(f),_}return f.h=1,f.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(f){return f.Ra>>>(f.u&Ao-1)>>>0}function ae(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Ao}function le(f,g){f.u=g,f.h=ae(f)}function re(f){f.u>=Ls&&(e(f.u>=Ls),xe(f))}function ue(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function me(f){return ye(f,1)}function _e(f,g){var _=f.Ca;0>f.b&&ue(f);var L=f.b,I=_*g>>>8,B=(f.I>>>L>I)+0;for(B?(_-=I,f.I-=I+1<<L>>>0):_=I+1,L=_,I=0;256<=L;)I+=8,L>>=8;return L=7^I+Gs[L],f.b-=L,f.Ca=(_<<L)-1,B}function Pe(f,g,_){f[g+0]=_>>24&255,f[g+1]=_>>16&255,f[g+2]=_>>8&255,f[g+3]=255&_}function Me(f,g){return f[g+0]|f[g+1]<<8}function $e(f,g){return Me(f,g)|f[g+2]<<16}function Ke(f,g){return Me(f,g)|Me(f,g+2)<<16}function Z(f,g){var _=1<<g;return e(f!=null),e(0<g),f.X=a(_),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function He(f,g){e(f!=null),e(g!=null),e(f.Xa==g.Xa),n(g.X,0,f.X,0,1<<g.Xa)}function _t(){this.X=[],this.Xa=this.Mb=0}function vt(f,g,_,L){e(_!=null),e(L!=null);var I=_[0],B=L[0];return I==0&&(I=(f*B+g/2)/g),B==0&&(B=(g*I+f/2)/f),0>=I||0>=B?0:(_[0]=I,L[0]=B,1)}function De(f,g){return f+(1<<g)-1>>>g}function yt(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function Ye(f,g){H[g]=function(_,L,I,B,z,V,K){var ee;for(ee=0;ee<z;++ee){var ge=H[f](V[K+ee-1],I,B+ee);V[K+ee]=yt(_[L+ee],ge)}}}function Qe(){this.ud=this.hd=this.jd=0}function at(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function tr(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Vt(f,g){return tr(f+(f-g+.5>>1))}function Et(f,g,_){return Math.abs(g-_)-Math.abs(f-_)}function Ht(f,g,_,L,I,B,z){for(L=B[z-1],_=0;_<I;++_)B[z+_]=L=yt(f[g+_],L)}function Ut(f,g,_,L,I){var B;for(B=0;B<_;++B){var z=f[g+B],V=z>>8&255,K=16711935&(K=(K=16711935&z)+((V<<16)+V));L[I+B]=(4278255360&z)+K>>>0}}function rt(f,g){g.jd=255&f,g.hd=f>>8&255,g.ud=f>>16&255}function kt(f,g,_,L,I,B){var z;for(z=0;z<L;++z){var V=g[_+z],K=V>>>8,ee=V,ge=255&(ge=(ge=V>>>16)+((f.jd<<24>>24)*(K<<24>>24)>>>5));ee=255&(ee=(ee+=(f.hd<<24>>24)*(K<<24>>24)>>>5)+((f.ud<<24>>24)*(ge<<24>>24)>>>5)),I[B+z]=(4278255360&V)+(ge<<16)+ee}}function nt(f,g,_,L,I){H[g]=function(B,z,V,K,ee,ge,Ne,te,we){for(K=Ne;K<te;++K)for(Ne=0;Ne<we;++Ne)ee[ge++]=I(V[L(B[z++])])},H[f]=function(B,z,V,K,ee,ge,Ne){var te=8>>B.b,we=B.Ea,ke=B.K[0],Oe=B.w;if(8>te)for(B=(1<<B.b)-1,Oe=(1<<te)-1;z<V;++z){var Ee,Le=0;for(Ee=0;Ee<we;++Ee)Ee&B||(Le=L(K[ee++])),ge[Ne++]=I(ke[Le&Oe]),Le>>=te}else H["VP8LMapColor"+_](K,ee,ke,Oe,ge,Ne,z,V,we)}}function vr(f,g,_,L,I){for(_=g+_;g<_;){var B=f[g++];L[I++]=B>>16&255,L[I++]=B>>8&255,L[I++]=255&B}}function Yt(f,g,_,L,I){for(_=g+_;g<_;){var B=f[g++];L[I++]=B>>16&255,L[I++]=B>>8&255,L[I++]=255&B,L[I++]=B>>24&255}}function zt(f,g,_,L,I){for(_=g+_;g<_;){var B=(z=f[g++])>>16&240|z>>12&15,z=240&z|z>>28&15;L[I++]=B,L[I++]=z}}function qt(f,g,_,L,I){for(_=g+_;g<_;){var B=(z=f[g++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;L[I++]=B,L[I++]=z}}function hr(f,g,_,L,I){for(_=g+_;g<_;){var B=f[g++];L[I++]=255&B,L[I++]=B>>8&255,L[I++]=B>>16&255}}function wt(f,g,_,L,I,B){if(B==0)for(_=g+_;g<_;)Pe(L,((B=f[g++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),I+=32;else n(L,I,f,g,_)}function nr(f,g){H[g][0]=H[f+"0"],H[g][1]=H[f+"1"],H[g][2]=H[f+"2"],H[g][3]=H[f+"3"],H[g][4]=H[f+"4"],H[g][5]=H[f+"5"],H[g][6]=H[f+"6"],H[g][7]=H[f+"7"],H[g][8]=H[f+"8"],H[g][9]=H[f+"9"],H[g][10]=H[f+"10"],H[g][11]=H[f+"11"],H[g][12]=H[f+"12"],H[g][13]=H[f+"13"],H[g][14]=H[f+"0"],H[g][15]=H[f+"0"]}function ht(f){return f==sl||f==ya||f==Gl||f==Kl}function Pt(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ot(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pt,this.f.kb=new sr,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Je(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _r(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function er(f,g){var _=f.T,L=g.ba.f.RGBA,I=L.eb,B=L.fb+f.ka*L.A,z=di[g.ba.S],V=f.y,K=f.O,ee=f.f,ge=f.N,Ne=f.ea,te=f.W,we=g.cc,ke=g.dc,Oe=g.Mc,Ee=g.Nc,Le=f.ka,Te=f.ka+f.T,Ie=f.U,Fe=Ie+1>>1;for(Le==0?z(V,K,null,null,ee,ge,Ne,te,ee,ge,Ne,te,I,B,null,null,Ie):(z(g.ec,g.fc,V,K,we,ke,Oe,Ee,ee,ge,Ne,te,I,B-L.A,I,B,Ie),++_);Le+2<Te;Le+=2)we=ee,ke=ge,Oe=Ne,Ee=te,ge+=f.Rc,te+=f.Rc,B+=2*L.A,z(V,(K+=2*f.fa)-f.fa,V,K,we,ke,Oe,Ee,ee,ge,Ne,te,I,B-L.A,I,B,Ie);return K+=f.fa,f.j+Te<f.o?(n(g.ec,g.fc,V,K,Ie),n(g.cc,g.dc,ee,ge,Fe),n(g.Mc,g.Nc,Ne,te,Fe),_--):1&Te||z(V,K,null,null,ee,ge,Ne,te,ee,ge,Ne,te,I,B+L.A,null,null,Ie),_}function Ir(f,g,_){var L=f.F,I=[f.J];if(L!=null){var B=f.U,z=g.ba.S,V=z==Hl||z==Gl;g=g.ba.f.RGBA;var K=[0],ee=f.ka;K[0]=f.T,f.Kb&&(ee==0?--K[0]:(--ee,I[0]-=f.width),f.j+f.ka+f.T==f.o&&(K[0]=f.o-f.j-ee));var ge=g.eb;ee=g.fb+ee*g.A,f=Wl(L,I[0],f.width,B,K,ge,ee+(V?0:3),g.A),e(_==K),f&&ht(z)&&va(ge,ee,V,B,K,g.A)}return 0}function Rn(f){var g=f.ma,_=g.ba.S,L=11>_,I=_==Lo||_==Vl||_==Hl||_==Sr||_==12||ht(_);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Qa(g.Oa,f,I?11:12))return 0;if(I&&ht(_)&&aa(),f.da)alert("todo:use_scaling");else{if(L){if(g.Ib=_r,f.Kb){if(_=f.U+1>>1,g.memory=a(f.U+2*_),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+_,g.Ib=er,aa()}}else alert("todo:EmitYUV");I&&(g.Jb=Ir,L&&is())}if(L&&!Mn){for(f=0;256>f;++f)hi[f]=89858*(f-128)+ls>>Xs,fi[f]=-22014*(f-128)+ls,cl[f]=-45773*(f-128),_a[f]=113618*(f-128)+ls>>Xs;for(f=mr;f<br;++f)g=76283*(f-16)+ls>>Xs,Fc[f-mr]=ln(g,255),Md[f-mr]=ln(g+8>>4,15);Mn=1}return 1}function Xe(f){var g=f.ma,_=f.U,L=f.T;return e(!(1&f.ka)),0>=_||0>=L?0:(_=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,_),g.Dc+=_,1)}function jr(f){f.ma.memory=null}function $n(f,g,_,L){return G(f,8)!=47?0:(g[0]=G(f,14)+1,_[0]=G(f,14)+1,L[0]=G(f,1),G(f,3)!=0?0:!f.h)}function yr(f,g){if(4>f)return f+1;var _=f-2>>1;return(2+(1&f)<<_)+G(g,_)+1}function Dr(f,g){return 120<g?g-120:1<=(_=((_=wf[g-1])>>4)*f+(8-(15&_)))?_:1;var _}function fr(f,g,_){var L=Y(_),I=f[g+=255&L].g-8;return 0<I&&(le(_,_.u+8),L=Y(_),g+=f[g].value,g+=L&(1<<I)-1),le(_,_.u+f[g].g),f[g].value}function pr(f,g,_){return _.g+=f.g,_.value+=f.value<<g>>>0,e(8>=_.g),f.g}function Xr(f,g,_){var L=f.xc;return e((g=L==0?0:f.vc[f.md*(_>>L)+(g>>L)])<f.Wb),f.Ya[g]}function zs(f,g,_,L){var I=f.ab,B=f.c*g,z=f.C;g=z+g;var V=_,K=L;for(L=f.Ta,_=f.Ua;0<I--;){var ee=f.gc[I],ge=z,Ne=g,te=V,we=K,ke=(K=L,V=_,ee.Ea);switch(e(ge<Ne),e(Ne<=ee.nc),ee.hc){case 2:Zr(te,we,(Ne-ge)*ke,K,V);break;case 0:var Oe=ge,Ee=Ne,Le=K,Te=V,Ie=(ot=ee).Ea;Oe==0&&(Ks(te,we,null,null,1,Le,Te),Ht(te,we+1,0,0,Ie-1,Le,Te+1),we+=Ie,Te+=Ie,++Oe);for(var Fe=1<<ot.b,mt=Fe-1,et=De(Ie,ot.b),Bt=ot.K,ot=ot.w+(Oe>>ot.b)*et;Oe<Ee;){var Xt=Bt,Hr=ot,$t=1;for(Ps(te,we,Le,Te-Ie,1,Le,Te);$t<Ie;){var tt=($t&~mt)+Fe;tt>Ie&&(tt=Ie),(0,fa[Xt[Hr++]>>8&15])(te,we+ +$t,Le,Te+$t-Ie,tt-$t,Le,Te+$t),$t=tt}we+=Ie,Te+=Ie,++Oe&mt||(ot+=et)}Ne!=ee.nc&&n(K,V-ke,K,V+(Ne-ge-1)*ke,ke);break;case 1:for(ke=te,Ee=we,Ie=(te=ee.Ea)-(Te=te&~(Le=(we=1<<ee.b)-1)),Oe=De(te,ee.b),Fe=ee.K,ee=ee.w+(ge>>ee.b)*Oe;ge<Ne;){for(mt=Fe,et=ee,Bt=new Qe,ot=Ee+Te,Xt=Ee+te;Ee<ot;)rt(mt[et++],Bt),el(Bt,ke,Ee,we,K,V),Ee+=we,V+=we;Ee<Xt&&(rt(mt[et++],Bt),el(Bt,ke,Ee,Ie,K,V),Ee+=Ie,V+=Ie),++ge&Le||(ee+=Oe)}break;case 3:if(te==K&&we==V&&0<ee.b){for(Ee=K,te=ke=V+(Ne-ge)*ke-(Te=(Ne-ge)*De(ee.Ea,ee.b)),we=K,Le=V,Oe=[],Te=(Ie=Te)-1;0<=Te;--Te)Oe[Te]=we[Le+Te];for(Te=Ie-1;0<=Te;--Te)Ee[te+Te]=Oe[Te];da(ee,ge,Ne,K,ke,K,V)}else da(ee,ge,Ne,te,we,K,V)}V=L,K=_}K!=_&&n(L,_,V,K,B)}function vo(f,g){var _=f.V,L=f.Ba+f.c*f.C,I=g-f.C;if(e(g<=f.l.o),e(16>=I),0<I){var B=f.l,z=f.Ta,V=f.Ua,K=B.width;if(zs(f,I,_,L),I=V=[V],e((_=f.C)<(L=g)),e(B.v<B.va),L>B.o&&(L=B.o),_<B.j){var ee=B.j-_;_=B.j,I[0]+=ee*K}if(_>=L?_=0:(I[0]+=4*B.v,B.ka=_-B.j,B.U=B.va-B.v,B.T=L-_,_=1),_){if(V=V[0],11>(_=f.ca).S){var ge=_.f.RGBA,Ne=(L=_.S,I=B.U,B=B.T,ee=ge.eb,ge.A),te=B;for(ge=ge.fb+f.Ma*ge.A;0<te--;){var we=z,ke=V,Oe=I,Ee=ee,Le=ge;switch(L){case Oc:tl(we,ke,Oe,Ee,Le);break;case Lo:Js(we,ke,Oe,Ee,Le);break;case sl:Js(we,ke,Oe,Ee,Le),va(Ee,Le,0,Oe,1,0);break;case Od:pa(we,ke,Oe,Ee,Le);break;case Vl:wt(we,ke,Oe,Ee,Le,1);break;case ya:wt(we,ke,Oe,Ee,Le,1),va(Ee,Le,0,Oe,1,0);break;case Hl:wt(we,ke,Oe,Ee,Le,0);break;case Gl:wt(we,ke,Oe,Ee,Le,0),va(Ee,Le,1,Oe,1,0);break;case Sr:Eo(we,ke,Oe,Ee,Le);break;case Kl:Eo(we,ke,Oe,Ee,Le),Mu(Ee,Le,Oe,1,0);break;case Rc:Co(we,ke,Oe,Ee,Le);break;default:e(0)}V+=K,ge+=Ne}f.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=_.height)}}f.C=g,e(f.C<=f.i)}function es(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var _=f.Ya[g].G,L=f.Ya[g].H;if(0<_[1][L[1]+0].g||0<_[2][L[2]+0].g||0<_[3][L[3]+0].g)return 0}return 1}function Ss(f,g,_,L,I,B){if(f.Z!=0){var z=f.qd,V=f.rd;for(e(Vn[f.Z]!=null);g<_;++g)Vn[f.Z](z,V,L,I,L,I,B),z=L,V=I,I+=B;f.qd=z,f.rd=V}}function In(f,g){var _=f.l.ma,L=_.Z==0||_.Z==1?f.l.j:f.C;if(L=f.C<L?L:f.C,e(g<=f.l.o),g>L){var I=f.l.width,B=_.ca,z=_.tb+I*L,V=f.V,K=f.Ba+f.c*L,ee=f.gc;e(f.ab==1),e(ee[0].hc==3),os(ee[0],L,g,V,K,B,z),Ss(_,L,g,B,z,I)}f.C=f.Ma=g}function Di(f,g,_,L,I,B,z){var V=f.$/L,K=f.$%L,ee=f.m,ge=f.s,Ne=_+f.$,te=Ne;I=_+L*I;var we=_+L*B,ke=280+ge.ua,Oe=f.Pb?V:16777216,Ee=0<ge.ua?ge.Wa:null,Le=ge.wc,Te=Ne<we?Xr(ge,K,V):null;e(f.C<B),e(we<=I);var Ie=!1;e:for(;;){for(;Ie||Ne<we;){var Fe=0;if(V>=Oe){var mt=Ne-_;e((Oe=f).Pb),Oe.wd=Oe.m,Oe.xd=mt,0<Oe.s.ua&&He(Oe.s.Wa,Oe.s.vb),Oe=V+Dc}if(K&Le||(Te=Xr(ge,K,V)),e(Te!=null),Te.Qb&&(g[Ne]=Te.qb,Ie=!0),!Ie)if(re(ee),Te.jc){Fe=ee,mt=g;var et=Ne,Bt=Te.pd[Y(Fe)&$i-1];e(Te.jc),256>Bt.g?(le(Fe,Fe.u+Bt.g),mt[et]=Bt.value,Fe=0):(le(Fe,Fe.u+Bt.g-256),e(256<=Bt.value),Fe=Bt.value),Fe==0&&(Ie=!0)}else Fe=fr(Te.G[0],Te.H[0],ee);if(ee.h)break;if(Ie||256>Fe){if(!Ie)if(Te.nd)g[Ne]=(Te.qb|Fe<<8)>>>0;else{if(re(ee),Ie=fr(Te.G[1],Te.H[1],ee),re(ee),mt=fr(Te.G[2],Te.H[2],ee),et=fr(Te.G[3],Te.H[3],ee),ee.h)break;g[Ne]=(et<<24|Ie<<16|Fe<<8|mt)>>>0}if(Ie=!1,++Ne,++K>=L&&(K=0,++V,z!=null&&V<=B&&!(V%16)&&z(f,V),Ee!=null))for(;te<Ne;)Fe=g[te++],Ee.X[(506832829*Fe&4294967295)>>>Ee.Mb]=Fe}else if(280>Fe){if(Fe=yr(Fe-256,ee),mt=fr(Te.G[4],Te.H[4],ee),re(ee),mt=Dr(L,mt=yr(mt,ee)),ee.h)break;if(Ne-_<mt||I-Ne<Fe)break e;for(et=0;et<Fe;++et)g[Ne+et]=g[Ne+et-mt];for(Ne+=Fe,K+=Fe;K>=L;)K-=L,++V,z!=null&&V<=B&&!(V%16)&&z(f,V);if(e(Ne<=I),K&Le&&(Te=Xr(ge,K,V)),Ee!=null)for(;te<Ne;)Fe=g[te++],Ee.X[(506832829*Fe&4294967295)>>>Ee.Mb]=Fe}else{if(!(Fe<ke))break e;for(Ie=Fe-280,e(Ee!=null);te<Ne;)Fe=g[te++],Ee.X[(506832829*Fe&4294967295)>>>Ee.Mb]=Fe;Fe=Ne,e(!(Ie>>>(mt=Ee).Xa)),g[Fe]=mt.X[Ie],Ie=!0}Ie||e(ee.h==ae(ee))}if(f.Pb&&ee.h&&Ne<I)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&He(f.s.vb,f.s.Wa);else{if(ee.h)break e;z!=null&&z(f,V>B?B:V),f.a=0,f.$=Ne-_}return 1}return f.a=3,0}function Si(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,e(f!=null)}function Go(){var f=new Rt;return f==null?null:(f.a=0,f.xb=al,nr("Predictor","VP8LPredictors"),nr("Predictor","VP8LPredictors_C"),nr("PredictorAdd","VP8LPredictorsAdd"),nr("PredictorAdd","VP8LPredictorsAdd_C"),Zr=Ut,el=kt,tl=vr,Js=Yt,Eo=zt,Co=qt,pa=hr,H.VP8LMapColor32b=Ts,H.VP8LMapColor8b=ha,f)}function ts(f,g,_,L,I){var B=1,z=[f],V=[g],K=L.m,ee=L.s,ge=null,Ne=0;e:for(;;){if(_)for(;B&&G(K,1);){var te=z,we=V,ke=L,Oe=1,Ee=ke.m,Le=ke.gc[ke.ab],Te=G(Ee,2);if(ke.Oc&1<<Te)B=0;else{switch(ke.Oc|=1<<Te,Le.hc=Te,Le.Ea=te[0],Le.nc=we[0],Le.K=[null],++ke.ab,e(4>=ke.ab),Te){case 0:case 1:Le.b=G(Ee,3)+2,Oe=ts(De(Le.Ea,Le.b),De(Le.nc,Le.b),0,ke,Le.K),Le.K=Le.K[0];break;case 3:var Ie,Fe=G(Ee,8)+1,mt=16<Fe?0:4<Fe?1:2<Fe?2:3;if(te[0]=De(Le.Ea,mt),Le.b=mt,Ie=Oe=ts(Fe,1,0,ke,Le.K)){var et,Bt=Fe,ot=Le,Xt=1<<(8>>ot.b),Hr=a(Xt);if(Hr==null)Ie=0;else{var $t=ot.K[0],tt=ot.w;for(Hr[0]=ot.K[0][0],et=1;et<1*Bt;++et)Hr[et]=yt($t[tt+et],Hr[et-1]);for(;et<4*Xt;++et)Hr[et]=0;ot.K[0]=null,ot.K[0]=Hr,Ie=1}}Oe=Ie;break;case 2:break;default:e(0)}B=Oe}}if(z=z[0],V=V[0],B&&G(K,1)&&!(B=1<=(Ne=G(K,4))&&11>=Ne)){L.a=3;break e}var Ge;if(Ge=B)t:{var en,Tt,Gt,Pr=L,En=z,hn=V,qr=Ne,bn=_,Cn=Pr.m,Fr=Pr.s,Zt=[null],ar=1,Mr=0,lr=Id[qr];r:for(;;){if(bn&&G(Cn,1)){var Gr=G(Cn,3)+2,Kr=De(En,Gr),kr=De(hn,Gr),Hn=Kr*kr;if(!ts(Kr,kr,0,Pr,Zt))break r;for(Zt=Zt[0],Fr.xc=Gr,en=0;en<Hn;++en){var xr=Zt[en]>>8&65535;Zt[en]=xr,xr>=ar&&(ar=xr+1)}}if(Cn.h)break r;for(Tt=0;5>Tt;++Tt){var Nr=wa[Tt];!Tt&&0<qr&&(Nr+=1<<qr),Mr<Nr&&(Mr=Nr)}var fn=l(ar*lr,J),Bn=ar,pi=l(Bn,fe);if(pi==null)var tn=null;else e(65536>=Bn),tn=pi;var rn=a(Mr);if(tn==null||rn==null||fn==null){Pr.a=1;break r}var Gn=fn;for(en=Gt=0;en<ar;++en){var Ar=tn[en],Kn=Ar.G,Hi=Ar.H,cs=0,jn=1,nn=0;for(Tt=0;5>Tt;++Tt){Nr=wa[Tt],Kn[Tt]=Gn,Hi[Tt]=Gt,!Tt&&0<qr&&(Nr+=1<<qr);i:{var Oo,Zs=Nr,ul=Pr,Is=rn,Ud=Gn,Yu=Gt,Or=0,us=ul.m,Xu=G(us,1);if(o(Is,0,0,Zs),Xu){var Qu=G(us,1)+1,Mc=G(us,1),Bc=G(us,Mc==0?1:8);Is[Bc]=1,Qu==2&&(Is[Bc=G(us,8)]=1);var Ds=1}else{var Br=a(19),pn=G(us,4)+4;if(19<pn){ul.a=3;var sn=0;break i}for(Oo=0;Oo<pn;++Oo)Br[yf[Oo]]=G(us,3);var dl=void 0,eo=void 0,hl=ul,kf=Br,xn=Zs,Uc=Is,Zl=0,Fs=hl.m,ds=8,Pi=l(128,J);n:for(;F(Pi,0,7,kf,19);){if(G(Fs,1)){var ec=2+2*G(Fs,3);if((dl=2+G(Fs,ec))>xn)break n}else dl=xn;for(eo=0;eo<xn&&dl--;){re(Fs);var zc=Pi[0+(127&Y(Fs))];le(Fs,Fs.u+zc.g);var Ro=zc.value;if(16>Ro)Uc[eo++]=Ro,Ro!=0&&(ds=Ro);else{var zd=Ro==16,Zu=Ro-16,qd=Ic[Zu],ed=G(Fs,Jl[Zu])+qd;if(eo+ed>xn)break n;for(var $d=zd?ds:0;0<ed--;)Uc[eo++]=$d}}Zl=1;break n}Zl||(hl.a=3),Ds=Zl}(Ds=Ds&&!us.h)&&(Or=F(Ud,Yu,8,Is,Zs)),Ds&&Or!=0?sn=Or:(ul.a=3,sn=0)}if(sn==0)break r;if(jn&&Rd[Tt]==1&&(jn=Gn[Gt].g==0),cs+=Gn[Gt].g,Gt+=sn,3>=Tt){var fl,qc=rn[0];for(fl=1;fl<Nr;++fl)rn[fl]>qc&&(qc=rn[fl]);nn+=qc}}if(Ar.nd=jn,Ar.Qb=0,jn&&(Ar.qb=(Kn[3][Hi[3]+0].value<<24|Kn[1][Hi[1]+0].value<<16|Kn[2][Hi[2]+0].value)>>>0,cs==0&&256>Kn[0][Hi[0]+0].value&&(Ar.Qb=1,Ar.qb+=Kn[0][Hi[0]+0].value<<8)),Ar.jc=!Ar.Qb&&6>nn,Ar.jc){var tc,Ti=Ar;for(tc=0;tc<$i;++tc){var to=tc,hs=Ti.pd[to],ka=Ti.G[0][Ti.H[0]+to];256<=ka.value?(hs.g=ka.g+256,hs.value=ka.value):(hs.g=0,hs.value=0,to>>=pr(ka,8,hs),to>>=pr(Ti.G[1][Ti.H[1]+to],16,hs),to>>=pr(Ti.G[2][Ti.H[2]+to],0,hs),pr(Ti.G[3][Ti.H[3]+to],24,hs))}}}Fr.vc=Zt,Fr.Wb=ar,Fr.Ya=tn,Fr.yc=fn,Ge=1;break t}Ge=0}if(!(B=Ge)){L.a=3;break e}if(0<Ne){if(ee.ua=1<<Ne,!Z(ee.Wa,Ne)){L.a=1,B=0;break e}}else ee.ua=0;var $c=L,Wc=z,Wd=V,Vc=$c.s,Hc=Vc.xc;if($c.c=Wc,$c.i=Wd,Vc.md=De(Wc,Hc),Vc.wc=Hc==0?-1:(1<<Hc)-1,_){L.xb=Rs;break e}if((ge=a(z*V))==null){L.a=1,B=0;break e}B=(B=Di(L,ge,0,z,V,V,null))&&!K.h;break e}return B?(I!=null?I[0]=ge:(e(ge==null),e(_)),L.$=0,_||Si(ee)):Si(ee),B}function yo(f,g){var _=f.c*f.i,L=_+g+16*g;return e(f.c<=g),f.V=a(L),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+_+g,1)}function Ko(f,g){var _=f.C,L=g-_,I=f.V,B=f.Ba+f.c*_;for(e(g<=f.l.o);0<L;){var z=16<L?16:L,V=f.l.ma,K=f.l.width,ee=K*z,ge=V.ca,Ne=V.tb+K*_,te=f.Ta,we=f.Ua;zs(f,z,I,B),Bu(te,we,ge,Ne,ee),Ss(V,_,_+z,ge,Ne,K),L-=z,I+=z*f.c,_+=z}e(_==g),f.C=f.Ma=g}function Jo(){this.ub=this.yd=this.td=this.Rb=0}function Ua(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ru(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Tr(){this.Yb=(function(){var f=[];return(function g(_,L,I){for(var B=I[L],z=0;z<B&&(_.push(I.length>L+1?[]:0),!(I.length<L+1));z++)g(_[z],L+1,I)})(f,0,[3,11]),f})()}function Sc(){this.jb=a(3),this.Wc=c([4,8],Tr),this.Xc=c([4,17],Tr)}function za(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ki(){this.ld=this.La=this.dd=this.tc=0}function wo(){this.Na=this.la=0}function kc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qa(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yo(){this.uc=this.M=this.Nb=0,this.wa=Array(new ki),this.Y=0,this.ya=Array(new qa),this.aa=0,this.l=new $a}function Ni(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Nc(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Jo,this.Kc=new Ua,this.ed=new za,this.Qa=new Ru,this.Ic=this.$c=this.Aa=0,this.D=new Yo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,T),this.ia=0,this.pb=l(4,kc),this.Pa=new Sc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ni),this.Hd=0,this.rb=Array(new wo),this.sb=0,this.wa=Array(new ki),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qa),this.L=this.aa=0,this.gd=c([4,2],ki),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ln(f,g){return 0>f?0:f>g?g:f}function $a(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Iu(){var f=new Nc;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,ba||(ba=ks)),f}function cn(f,g,_){return f.a==0&&(f.a=g,f.sc=_,f.cb=0),0}function Xo(f,g,_){return 3<=_&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function Ai(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return cn(f,2,"null VP8Io passed to VP8GetHeaders()");var _=g.data,L=g.w,I=g.ha;if(4>I)return cn(f,7,"Truncated header.");var B=_[L+0]|_[L+1]<<8|_[L+2]<<16,z=f.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return cn(f,3,"Incorrect keyframe parameters.");if(!z.yd)return cn(f,4,"Frame not displayable.");L+=3,I-=3;var V=f.Kc;if(z.Rb){if(7>I)return cn(f,7,"cannot parse picture header");if(!Xo(_,L,I))return cn(f,3,"Bad code word");V.c=16383&(_[L+4]<<8|_[L+3]),V.Td=_[L+4]>>6,V.i=16383&(_[L+6]<<8|_[L+5]),V.Ud=_[L+6]>>6,L+=7,I-=7,f.za=V.c+15>>4,f.Ub=V.i+15>>4,g.width=V.c,g.height=V.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,o((B=f.Pa).jb,0,255,B.jb.length),e((B=f.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,o(B.Zb,0,0,B.Zb.length),o(B.Lb,0,0,B.Lb)}if(z.ub>I)return cn(f,7,"bad partition length");de(B=f.m,_,L,z.ub),L+=z.ub,I-=z.ub,z.Rb&&(V.Ld=me(B),V.Kd=me(B)),V=f.Qa;var K,ee=f.Pa;if(e(B!=null),e(V!=null),V.Cb=me(B),V.Cb){if(V.Bb=me(B),me(B)){for(V.Fb=me(B),K=0;4>K;++K)V.Zb[K]=me(B)?$(B,7):0;for(K=0;4>K;++K)V.Lb[K]=me(B)?$(B,6):0}if(V.Bb)for(K=0;3>K;++K)ee.jb[K]=me(B)?ye(B,8):255}else V.Bb=0;if(B.Ka)return cn(f,3,"cannot parse segment header");if((V=f.ed).zd=me(B),V.Tb=ye(B,6),V.wb=ye(B,3),V.Pc=me(B),V.Pc&&me(B)){for(ee=0;4>ee;++ee)me(B)&&(V.vd[ee]=$(B,6));for(ee=0;4>ee;++ee)me(B)&&(V.od[ee]=$(B,6))}if(f.L=V.Tb==0?0:V.zd?1:2,B.Ka)return cn(f,3,"cannot parse filter header");var ge=I;if(I=K=L,L=K+ge,V=ge,f.Xb=(1<<ye(f.m,2))-1,ge<3*(ee=f.Xb))_=7;else{for(K+=3*ee,V-=3*ee,ge=0;ge<ee;++ge){var Ne=_[I+0]|_[I+1]<<8|_[I+2]<<16;Ne>V&&(Ne=V),de(f.Jc[+ge],_,K,Ne),K+=Ne,V-=Ne,I+=3}de(f.Jc[+ee],_,K,V),_=K<L?0:5}if(_!=0)return cn(f,_,"cannot parse partitions");for(_=ye(K=f.m,7),I=me(K)?$(K,4):0,L=me(K)?$(K,4):0,V=me(K)?$(K,4):0,ee=me(K)?$(K,4):0,K=me(K)?$(K,4):0,ge=f.Qa,Ne=0;4>Ne;++Ne){if(ge.Cb){var te=ge.Zb[Ne];ge.Fb||(te+=_)}else{if(0<Ne){f.pb[Ne]=f.pb[0];continue}te=_}var we=f.pb[Ne];we.Sc[0]=ol[ln(te+I,127)],we.Sc[1]=Yl[ln(te+0,127)],we.Eb[0]=2*ol[ln(te+L,127)],we.Eb[1]=101581*Yl[ln(te+V,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=ol[ln(te+ee,117)],we.Qc[1]=Yl[ln(te+K,127)],we.lc=te+K}if(!z.Rb)return cn(f,4,"Not a key frame.");for(me(B),z=f.Pa,_=0;4>_;++_){for(I=0;8>I;++I)for(L=0;3>L;++L)for(V=0;11>V;++V)ee=_e(B,xf[_][I][L][V])?ye(B,8):Fd[_][I][L][V],z.Wc[_][I].Yb[L][V]=ee;for(I=0;17>I;++I)z.Xc[_][I]=z.Wc[_][Gu[I]]}return f.kc=me(B),f.kc&&(f.Bd=ye(B,8)),f.cb=1}function ks(f,g,_,L,I,B,z){var V=g[I].Yb[_];for(_=0;16>I;++I){if(!_e(f,V[_+0]))return I;for(;!_e(f,V[_+1]);)if(V=g[++I].Yb[0],_=0,I==16)return 16;var K=g[I+1].Yb;if(_e(f,V[_+2])){var ee=f,ge=0;if(_e(ee,(te=V)[(Ne=_)+3]))if(_e(ee,te[Ne+6])){for(V=0,Ne=2*(ge=_e(ee,te[Ne+8]))+(te=_e(ee,te[Ne+9+ge])),ge=0,te=Vu[Ne];te[V];++V)ge+=ge+_e(ee,te[V]);ge+=3+(8<<Ne)}else _e(ee,te[Ne+7])?(ge=7+2*_e(ee,165),ge+=_e(ee,145)):ge=5+_e(ee,159);else ge=_e(ee,te[Ne+4])?3+_e(ee,te[Ne+5]):2;V=K[2]}else ge=1,V=K[1];K=z+Hu[I],0>(ee=f).b&&ue(ee);var Ne,te=ee.b,we=(Ne=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=we,ee.Ca|=1,ee.I-=(Ne+1&we)<<te,B[K]=((ge^we)-we)*L[(0<I)+0]}return 16}function Qo(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,o(f.zc,0,0,f.zc.length),f.ja=0}function Fi(f,g,_,L,I){I=f[g+_+32*L]+(I>>3),f[g+_+32*L]=-256&I?0>I?0:255:I}function yn(f,g,_,L,I,B){Fi(f,g,0,_,L+I),Fi(f,g,1,_,L+B),Fi(f,g,2,_,L-B),Fi(f,g,3,_,L-I)}function rs(f){return(20091*f>>16)+f}function Ol(f,g,_,L){var I,B=0,z=a(16);for(I=0;4>I;++I){var V=f[g+0]+f[g+8],K=f[g+0]-f[g+8],ee=(35468*f[g+4]>>16)-rs(f[g+12]),ge=rs(f[g+4])+(35468*f[g+12]>>16);z[B+0]=V+ge,z[B+1]=K+ee,z[B+2]=K-ee,z[B+3]=V-ge,B+=4,g++}for(I=B=0;4>I;++I)V=(f=z[B+0]+4)+z[B+8],K=f-z[B+8],ee=(35468*z[B+4]>>16)-rs(z[B+12]),Fi(_,L,0,0,V+(ge=rs(z[B+4])+(35468*z[B+12]>>16))),Fi(_,L,1,0,K+ee),Fi(_,L,2,0,K-ee),Fi(_,L,3,0,V-ge),B++,L+=32}function Rl(f,g,_,L){var I=f[g+0]+4,B=35468*f[g+4]>>16,z=rs(f[g+4]),V=35468*f[g+1]>>16;yn(_,L,0,I+z,f=rs(f[g+1]),V),yn(_,L,1,I+B,f,V),yn(_,L,2,I-B,f,V),yn(_,L,3,I-z,f,V)}function Zo(f,g,_,L,I){Ol(f,g,_,L),I&&Ol(f,g+16,_,L+4)}function Ns(f,g,_,L){ma(f,g+0,_,L,1),ma(f,g+32,_,L+128,1)}function Wa(f,g,_,L){var I;for(f=f[g+0]+4,I=0;4>I;++I)for(g=0;4>g;++g)Fi(_,L,g,I,f)}function ir(f,g,_,L){f[g+0]&&or(f,g+0,_,L),f[g+16]&&or(f,g+16,_,L+4),f[g+32]&&or(f,g+32,_,L+128),f[g+48]&&or(f,g+48,_,L+128+4)}function ea(f,g,_,L){var I,B=a(16);for(I=0;4>I;++I){var z=f[g+0+I]+f[g+12+I],V=f[g+4+I]+f[g+8+I],K=f[g+4+I]-f[g+8+I],ee=f[g+0+I]-f[g+12+I];B[0+I]=z+V,B[8+I]=z-V,B[4+I]=ee+K,B[12+I]=ee-K}for(I=0;4>I;++I)z=(f=B[0+4*I]+3)+B[3+4*I],V=B[1+4*I]+B[2+4*I],K=B[1+4*I]-B[2+4*I],ee=f-B[3+4*I],_[L+0]=z+V>>3,_[L+16]=ee+K>>3,_[L+32]=z-V>>3,_[L+48]=ee-K>>3,L+=64}function bo(f,g,_){var L,I=g-32,B=Zn,z=255-f[I-1];for(L=0;L<_;++L){var V,K=B,ee=z+f[g-1];for(V=0;V<_;++V)f[g+V]=K[ee+f[I+V]];g+=32}}function Il(f,g){bo(f,g,4)}function Ac(f,g){bo(f,g,8)}function Ec(f,g){bo(f,g,16)}function Va(f,g){var _;for(_=0;16>_;++_)n(f,g+32*_,f,g-32,16)}function Ha(f,g){var _;for(_=16;0<_;--_)o(f,g,f[g-1],16),g+=32}function oi(f,g,_){var L;for(L=0;16>L;++L)o(g,_+32*L,f,16)}function As(f,g){var _,L=16;for(_=0;16>_;++_)L+=f[g-1+32*_]+f[g+_-32];oi(L>>5,f,g)}function ai(f,g){var _,L=8;for(_=0;16>_;++_)L+=f[g-1+32*_];oi(L>>4,f,g)}function Mi(f,g){var _,L=8;for(_=0;16>_;++_)L+=f[g+_-32];oi(L>>4,f,g)}function ta(f,g){oi(128,f,g)}function Ct(f,g,_){return f+2*g+_+2>>2}function Es(f,g){var _,L=g-32;for(L=new Uint8Array([Ct(f[L-1],f[L+0],f[L+1]),Ct(f[L+0],f[L+1],f[L+2]),Ct(f[L+1],f[L+2],f[L+3]),Ct(f[L+2],f[L+3],f[L+4])]),_=0;4>_;++_)n(f,g+32*_,L,0,L.length)}function Du(f,g){var _=f[g-1],L=f[g-1+32],I=f[g-1+64],B=f[g-1+96];Pe(f,g+0,16843009*Ct(f[g-1-32],_,L)),Pe(f,g+32,16843009*Ct(_,L,I)),Pe(f,g+64,16843009*Ct(L,I,B)),Pe(f,g+96,16843009*Ct(I,B,B))}function Cc(f,g){var _,L=4;for(_=0;4>_;++_)L+=f[g+_-32]+f[g-1+32*_];for(L>>=3,_=0;4>_;++_)o(f,g+32*_,L,4)}function Ei(f,g){var _=f[g-1+0],L=f[g-1+32],I=f[g-1+64],B=f[g-1-32],z=f[g+0-32],V=f[g+1-32],K=f[g+2-32],ee=f[g+3-32];f[g+0+96]=Ct(L,I,f[g-1+96]),f[g+1+96]=f[g+0+64]=Ct(_,L,I),f[g+2+96]=f[g+1+64]=f[g+0+32]=Ct(B,_,L),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=Ct(z,B,_),f[g+3+64]=f[g+2+32]=f[g+1+0]=Ct(V,z,B),f[g+3+32]=f[g+2+0]=Ct(K,V,z),f[g+3+0]=Ct(ee,K,V)}function qs(f,g){var _=f[g+1-32],L=f[g+2-32],I=f[g+3-32],B=f[g+4-32],z=f[g+5-32],V=f[g+6-32],K=f[g+7-32];f[g+0+0]=Ct(f[g+0-32],_,L),f[g+1+0]=f[g+0+32]=Ct(_,L,I),f[g+2+0]=f[g+1+32]=f[g+0+64]=Ct(L,I,B),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=Ct(I,B,z),f[g+3+32]=f[g+2+64]=f[g+1+96]=Ct(B,z,V),f[g+3+64]=f[g+2+96]=Ct(z,V,K),f[g+3+96]=Ct(V,K,K)}function jc(f,g){var _=f[g-1+0],L=f[g-1+32],I=f[g-1+64],B=f[g-1-32],z=f[g+0-32],V=f[g+1-32],K=f[g+2-32],ee=f[g+3-32];f[g+0+0]=f[g+1+64]=B+z+1>>1,f[g+1+0]=f[g+2+64]=z+V+1>>1,f[g+2+0]=f[g+3+64]=V+K+1>>1,f[g+3+0]=K+ee+1>>1,f[g+0+96]=Ct(I,L,_),f[g+0+64]=Ct(L,_,B),f[g+0+32]=f[g+1+96]=Ct(_,B,z),f[g+1+32]=f[g+2+96]=Ct(B,z,V),f[g+2+32]=f[g+3+96]=Ct(z,V,K),f[g+3+32]=Ct(V,K,ee)}function Ga(f,g){var _=f[g+0-32],L=f[g+1-32],I=f[g+2-32],B=f[g+3-32],z=f[g+4-32],V=f[g+5-32],K=f[g+6-32],ee=f[g+7-32];f[g+0+0]=_+L+1>>1,f[g+1+0]=f[g+0+64]=L+I+1>>1,f[g+2+0]=f[g+1+64]=I+B+1>>1,f[g+3+0]=f[g+2+64]=B+z+1>>1,f[g+0+32]=Ct(_,L,I),f[g+1+32]=f[g+0+96]=Ct(L,I,B),f[g+2+32]=f[g+1+96]=Ct(I,B,z),f[g+3+32]=f[g+2+96]=Ct(B,z,V),f[g+3+64]=Ct(z,V,K),f[g+3+96]=Ct(V,K,ee)}function ra(f,g){var _=f[g-1+0],L=f[g-1+32],I=f[g-1+64],B=f[g-1+96];f[g+0+0]=_+L+1>>1,f[g+2+0]=f[g+0+32]=L+I+1>>1,f[g+2+32]=f[g+0+64]=I+B+1>>1,f[g+1+0]=Ct(_,L,I),f[g+3+0]=f[g+1+32]=Ct(L,I,B),f[g+3+32]=f[g+1+64]=Ct(I,B,B),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=B}function Dl(f,g){var _=f[g-1+0],L=f[g-1+32],I=f[g-1+64],B=f[g-1+96],z=f[g-1-32],V=f[g+0-32],K=f[g+1-32],ee=f[g+2-32];f[g+0+0]=f[g+2+32]=_+z+1>>1,f[g+0+32]=f[g+2+64]=L+_+1>>1,f[g+0+64]=f[g+2+96]=I+L+1>>1,f[g+0+96]=B+I+1>>1,f[g+3+0]=Ct(V,K,ee),f[g+2+0]=Ct(z,V,K),f[g+1+0]=f[g+3+32]=Ct(_,z,V),f[g+1+32]=f[g+3+64]=Ct(L,_,z),f[g+1+64]=f[g+3+96]=Ct(I,L,_),f[g+1+96]=Ct(B,I,L)}function ns(f,g){var _;for(_=0;8>_;++_)n(f,g+32*_,f,g-32,8)}function na(f,g){var _;for(_=0;8>_;++_)o(f,g,f[g-1],8),g+=32}function li(f,g,_){var L;for(L=0;8>L;++L)o(g,_+32*L,f,8)}function Ka(f,g){var _,L=8;for(_=0;8>_;++_)L+=f[g+_-32]+f[g-1+32*_];li(L>>4,f,g)}function Fl(f,g){var _,L=4;for(_=0;8>_;++_)L+=f[g+_-32];li(L>>3,f,g)}function Ml(f,g){var _,L=4;for(_=0;8>_;++_)L+=f[g-1+32*_];li(L>>3,f,g)}function Ja(f,g){li(128,f,g)}function Bi(f,g,_){var L=f[g-_],I=f[g+0],B=3*(I-L)+Os[1020+f[g-2*_]-f[g+_]],z=il[112+(B+4>>3)];f[g-_]=Zn[255+L+il[112+(B+3>>3)]],f[g+0]=Zn[255+I-z]}function ia(f,g,_,L){var I=f[g+0],B=f[g+_];return Wi[255+f[g-2*_]-f[g-_]]>L||Wi[255+B-I]>L}function sa(f,g,_,L){return 4*Wi[255+f[g-_]-f[g+0]]+Wi[255+f[g-2*_]-f[g+_]]<=L}function Ui(f,g,_,L,I){var B=f[g-3*_],z=f[g-2*_],V=f[g-_],K=f[g+0],ee=f[g+_],ge=f[g+2*_],Ne=f[g+3*_];return 4*Wi[255+V-K]+Wi[255+z-ee]>L?0:Wi[255+f[g-4*_]-B]<=I&&Wi[255+B-z]<=I&&Wi[255+z-V]<=I&&Wi[255+Ne-ge]<=I&&Wi[255+ge-ee]<=I&&Wi[255+ee-K]<=I}function $s(f,g,_,L){var I=2*L+1;for(L=0;16>L;++L)sa(f,g+L,_,I)&&Bi(f,g+L,_)}function xo(f,g,_,L){var I=2*L+1;for(L=0;16>L;++L)sa(f,g+L*_,1,I)&&Bi(f,g+L*_,1)}function Bl(f,g,_,L){var I;for(I=3;0<I;--I)$s(f,g+=4*_,_,L)}function oa(f,g,_,L){var I;for(I=3;0<I;--I)xo(f,g+=4,_,L)}function zi(f,g,_,L,I,B,z,V){for(B=2*B+1;0<I--;){if(Ui(f,g,_,B,z))if(ia(f,g,_,V))Bi(f,g,_);else{var K=f,ee=g,ge=_,Ne=K[ee-2*ge],te=K[ee-ge],we=K[ee+0],ke=K[ee+ge],Oe=K[ee+2*ge],Ee=27*(Te=Os[1020+3*(we-te)+Os[1020+Ne-ke]])+63>>7,Le=18*Te+63>>7,Te=9*Te+63>>7;K[ee-3*ge]=Zn[255+K[ee-3*ge]+Te],K[ee-2*ge]=Zn[255+Ne+Le],K[ee-ge]=Zn[255+te+Ee],K[ee+0]=Zn[255+we-Ee],K[ee+ge]=Zn[255+ke-Le],K[ee+2*ge]=Zn[255+Oe-Te]}g+=L}}function Cs(f,g,_,L,I,B,z,V){for(B=2*B+1;0<I--;){if(Ui(f,g,_,B,z))if(ia(f,g,_,V))Bi(f,g,_);else{var K=f,ee=g,ge=_,Ne=K[ee-ge],te=K[ee+0],we=K[ee+ge],ke=il[112+(4+(Oe=3*(te-Ne))>>3)],Oe=il[112+(Oe+3>>3)],Ee=ke+1>>1;K[ee-2*ge]=Zn[255+K[ee-2*ge]+Ee],K[ee-ge]=Zn[255+Ne+Oe],K[ee+0]=Zn[255+te-ke],K[ee+ge]=Zn[255+we-Ee]}g+=L}}function Wn(f,g,_,L,I,B){zi(f,g,_,1,16,L,I,B)}function qi(f,g,_,L,I,B){zi(f,g,1,_,16,L,I,B)}function Ya(f,g,_,L,I,B){var z;for(z=3;0<z;--z)Cs(f,g+=4*_,_,1,16,L,I,B)}function b(f,g,_,L,I,B){var z;for(z=3;0<z;--z)Cs(f,g+=4,1,_,16,L,I,B)}function D(f,g,_,L,I,B,z,V){zi(f,g,I,1,8,B,z,V),zi(_,L,I,1,8,B,z,V)}function ie(f,g,_,L,I,B,z,V){zi(f,g,1,I,8,B,z,V),zi(_,L,1,I,8,B,z,V)}function pe(f,g,_,L,I,B,z,V){Cs(f,g+4*I,I,1,8,B,z,V),Cs(_,L+4*I,I,1,8,B,z,V)}function Se(f,g,_,L,I,B,z,V){Cs(f,g+4,1,I,8,B,z,V),Cs(_,L+4,1,I,8,B,z,V)}function Re(){this.ba=new Ot,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Je,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Be(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new _t,this.vb=new _t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new J}function Rt(){this.xb=this.a=0,this.l=new $a,this.ca=new Ot,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=l(4,st),this.Oc=0}function Mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $a,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rr(f,g,_,L,I,B,z){for(f=f==null?0:f[g+0],g=0;g<z;++g)I[B+g]=f+_[L+g]&255,f=I[B+g]}function zr(f,g,_,L,I,B,z){var V;if(f==null)rr(null,null,_,L,I,B,z);else for(V=0;V<z;++V)I[B+V]=f[g+V]+_[L+V]&255}function un(f,g,_,L,I,B,z){if(f==null)rr(null,null,_,L,I,B,z);else{var V,K=f[g+0],ee=K,ge=K;for(V=0;V<z;++V)ee=ge+(K=f[g+V])-ee,ge=_[L+V]+(-256&ee?0>ee?0:255:ee)&255,ee=K,I[B+V]=ge}}function Lr(f,g,_,L){var I=g.width,B=g.o;if(e(f!=null&&g!=null),0>_||0>=L||_+L>B)return null;if(!f.Cc){if(f.ga==null){var z;if(f.ga=new Mt,(z=f.ga==null)||(z=g.width*g.o,e(f.Gb.length==0),f.Gb=a(z),f.Uc=0,f.Gb==null?z=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,z=1),z=!z),!z){z=f.ga;var V=f.Fa,K=f.P,ee=f.qc,ge=f.mb,Ne=f.nb,te=K+1,we=ee-1,ke=z.l;if(e(V!=null&&ge!=null&&g!=null),Vn[0]=null,Vn[1]=rr,Vn[2]=zr,Vn[3]=un,z.ca=ge,z.tb=Ne,z.c=g.width,z.i=g.height,e(0<z.c&&0<z.i),1>=ee)g=0;else if(z.$a=3&V[K+0],z.Z=V[K+0]>>2&3,z.Lc=V[K+0]>>4&3,K=V[K+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||K)g=0;else if(ke.put=Xe,ke.ac=Rn,ke.bc=jr,ke.ma=z,ke.width=g.width,ke.height=g.height,ke.Da=g.Da,ke.v=g.v,ke.va=g.va,ke.j=g.j,ke.o=g.o,z.$a)e:{e(z.$a==1),g=Go();t:for(;;){if(g==null){g=0;break e}if(e(z!=null),z.mc=g,g.c=z.c,g.i=z.i,g.l=z.l,g.l.ma=z,g.l.width=z.c,g.l.height=z.i,g.a=0,he(g.m,V,te,we),!ts(z.c,z.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&es(g.s)?(z.ic=1,V=g.c*g.i,g.Ta=null,g.Ua=0,g.V=a(V),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(z.ic=0,g=yo(g,z.c)),!g))break t;g=1;break e}z.mc=null,g=0}else g=we>=z.c*z.i;z=!g}if(z)return null;f.ga.Lc!=1?f.Ga=0:L=B-_}e(f.ga!=null),e(_+L<=B);e:{if(g=(V=f.ga).c,B=V.l.o,V.$a==0){if(te=f.rc,we=f.Vc,ke=f.Fa,K=f.P+1+_*g,ee=f.mb,ge=f.nb+_*g,e(K<=f.P+f.qc),V.Z!=0)for(e(Vn[V.Z]!=null),z=0;z<L;++z)Vn[V.Z](te,we,ke,K,ee,ge,g),te=ee,we=ge,ge+=g,K+=g;else for(z=0;z<L;++z)n(ee,ge,ke,K,g),te=ee,we=ge,ge+=g,K+=g;f.rc=te,f.Vc=we}else{if(e(V.mc!=null),g=_+L,e((z=V.mc)!=null),e(g<=z.i),z.C>=g)g=1;else if(V.ic||is(),V.ic){V=z.V,te=z.Ba,we=z.c;var Oe=z.i,Ee=(ke=1,K=z.$/we,ee=z.$%we,ge=z.m,Ne=z.s,z.$),Le=we*Oe,Te=we*g,Ie=Ne.wc,Fe=Ee<Te?Xr(Ne,ee,K):null;e(Ee<=Le),e(g<=Oe),e(es(Ne));t:for(;;){for(;!ge.h&&Ee<Te;){if(ee&Ie||(Fe=Xr(Ne,ee,K)),e(Fe!=null),re(ge),256>(Oe=fr(Fe.G[0],Fe.H[0],ge)))V[te+Ee]=Oe,++Ee,++ee>=we&&(ee=0,++K<=g&&!(K%16)&&In(z,K));else{if(!(280>Oe)){ke=0;break t}Oe=yr(Oe-256,ge);var mt,et=fr(Fe.G[4],Fe.H[4],ge);if(re(ge),!(Ee>=(et=Dr(we,et=yr(et,ge)))&&Le-Ee>=Oe)){ke=0;break t}for(mt=0;mt<Oe;++mt)V[te+Ee+mt]=V[te+Ee+mt-et];for(Ee+=Oe,ee+=Oe;ee>=we;)ee-=we,++K<=g&&!(K%16)&&In(z,K);Ee<Te&&ee&Ie&&(Fe=Xr(Ne,ee,K))}e(ge.h==ae(ge))}In(z,K>g?g:K);break t}!ke||ge.h&&Ee<Le?(ke=0,z.a=ge.h?5:3):z.$=Ee,g=ke}else g=Di(z,z.V,z.Ba,z.c,z.i,g,Ko);if(!g){L=0;break e}}_+L>=B&&(f.Cc=1),L=1}if(!L)return null;if(f.Cc&&((L=f.ga)!=null&&(L.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+_*I}function wn(f,g,_,L,I,B){for(;0<I--;){var z,V=f,K=g+(_?1:0),ee=f,ge=g+(_?0:3);for(z=0;z<L;++z){var Ne=ee[ge+4*z];Ne!=255&&(Ne*=32897,V[K+4*z+0]=V[K+4*z+0]*Ne>>23,V[K+4*z+1]=V[K+4*z+1]*Ne>>23,V[K+4*z+2]=V[K+4*z+2]*Ne>>23)}g+=B}}function Qr(f,g,_,L,I){for(;0<L--;){var B;for(B=0;B<_;++B){var z=f[g+2*B+0],V=15&(ee=f[g+2*B+1]),K=4369*V,ee=(240&ee|ee>>4)*K>>16;f[g+2*B+0]=(240&z|z>>4)*K>>16&240|(15&z|z<<4)*K>>16>>4&15,f[g+2*B+1]=240&ee|V}g+=I}}function Dn(f,g,_,L,I,B,z,V){var K,ee,ge=255;for(ee=0;ee<I;++ee){for(K=0;K<L;++K){var Ne=f[g+K];B[z+4*K]=Ne,ge&=Ne}g+=_,z+=V}return ge!=255}function Ws(f,g,_,L,I){var B;for(B=0;B<I;++B)_[L+B]=f[g+B]>>8}function is(){va=wn,Mu=Qr,Wl=Dn,Bu=Ws}function Vs(f,g,_){H[f]=function(L,I,B,z,V,K,ee,ge,Ne,te,we,ke,Oe,Ee,Le,Te,Ie){var Fe,mt=Ie-1>>1,et=V[K+0]|ee[ge+0]<<16,Bt=Ne[te+0]|we[ke+0]<<16;e(L!=null);var ot=3*et+Bt+131074>>2;for(g(L[I+0],255&ot,ot>>16,Oe,Ee),B!=null&&(ot=3*Bt+et+131074>>2,g(B[z+0],255&ot,ot>>16,Le,Te)),Fe=1;Fe<=mt;++Fe){var Xt=V[K+Fe]|ee[ge+Fe]<<16,Hr=Ne[te+Fe]|we[ke+Fe]<<16,$t=et+Xt+Bt+Hr+524296,tt=$t+2*(Xt+Bt)>>3;ot=tt+et>>1,et=($t=$t+2*(et+Hr)>>3)+Xt>>1,g(L[I+2*Fe-1],255&ot,ot>>16,Oe,Ee+(2*Fe-1)*_),g(L[I+2*Fe-0],255&et,et>>16,Oe,Ee+(2*Fe-0)*_),B!=null&&(ot=$t+Bt>>1,et=tt+Hr>>1,g(B[z+2*Fe-1],255&ot,ot>>16,Le,Te+(2*Fe-1)*_),g(B[z+2*Fe+0],255&et,et>>16,Le,Te+(2*Fe+0)*_)),et=Xt,Bt=Hr}1&Ie||(ot=3*et+Bt+131074>>2,g(L[I+Ie-1],255&ot,ot>>16,Oe,Ee+(Ie-1)*_),B!=null&&(ot=3*Bt+et+131074>>2,g(B[z+Ie-1],255&ot,ot>>16,Le,Te+(Ie-1)*_)))}}function aa(){di[Oc]=_f,di[Lo]=Po,di[Od]=Sf,di[Vl]=ll,di[Hl]=xa,di[Sr]=Xl,di[Rc]=Ku,di[sl]=Po,di[ya]=ll,di[Gl]=xa,di[Kl]=Xl}function Xa(f){return f&-16384?0>f?0:255:f>>To}function _o(f,g){return Xa((19077*f>>8)+(26149*g>>8)-14234)}function la(f,g,_){return Xa((19077*f>>8)-(6419*g>>8)-(13320*_>>8)+8708)}function So(f,g){return Xa((19077*f>>8)+(33050*g>>8)-17685)}function ko(f,g,_,L,I){L[I+0]=_o(f,_),L[I+1]=la(f,g,_),L[I+2]=So(f,g)}function Fn(f,g,_,L,I){L[I+0]=So(f,g),L[I+1]=la(f,g,_),L[I+2]=_o(f,_)}function ca(f,g,_,L,I){var B=la(f,g,_);g=B<<3&224|So(f,g)>>3,L[I+0]=248&_o(f,_)|B>>5,L[I+1]=g}function ua(f,g,_,L,I){var B=240&So(f,g)|15;L[I+0]=240&_o(f,_)|la(f,g,_)>>4,L[I+1]=B}function Ul(f,g,_,L,I){L[I+0]=255,ko(f,g,_,L,I+1)}function zl(f,g,_,L,I){Fn(f,g,_,L,I),L[I+3]=255}function Qn(f,g,_,L,I){ko(f,g,_,L,I),L[I+3]=255}function ss(f,g,_){H[f]=function(L,I,B,z,V,K,ee,ge,Ne){for(var te=ge+(-2&Ne)*_;ge!=te;)g(L[I+0],B[z+0],V[K+0],ee,ge),g(L[I+1],B[z+0],V[K+0],ee,ge+_),I+=2,++z,++K,ge+=2*_;1&Ne&&g(L[I+0],B[z+0],V[K+0],ee,ge)}}function js(f,g,_){return _==0?f==0?g==0?6:5:g==0?4:0:_}function Lc(f,g,_,L,I){switch(f>>>30){case 3:ma(g,_,L,I,0);break;case 2:Wr(g,_,L,I);break;case 1:or(g,_,L,I)}}function Ci(f,g){var _,L,I=g.M,B=g.Nb,z=f.oc,V=f.pc+40,K=f.oc,ee=f.pc+584,ge=f.oc,Ne=f.pc+600;for(_=0;16>_;++_)z[V+32*_-1]=129;for(_=0;8>_;++_)K[ee+32*_-1]=129,ge[Ne+32*_-1]=129;for(0<I?z[V-1-32]=K[ee-1-32]=ge[Ne-1-32]=129:(o(z,V-32-1,127,21),o(K,ee-32-1,127,9),o(ge,Ne-32-1,127,9)),L=0;L<f.za;++L){var te=g.ya[g.aa+L];if(0<L){for(_=-1;16>_;++_)n(z,V+32*_-4,z,V+32*_+12,4);for(_=-1;8>_;++_)n(K,ee+32*_-4,K,ee+32*_+4,4),n(ge,Ne+32*_-4,ge,Ne+32*_+4,4)}var we=f.Gd,ke=f.Hd+L,Oe=te.ad,Ee=te.Hc;if(0<I&&(n(z,V-32,we[ke].y,0,16),n(K,ee-32,we[ke].f,0,8),n(ge,Ne-32,we[ke].ea,0,8)),te.Za){var Le=z,Te=V-32+16;for(0<I&&(L>=f.za-1?o(Le,Te,we[ke].y[15],4):n(Le,Te,we[ke+1].y,0,4)),_=0;4>_;_++)Le[Te+128+_]=Le[Te+256+_]=Le[Te+384+_]=Le[Te+0+_];for(_=0;16>_;++_,Ee<<=2)Le=z,Te=V+Ju[_],Vi[te.Ob[_]](Le,Te),Lc(Ee,Oe,16*+_,Le,Te)}else if(Le=js(L,I,te.Ob[0]),ei[Le](z,V),Ee!=0)for(_=0;16>_;++_,Ee<<=2)Lc(Ee,Oe,16*+_,z,V+Ju[_]);for(_=te.Gc,Le=js(L,I,te.Dd),ui[Le](K,ee),ui[Le](ge,Ne),Ee=Oe,Le=K,Te=ee,255&(te=0|_)&&(170&te?ci(Ee,256,Le,Te):wr(Ee,256,Le,Te)),te=ge,Ee=Ne,255&(_>>=8)&&(170&_?ci(Oe,320,te,Ee):wr(Oe,320,te,Ee)),I<f.Ub-1&&(n(we[ke].y,0,z,V+480,16),n(we[ke].f,0,K,ee+224,8),n(we[ke].ea,0,ge,Ne+224,8)),_=8*B*f.B,we=f.sa,ke=f.ta+16*L+16*B*f.R,Oe=f.qa,te=f.ra+8*L+_,Ee=f.Ha,Le=f.Ia+8*L+_,_=0;16>_;++_)n(we,ke+_*f.R,z,V+32*_,16);for(_=0;8>_;++_)n(Oe,te+_*f.B,K,ee+32*_,8),n(Ee,Le+_*f.B,ge,Ne+32*_,8)}}function No(f,g,_,L,I,B,z,V,K){var ee=[0],ge=[0],Ne=0,te=K!=null?K.kd:0,we=K??new Be;if(f==null||12>_)return 7;we.data=f,we.w=g,we.ha=_,g=[g],_=[_],we.gb=[we.gb];e:{var ke=g,Oe=_,Ee=we.gb;if(e(f!=null),e(Oe!=null),e(Ee!=null),Ee[0]=0,12<=Oe[0]&&!t(f,ke[0],"RIFF")){if(t(f,ke[0]+8,"WEBP")){Ee=3;break e}var Le=Ke(f,ke[0]+4);if(12>Le||4294967286<Le){Ee=3;break e}if(te&&Le>Oe[0]-8){Ee=7;break e}Ee[0]=Le,ke[0]+=12,Oe[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Le=0<we.gb[0],_=_[0];;){e:{var Te=f;Oe=g,Ee=_;var Ie=ee,Fe=ge,mt=ke=[0];if((ot=Ne=[Ne])[0]=0,8>Ee[0])Ee=7;else{if(!t(Te,Oe[0],"VP8X")){if(Ke(Te,Oe[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var et=Ke(Te,Oe[0]+8),Bt=1+$e(Te,Oe[0]+12);if(2147483648<=Bt*(Te=1+$e(Te,Oe[0]+15))){Ee=3;break e}mt!=null&&(mt[0]=et),Ie!=null&&(Ie[0]=Bt),Fe!=null&&(Fe[0]=Te),Oe[0]+=18,Ee[0]-=18,ot[0]=1}Ee=0}}if(Ne=Ne[0],ke=ke[0],Ee!=0)return Ee;if(Oe=!!(2&ke),!Le&&Ne)return 3;if(B!=null&&(B[0]=!!(16&ke)),z!=null&&(z[0]=Oe),V!=null&&(V[0]=0),z=ee[0],ke=ge[0],Ne&&Oe&&K==null){Ee=0;break}if(4>_){Ee=7;break}if(Le&&Ne||!Le&&!Ne&&!t(f,g[0],"ALPH")){_=[_],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{et=f,Ee=g,Le=_;var ot=we.gb;Ie=we.na,Fe=we.P,mt=we.Sa,Bt=22,e(et!=null),e(Le!=null),Te=Ee[0];var Xt=Le[0];for(e(Ie!=null),e(mt!=null),Ie[0]=null,Fe[0]=null,mt[0]=0;;){if(Ee[0]=Te,Le[0]=Xt,8>Xt){Ee=7;break e}var Hr=Ke(et,Te+4);if(4294967286<Hr){Ee=3;break e}var $t=8+Hr+1&-2;if(Bt+=$t,0<ot&&Bt>ot){Ee=3;break e}if(!t(et,Te,"VP8 ")||!t(et,Te,"VP8L")){Ee=0;break e}if(Xt[0]<$t){Ee=7;break e}t(et,Te,"ALPH")||(Ie[0]=et,Fe[0]=Te+8,mt[0]=Hr),Te+=$t,Xt-=$t}}if(_=_[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ee!=0)break}_=[_],we.Ja=[we.Ja],we.xa=[we.xa];e:if(ot=f,Ee=g,Le=_,Ie=we.gb[0],Fe=we.Ja,mt=we.xa,et=Ee[0],Te=!t(ot,et,"VP8 "),Bt=!t(ot,et,"VP8L"),e(ot!=null),e(Le!=null),e(Fe!=null),e(mt!=null),8>Le[0])Ee=7;else{if(Te||Bt){if(ot=Ke(ot,et+4),12<=Ie&&ot>Ie-12){Ee=3;break e}if(te&&ot>Le[0]-8){Ee=7;break e}Fe[0]=ot,Ee[0]+=8,Le[0]-=8,mt[0]=Bt}else mt[0]=5<=Le[0]&&ot[et+0]==47&&!(ot[et+4]>>5),Fe[0]=Le[0];Ee=0}if(_=_[0],we.Ja=we.Ja[0],we.xa=we.xa[0],g=g[0],Ee!=0)break;if(4294967286<we.Ja)return 3;if(V==null||Oe||(V[0]=we.xa?2:1),z=[z],ke=[ke],we.xa){if(5>_){Ee=7;break}V=z,te=ke,Oe=B,f==null||5>_?f=0:5<=_&&f[g+0]==47&&!(f[g+4]>>5)?(Le=[0],ot=[0],Ie=[0],he(Fe=new q,f,g,_),$n(Fe,Le,ot,Ie)?(V!=null&&(V[0]=Le[0]),te!=null&&(te[0]=ot[0]),Oe!=null&&(Oe[0]=Ie[0]),f=1):f=0):f=0}else{if(10>_){Ee=7;break}V=ke,f==null||10>_||!Xo(f,g+3,_-3)?f=0:(te=f[g+0]|f[g+1]<<8|f[g+2]<<16,Oe=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=we.Ja||!Oe||!f?f=0:(z&&(z[0]=Oe),V&&(V[0]=f),f=1))}if(!f||(z=z[0],ke=ke[0],Ne&&(ee[0]!=z||ge[0]!=ke)))return 3;K!=null&&(K[0]=we,K.offset=g-K.w,e(4294967286>g-K.w),e(K.offset==K.ha-_));break}return Ee==0||Ee==7&&Ne&&K==null?(B!=null&&(B[0]|=we.na!=null&&0<we.na.length),L!=null&&(L[0]=z),I!=null&&(I[0]=ke),0):Ee}function Qa(f,g,_){var L=g.width,I=g.height,B=0,z=0,V=L,K=I;if(g.Da=f!=null&&0<f.Da,g.Da&&(V=f.cd,K=f.bd,B=f.v,z=f.j,11>_||(B&=-2,z&=-2),0>B||0>z||0>=V||0>=K||B+V>L||z+K>I))return 0;if(g.v=B,g.j=z,g.va=B+V,g.o=z+K,g.U=V,g.T=K,g.da=f!=null&&0<f.da,g.da){if(!vt(V,K,_=[f.ib],B=[f.hb]))return 0;g.ib=_[0],g.hb=B[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*L/4&&g.hb<3*I/4,g.Kb=0),1}function Za(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function Hs(f,g,_,L){if(L==null||0>=f||0>=g)return 2;if(_!=null){if(_.Da){var I=_.cd,B=_.bd,z=-2&_.v,V=-2&_.j;if(0>z||0>V||0>=I||0>=B||z+I>f||V+B>g)return 2;f=I,g=B}if(_.da){if(!vt(f,g,I=[_.ib],B=[_.hb]))return 2;f=I[0],g=B[0]}}L.width=f,L.height=g;e:{var K=L.width,ee=L.height;if(f=L.S,0>=K||0>=ee||!(f>=Oc&&13>f))f=2;else{if(0>=L.Rd&&L.sd==null){z=B=I=g=0;var ge=(V=K*Ql[f])*ee;if(11>f||(B=(ee+1)/2*(g=(K+1)/2),f==12&&(z=(I=K)*ee)),(ee=a(ge+2*B+z))==null){f=1;break e}L.sd=ee,11>f?((K=L.f.RGBA).eb=ee,K.fb=0,K.A=V,K.size=ge):((K=L.f.kb).y=ee,K.O=0,K.fa=V,K.Fd=ge,K.f=ee,K.N=0+ge,K.Ab=g,K.Cd=B,K.ea=ee,K.W=0+ge+B,K.Db=g,K.Ed=B,f==12&&(K.F=ee,K.J=0+ge+2*B),K.Tc=z,K.lb=I)}if(g=1,I=L.S,B=L.width,z=L.height,I>=Oc&&13>I)if(11>I)f=L.f.RGBA,g&=(V=Math.abs(f.A))*(z-1)+B<=f.size,g&=V>=B*Ql[I],g&=f.eb!=null;else{f=L.f.kb,V=(B+1)/2,ge=(z+1)/2,K=Math.abs(f.fa),ee=Math.abs(f.Ab);var Ne=Math.abs(f.Db),te=Math.abs(f.lb),we=te*(z-1)+B;g&=K*(z-1)+B<=f.Fd,g&=ee*(ge-1)+V<=f.Cd,g=(g&=Ne*(ge-1)+V<=f.Ed)&K>=B&ee>=V&Ne>=V,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,I==12&&(g&=te>=B,g&=we<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||_!=null&&_.fd&&(f=Za(L)),f}var $i=64,ji=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Li=24,Ao=32,Ls=8,Gs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(f){return f},H.Predictor2=function(f,g,_){return g[_+0]},H.Predictor3=function(f,g,_){return g[_+1]},H.Predictor4=function(f,g,_){return g[_-1]},H.Predictor5=function(f,g,_){return at(at(f,g[_+1]),g[_+0])},H.Predictor6=function(f,g,_){return at(f,g[_-1])},H.Predictor7=function(f,g,_){return at(f,g[_+0])},H.Predictor8=function(f,g,_){return at(g[_-1],g[_+0])},H.Predictor9=function(f,g,_){return at(g[_+0],g[_+1])},H.Predictor10=function(f,g,_){return at(at(f,g[_-1]),at(g[_+0],g[_+1]))},H.Predictor11=function(f,g,_){var L=g[_+0];return 0>=Et(L>>24&255,f>>24&255,(g=g[_-1])>>24&255)+Et(L>>16&255,f>>16&255,g>>16&255)+Et(L>>8&255,f>>8&255,g>>8&255)+Et(255&L,255&f,255&g)?L:f},H.Predictor12=function(f,g,_){var L=g[_+0];return(tr((f>>24&255)+(L>>24&255)-((g=g[_-1])>>24&255))<<24|tr((f>>16&255)+(L>>16&255)-(g>>16&255))<<16|tr((f>>8&255)+(L>>8&255)-(g>>8&255))<<8|tr((255&f)+(255&L)-(255&g)))>>>0},H.Predictor13=function(f,g,_){var L=g[_-1];return(Vt((f=at(f,g[_+0]))>>24&255,L>>24&255)<<24|Vt(f>>16&255,L>>16&255)<<16|Vt(f>>8&255,L>>8&255)<<8|Vt(255&f,255&L))>>>0};var Ks=H.PredictorAdd0;H.PredictorAdd1=Ht,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Ps=H.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Zr,da=H.ColorIndexInverseTransform,Ts=H.MapARGB,os=H.VP8LColorIndexInverseTransformAlpha,ha=H.MapAlpha,fa=H.VP8LPredictorsAdd=[];fa.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var el,tl,Js,Eo,Co,pa,jo,ma,Wr,ci,or,wr,Vr,dn,as,ql,rl,Ys,Pc,nl,Tc,Fu,$l,ga,va,Mu,Wl,Bu,Uu=a(511),zu=a(2041),qu=a(225),$u=a(767),Wu=0,Os=zu,il=qu,Zn=$u,Wi=Uu,Oc=0,Lo=1,Od=2,Vl=3,Hl=4,Sr=5,Rc=6,sl=7,ya=8,Gl=9,Kl=10,Jl=[2,3,7],Ic=[3,3,11],wa=[280,256,256,256,40],Rd=[0,1,1,1,0],yf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Id=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dc=8,ol=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ba=null,Vu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Dd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],xf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ei=[],Vi=[],ui=[],Rs=1,al=2,Vn=[],di=[];Vs("UpsampleRgbLinePair",ko,3),Vs("UpsampleBgrLinePair",Fn,3),Vs("UpsampleRgbaLinePair",Qn,4),Vs("UpsampleBgraLinePair",zl,4),Vs("UpsampleArgbLinePair",Ul,4),Vs("UpsampleRgba4444LinePair",ua,2),Vs("UpsampleRgb565LinePair",ca,2);var _f=H.UpsampleRgbLinePair,Sf=H.UpsampleBgrLinePair,Po=H.UpsampleRgbaLinePair,ll=H.UpsampleBgraLinePair,xa=H.UpsampleArgbLinePair,Xl=H.UpsampleRgba4444LinePair,Ku=H.UpsampleRgb565LinePair,Xs=16,ls=1<<Xs-1,mr=-227,br=482,To=6,Mn=0,hi=a(256),_a=a(256),cl=a(256),fi=a(256),Fc=a(br-mr),Md=a(br-mr);ss("YuvToRgbRow",ko,3),ss("YuvToBgrRow",Fn,3),ss("YuvToRgbaRow",Qn,4),ss("YuvToBgraRow",zl,4),ss("YuvToArgbRow",Ul,4),ss("YuvToRgba4444Row",ua,2),ss("YuvToRgb565Row",ca,2);var Ju=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sa=[0,2,8],Bd=[8,7,6,4,4,2,2,2,1,1,1,1],Qs=1;this.WebPDecodeRGBA=function(f,g,_,L,I){var B=Lo,z=new Re,V=new Ot;z.ba=V,V.S=B,V.width=[V.width],V.height=[V.height];var K=V.width,ee=V.height,ge=new St;if(ge==null||f==null)var Ne=2;else e(ge!=null),Ne=No(f,g,_,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ne!=0?K=0:(K!=null&&(K[0]=ge.width[0]),ee!=null&&(ee[0]=ge.height[0]),K=1),K){V.width=V.width[0],V.height=V.height[0],L!=null&&(L[0]=V.width),I!=null&&(I[0]=V.height);e:{if(L=new $a,(I=new Be).data=f,I.w=g,I.ha=_,I.kd=1,g=[0],e(I!=null),((f=No(I.data,I.w,I.ha,null,null,null,g,null,I))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(e(z!=null),L.data=I.data,L.w=I.w+I.offset,L.ha=I.ha-I.offset,L.put=Xe,L.ac=Rn,L.bc=jr,L.ma=z,I.xa){if((f=Go())==null){z=1;break e}if((function(te,we){var ke=[0],Oe=[0],Ee=[0];t:for(;;){if(te==null)return 0;if(we==null)return te.a=2,0;if(te.l=we,te.a=0,he(te.m,we.data,we.w,we.ha),!$n(te.m,ke,Oe,Ee)){te.a=3;break t}if(te.xb=al,we.width=ke[0],we.height=Oe[0],!ts(ke[0],Oe[0],1,te,null))break t;return 1}return e(te.a!=0),0})(f,L)){if(L=(g=Hs(L.width,L.height,z.Oa,z.ba))==0){t:{L=f;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((_=L.l)!=null),e((I=_.ma)!=null),L.xb!=0){if(L.ca=I.ba,L.tb=I.tb,e(L.ca!=null),!Qa(I.Oa,_,Vl)){L.a=2;break r}if(!yo(L,_.width)||_.da)break r;if((_.da||ht(L.ca.S))&&is(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&is()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Z(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!Di(L,L.V,L.Ba,L.c,L.i,_.o,vo))break r;I.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(g=f.a)}else g=f.a}else{if((f=new Iu)==null){z=1;break e}if(f.Fa=I.na,f.P=I.P,f.qc=I.Sa,Ai(f,L)){if((g=Hs(L.width,L.height,z.Oa,z.ba))==0){if(f.Aa=0,_=z.Oa,e((I=f)!=null),_!=null){if(0<(K=0>(K=_.Md)?0:100<K?255:255*K/100)){for(ee=ge=0;4>ee;++ee)12>(Ne=I.pb[ee]).lc&&(Ne.ia=K*Bd[0>Ne.lc?0:Ne.lc]>>3),ge|=Ne.ia;ge&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=_.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}(function(te,we){if(te==null)return 0;if(we==null)return cn(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Ai(te,we))return 0;if(e(te.cb),we.ac==null||we.ac(we)){we.ob&&(te.L=0);var ke=Sa[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=we.v-ke>>4,te.zb=we.j-ke>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=we.o+15+ke>>4,te.Hb=we.va+15+ke>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Oe=te.ed;for(ke=0;4>ke;++ke){var Ee;if(te.Qa.Cb){var Le=te.Qa.Lb[ke];te.Qa.Fb||(Le+=Oe.Tb)}else Le=Oe.Tb;for(Ee=0;1>=Ee;++Ee){var Te=te.gd[ke][Ee],Ie=Le;if(Oe.Pc&&(Ie+=Oe.vd[0],Ee&&(Ie+=Oe.od[0])),0<(Ie=0>Ie?0:63<Ie?63:Ie)){var Fe=Ie;0<Oe.wb&&(Fe=4<Oe.wb?Fe>>2:Fe>>1)>9-Oe.wb&&(Fe=9-Oe.wb),1>Fe&&(Fe=1),Te.dd=Fe,Te.tc=2*Ie+Fe,Te.ld=40<=Ie?2:15<=Ie?1:0}else Te.tc=0;Te.La=Ee}}}ke=0}else cn(te,6,"Frame setup failed"),ke=te.a;if(ke=ke==0){if(ke){te.$c=0,0<te.Aa||(te.Ic=Qs);t:{ke=te.Ic,Oe=4*(Fe=te.za);var mt=32*Fe,et=Fe+1,Bt=0<te.L?Fe*(0<te.Aa?2:1):0,ot=(te.Aa==2?2:1)*Fe;if((Te=Oe+832+(Ee=3*(16*ke+Sa[te.L])/2*mt)+(Le=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Te)ke=0;else{if(Te>te.Vb){if(te.Vb=0,te.Ec=a(Te),te.Fc=0,te.Ec==null){ke=cn(te,1,"no memory during frame initialization.");break t}te.Vb=Te}Te=te.Ec,Ie=te.Fc,te.Ac=Te,te.Bc=Ie,Ie+=Oe,te.Gd=l(mt,Ni),te.Hd=0,te.rb=l(et+1,wo),te.sb=1,te.wa=Bt?l(Bt,ki):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=Fe),e(!0),te.oc=Te,te.pc=Ie,Ie+=832,te.ya=l(ot,qa),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=Fe),te.R=16*Fe,te.B=8*Fe,Fe=(mt=Sa[te.L])*te.R,mt=mt/2*te.B,te.sa=Te,te.ta=Ie+Fe,te.qa=te.sa,te.ra=te.ta+16*ke*te.R+mt,te.Ha=te.qa,te.Ia=te.ra+8*ke*te.B+mt,te.$c=0,Ie+=Ee,te.mb=Le?Te:null,te.nb=Le?Ie:null,e(Ie+Le<=te.Fc+te.Vb),Qo(te),o(te.Ac,te.Bc,0,Oe),ke=1}}if(ke){if(we.ka=0,we.y=te.sa,we.O=te.ta,we.f=te.qa,we.N=te.ra,we.ea=te.Ha,we.Vd=te.Ia,we.fa=te.R,we.Rc=te.B,we.F=null,we.J=0,!Wu){for(ke=-255;255>=ke;++ke)Uu[255+ke]=0>ke?-ke:ke;for(ke=-1020;1020>=ke;++ke)zu[1020+ke]=-128>ke?-128:127<ke?127:ke;for(ke=-112;112>=ke;++ke)qu[112+ke]=-16>ke?-16:15<ke?15:ke;for(ke=-255;510>=ke;++ke)$u[255+ke]=0>ke?0:255<ke?255:ke;Wu=1}jo=ea,ma=Zo,ci=Ns,or=Wa,wr=ir,Wr=Rl,Vr=Wn,dn=qi,as=D,ql=ie,rl=Ya,Ys=b,Pc=pe,nl=Se,Tc=$s,Fu=xo,$l=Bl,ga=oa,Vi[0]=Cc,Vi[1]=Il,Vi[2]=Es,Vi[3]=Du,Vi[4]=Ei,Vi[5]=jc,Vi[6]=qs,Vi[7]=Ga,Vi[8]=Dl,Vi[9]=ra,ei[0]=As,ei[1]=Ec,ei[2]=Va,ei[3]=Ha,ei[4]=ai,ei[5]=Mi,ei[6]=ta,ui[0]=Ka,ui[1]=Ac,ui[2]=ns,ui[3]=na,ui[4]=Ml,ui[5]=Fl,ui[6]=Ja,ke=1}else ke=0}ke&&(ke=(function(Xt,Hr){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var $t,tt=Xt.Jc[Xt.M&Xt.Xb],Ge=Xt.m,en=Xt;for($t=0;$t<en.za;++$t){var Tt=Ge,Gt=en,Pr=Gt.Ac,En=Gt.Bc+4*$t,hn=Gt.zc,qr=Gt.ya[Gt.aa+$t];if(Gt.Qa.Bb?qr.$b=_e(Tt,Gt.Pa.jb[0])?2+_e(Tt,Gt.Pa.jb[2]):_e(Tt,Gt.Pa.jb[1]):qr.$b=0,Gt.kc&&(qr.Ad=_e(Tt,Gt.Bd)),qr.Za=!_e(Tt,145)+0,qr.Za){var bn=qr.Ob,Cn=0;for(Gt=0;4>Gt;++Gt){var Fr,Zt=hn[0+Gt];for(Fr=0;4>Fr;++Fr){Zt=bf[Pr[En+Fr]][Zt];for(var ar=Dd[_e(Tt,Zt[0])];0<ar;)ar=Dd[2*ar+_e(Tt,Zt[ar])];Zt=-ar,Pr[En+Fr]=Zt}n(bn,Cn,Pr,En,4),Cn+=4,hn[0+Gt]=Zt}}else Zt=_e(Tt,156)?_e(Tt,128)?1:3:_e(Tt,163)?2:0,qr.Ob[0]=Zt,o(Pr,En,Zt,4),o(hn,0,Zt,4);qr.Dd=_e(Tt,142)?_e(Tt,114)?_e(Tt,183)?1:3:2:0}if(en.m.Ka)return cn(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(en=tt,Tt=(Ge=Xt).rb[Ge.sb-1],Pr=Ge.rb[Ge.sb+Ge.ja],$t=Ge.ya[Ge.aa+Ge.ja],En=Ge.kc?$t.Ad:0)Tt.la=Pr.la=0,$t.Za||(Tt.Na=Pr.Na=0),$t.Hc=0,$t.Gc=0,$t.ia=0;else{var Mr,lr;if(Tt=Pr,Pr=en,En=Ge.Pa.Xc,hn=Ge.ya[Ge.aa+Ge.ja],qr=Ge.pb[hn.$b],Gt=hn.ad,bn=0,Cn=Ge.rb[Ge.sb-1],Zt=Fr=0,o(Gt,bn,0,384),hn.Za)var Gr=0,Kr=En[3];else{ar=a(16);var kr=Tt.Na+Cn.Na;if(kr=ba(Pr,En[1],kr,qr.Eb,0,ar,0),Tt.Na=Cn.Na=(0<kr)+0,1<kr)jo(ar,0,Gt,bn);else{var Hn=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)Gt[bn+ar]=Hn}Gr=1,Kr=En[0]}var xr=15&Tt.la,Nr=15&Cn.la;for(ar=0;4>ar;++ar){var fn=1&Nr;for(Hn=lr=0;4>Hn;++Hn)xr=xr>>1|(fn=(kr=ba(Pr,Kr,kr=fn+(1&xr),qr.Sc,Gr,Gt,bn))>Gr)<<7,lr=lr<<2|(3<kr?3:1<kr?2:Gt[bn+0]!=0),bn+=16;xr>>=4,Nr=Nr>>1|fn<<7,Fr=(Fr<<8|lr)>>>0}for(Kr=xr,Gr=Nr>>4,Mr=0;4>Mr;Mr+=2){for(lr=0,xr=Tt.la>>4+Mr,Nr=Cn.la>>4+Mr,ar=0;2>ar;++ar){for(fn=1&Nr,Hn=0;2>Hn;++Hn)kr=fn+(1&xr),xr=xr>>1|(fn=0<(kr=ba(Pr,En[2],kr,qr.Qc,0,Gt,bn)))<<3,lr=lr<<2|(3<kr?3:1<kr?2:Gt[bn+0]!=0),bn+=16;xr>>=2,Nr=Nr>>1|fn<<5}Zt|=lr<<4*Mr,Kr|=xr<<4<<Mr,Gr|=(240&Nr)<<Mr}Tt.la=Kr,Cn.la=Gr,hn.Hc=Fr,hn.Gc=Zt,hn.ia=43690&Zt?0:qr.ia,En=!(Fr|Zt)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[$t.$b][$t.Za],Ge.wa[Ge.Y+Ge.ja].La|=!En),en.Ka)return cn(Xt,7,"Premature end-of-file encountered.")}if(Qo(Xt),Ge=Hr,en=1,$t=(tt=Xt).D,Tt=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if($t.M=tt.M,$t.uc=Tt,Ci(tt,$t),en=1,$t=(lr=tt.D).Nb,Tt=(Zt=Sa[tt.L])*tt.R,Pr=Zt/2*tt.B,ar=16*$t*tt.R,Hn=8*$t*tt.B,En=tt.sa,hn=tt.ta-Tt+ar,qr=tt.qa,Gt=tt.ra-Pr+Hn,bn=tt.Ha,Cn=tt.Ia-Pr+Hn,Nr=(xr=lr.M)==0,Fr=xr>=tt.Va-1,tt.Aa==2&&Ci(tt,lr),lr.uc)for(fn=(kr=tt).D.M,e(kr.D.uc),lr=kr.yb;lr<kr.Hb;++lr){Gr=lr,Kr=fn;var Bn=(pi=(nn=kr).D).Nb;Mr=nn.R;var pi=pi.wa[pi.Y+Gr],tn=nn.sa,rn=nn.ta+16*Bn*Mr+16*Gr,Gn=pi.dd,Ar=pi.tc;if(Ar!=0)if(e(3<=Ar),nn.L==1)0<Gr&&Fu(tn,rn,Mr,Ar+4),pi.La&&ga(tn,rn,Mr,Ar),0<Kr&&Tc(tn,rn,Mr,Ar+4),pi.La&&$l(tn,rn,Mr,Ar);else{var Kn=nn.B,Hi=nn.qa,cs=nn.ra+8*Bn*Kn+8*Gr,jn=nn.Ha,nn=nn.Ia+8*Bn*Kn+8*Gr;Bn=pi.ld,0<Gr&&(dn(tn,rn,Mr,Ar+4,Gn,Bn),ql(Hi,cs,jn,nn,Kn,Ar+4,Gn,Bn)),pi.La&&(Ys(tn,rn,Mr,Ar,Gn,Bn),nl(Hi,cs,jn,nn,Kn,Ar,Gn,Bn)),0<Kr&&(Vr(tn,rn,Mr,Ar+4,Gn,Bn),as(Hi,cs,jn,nn,Kn,Ar+4,Gn,Bn)),pi.La&&(rl(tn,rn,Mr,Ar,Gn,Bn),Pc(Hi,cs,jn,nn,Kn,Ar,Gn,Bn))}}if(tt.ia&&alert("todo:DitherRow"),Ge.put!=null){if(lr=16*xr,xr=16*(xr+1),Nr?(Ge.y=tt.sa,Ge.O=tt.ta+ar,Ge.f=tt.qa,Ge.N=tt.ra+Hn,Ge.ea=tt.Ha,Ge.W=tt.Ia+Hn):(lr-=Zt,Ge.y=En,Ge.O=hn,Ge.f=qr,Ge.N=Gt,Ge.ea=bn,Ge.W=Cn),Fr||(xr-=Zt),xr>Ge.o&&(xr=Ge.o),Ge.F=null,Ge.J=null,tt.Fa!=null&&0<tt.Fa.length&&lr<xr&&(Ge.J=Lr(tt,Ge,lr,xr-lr),Ge.F=tt.mb,Ge.F==null&&Ge.F.length==0)){en=cn(tt,3,"Could not decode alpha data.");break t}lr<Ge.j&&(Zt=Ge.j-lr,lr=Ge.j,e(!(1&Zt)),Ge.O+=tt.R*Zt,Ge.N+=tt.B*(Zt>>1),Ge.W+=tt.B*(Zt>>1),Ge.F!=null&&(Ge.J+=Ge.width*Zt)),lr<xr&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=lr-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=xr-lr,en=Ge.put(Ge))}$t+1!=tt.Ic||Fr||(n(tt.sa,tt.ta-Tt,En,hn+16*tt.R,Tt),n(tt.qa,tt.ra-Pr,qr,Gt+8*tt.B,Pr),n(tt.Ha,tt.Ia-Pr,bn,Cn+8*tt.B,Pr))}if(!en)return cn(Xt,6,"Output aborted.")}return 1})(te,we)),we.bc!=null&&we.bc(we),ke&=1}return ke?(te.cb=0,ke):0})(f,L)||(g=f.a)}}else g=f.a}g==0&&z.Oa!=null&&z.Oa.fd&&(g=Za(z.ba))}z=g}B=z!=0?null:11>B?V.f.RGBA.eb:V.f.kb.y}else B=null;return B};var Ql=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(H,se){for(var O="",F=0;F<4;F++)O+=String.fromCharCode(H[se++]);return O}function v(H,se){return H[se+0]|H[se+1]<<8}function y(H,se){return(H[se+0]|H[se+1]<<8|H[se+2]<<16)>>>0}function S(H,se){return(H[se+0]|H[se+1]<<8|H[se+2]<<16|H[se+3]<<24)>>>0}new d;var h=[0],A=[0],k=[],E=new d,j=r,C=(function(H,se){var O={},F=0,J=!1,X=0,fe=0;if(O.frames=[],!(function(T,q){for(var Y=0;Y<4;Y++)if(T[q+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(H,se)){for(S(H,se+=4),se+=8;se<H.length;){var de=p(H,se),ye=S(H,se+=4);se+=4;var $=ye+(1&ye);switch(de){case"VP8 ":case"VP8L":O.frames[F]===void 0&&(O.frames[F]={}),(G=O.frames[F]).src_off=J?fe:se-8,G.src_size=X+ye+8,F++,J&&(J=!1,X=0,fe=0);break;case"VP8X":(G=O.header={}).feature_flags=H[se];var he=se+4;G.canvas_width=1+y(H,he),he+=3,G.canvas_height=1+y(H,he),he+=3;break;case"ALPH":J=!0,X=$+8,fe=se-8;break;case"ANIM":(G=O.header).bgcolor=S(H,se),he=se+4,G.loop_count=v(H,he),he+=2;break;case"ANMF":var xe,G;(G=O.frames[F]={}).offset_x=2*y(H,se),se+=3,G.offset_y=2*y(H,se),se+=3,G.width=1+y(H,se),se+=3,G.height=1+y(H,se),se+=3,G.duration=y(H,se),se+=3,xe=H[se++],G.dispose=1&xe,G.blend=xe>>1&1}de!="ANMF"&&(se+=$)}return O}})(j,0);C.response=j,C.rgbaoutput=!0,C.dataurl=!1;var P=C.header?C.header:null,R=C.frames?C.frames:null;if(P){P.loop_counter=P.loop_count,h=[P.canvas_height],A=[P.canvas_width];for(var U=0;U<R.length&&R[U].blend!=0;U++);}var oe=R[0],Q=E.WebPDecodeRGBA(j,oe.src_off,oe.src_size,A,h);oe.rgba=Q,oe.imgwidth=A[0],oe.imgheight=h[0];for(var W=0;W<A[0]*h[0]*4;W++)k[W]=Q[W];return this.width=A,this.height=h,this.data=k,this}(function(r){var e,t,n,o,a,l,c,d,p,v=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new d,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new l,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new l,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,p=new v}]);var y=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=T;Object.defineProperty(this,"pdf",{get:function(){return q}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Z){Y=!!Z}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Z){ae=!!Z}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Z){isNaN(Z)||(le=Z)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(Z){isNaN(Z)||(re=Z)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Z){var He;typeof Z=="number"?He=[Z,Z,Z,Z]:((He=new Array(4))[0]=Z[0],He[1]=Z.length>=2?Z[1]:He[0],He[2]=Z.length>=3?Z[2]:He[0],He[3]=Z.length>=4?Z[3]:He[1]),p.margin=He}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Z){ue=Z}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Z){me=Z}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(Z){_e=Z}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Z){Z instanceof v&&(p=Z)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Z){p.path=Z}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Z){Pe=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var He;He=S(Z),this.ctx.fillStyle=He.style,this.ctx.isFillTransparent=He.a===0,this.ctx.fillOpacity=He.a,this.pdf.setFillColor(He.r,He.g,He.b,{a:He.a}),this.pdf.setTextColor(He.r,He.g,He.b,{a:He.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var He=S(Z);this.ctx.strokeStyle=He.style,this.ctx.isStrokeTransparent=He.a===0,this.ctx.strokeOpacity=He.a,He.a===0?this.pdf.setDrawColor(255,255,255):(He.a,this.pdf.setDrawColor(He.r,He.g,He.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var Me=null,$e=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Z){Me=null,$e=null,Ke=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var He;if(this.ctx.font=Z,(He=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var _t=He[1];He[2];var vt=He[3],De=He[4];He[5];var yt=He[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(Ye==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var Qe=(function(nt){var vr,Yt,zt=[],qt=nt.trim();if(qt==="")return Kp;if(qt in bv)return[bv[qt]];for(;qt!=="";){switch(Yt=null,vr=(qt=_v(qt)).charAt(0)){case'"':case"'":Yt=z6(qt.substring(1),vr);break;default:Yt=q6(qt)}if(Yt===null||(zt.push(Yt[0]),(qt=_v(Yt[1]))!==""&&qt.charAt(0)!==","))return Kp;qt=qt.replace(/^,/,"")}return zt})(yt);if(this.fontFaces){var at=(function(nt,vr){var Yt=nt.getFontList(),zt=JSON.stringify(Yt);if(Me===null||$e!==zt){var qt=(function(hr){var wt=[];return Object.keys(hr).forEach(function(nr){hr[nr].forEach(function(ht){var Pt=null;switch(ht){case"bold":Pt={family:nr,weight:"bold"};break;case"italic":Pt={family:nr,style:"italic"};break;case"bolditalic":Pt={family:nr,weight:"bold",style:"italic"};break;case"":case"normal":Pt={family:nr}}Pt!==null&&(Pt.ref={name:nr,style:ht},wt.push(Pt))})}),wt})(Yt);Me=(function(hr){for(var wt={},nr=0;nr<hr.length;++nr){var ht=Gp(hr[nr]),Pt=ht.family,sr=ht.stretch,Ot=ht.style,St=ht.weight;wt[Pt]=wt[Pt]||{},wt[Pt][sr]=wt[Pt][sr]||{},wt[Pt][sr][Ot]=wt[Pt][sr][Ot]||{},wt[Pt][sr][Ot][St]=ht}return wt})(qt.concat(vr)),$e=zt}return Me})(this.pdf,this.fontFaces),tr=Qe.map(function(nt){return{family:nt,stretch:"normal",weight:vt,style:_t}}),Vt=(function(nt,vr,Yt){for(var zt=(Yt=Yt||{}).defaultFontFamily||"times",qt=Object.assign({},U6,Yt.genericFontFamilies||{}),hr=null,wt=null,nr=0;nr<vr.length;++nr)if(qt[(hr=Gp(vr[nr])).family]&&(hr.family=qt[hr.family]),nt.hasOwnProperty(hr.family)){wt=nt[hr.family];break}if(!(wt=wt||nt[zt]))throw new Error("Could not find a font-family for the rule '"+xv(hr)+"' and default family '"+zt+"'.");if(wt=(function(ht,Pt){if(Pt[ht])return Pt[ht];var sr=Tm[ht],Ot=sr<=Tm.normal?-1:1,St=wv(Pt,S5,sr,Ot);if(!St)throw new Error("Could not find a matching font-stretch value for "+ht);return St})(hr.stretch,wt),wt=(function(ht,Pt){if(Pt[ht])return Pt[ht];for(var sr=_5[ht],Ot=0;Ot<sr.length;++Ot)if(Pt[sr[Ot]])return Pt[sr[Ot]];throw new Error("Could not find a matching font-style for "+ht)})(hr.style,wt),!(wt=(function(ht,Pt){if(Pt[ht])return Pt[ht];if(ht===400&&Pt[500])return Pt[500];if(ht===500&&Pt[400])return Pt[400];var sr=B6[ht],Ot=wv(Pt,k5,sr,ht<400?-1:1);if(!Ot)throw new Error("Could not find a matching font-weight for value "+ht);return Ot})(hr.weight,wt)))throw new Error("Failed to resolve a font for the rule '"+xv(hr)+"'.");return wt})(at,tr);this.pdf.setFont(Vt.ref.name,Vt.ref.style)}else{var Et="";(vt==="bold"||parseInt(vt,10)>=700||_t==="bold")&&(Et="bold"),_t==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var Ht="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<Qe.length;rt++){if(this.pdf.internal.getFont(Qe[rt],Et,{noFallback:!0,disableWarning:!0})!==void 0){Ht=Qe[rt];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(Qe[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=Qe[rt],Et="bold";else if(this.pdf.internal.getFont(Qe[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=Qe[rt],Et="normal";break}}if(Ht===""){for(var kt=0;kt<Qe.length;kt++)if(Ut[Qe[kt]]){Ht=Ut[Qe[kt]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};y.prototype.setLineDash=function(T){this.lineDash=T},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){R.call(this,"fill",!1)},y.prototype.stroke=function(){R.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(T,q){if(isNaN(T)||isNaN(q))throw Rr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new l(T,q));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(T,q)},y.prototype.closePath=function(){var T=new l(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Cr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){T=new l(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(T.x,T.y)},y.prototype.lineTo=function(T,q){if(isNaN(T)||isNaN(q))throw Rr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new l(T,q));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(Y.x,Y.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},y.prototype.quadraticCurveTo=function(T,q,Y,ae){if(isNaN(Y)||isNaN(ae)||isNaN(T)||isNaN(q))throw Rr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new l(Y,ae)),re=this.ctx.transform.applyToPoint(new l(T,q));this.path.push({type:"qct",x1:re.x,y1:re.y,x:le.x,y:le.y}),this.ctx.lastPoint=new l(le.x,le.y)},y.prototype.bezierCurveTo=function(T,q,Y,ae,le,re){if(isNaN(le)||isNaN(re)||isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(ae))throw Rr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new l(le,re)),me=this.ctx.transform.applyToPoint(new l(T,q)),_e=this.ctx.transform.applyToPoint(new l(Y,ae));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:_e.x,y2:_e.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},y.prototype.arc=function(T,q,Y,ae,le,re){if(isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(ae)||isNaN(le))throw Rr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new l(T,q));T=ue.x,q=ue.y;var me=this.ctx.transform.applyToPoint(new l(0,Y)),_e=this.ctx.transform.applyToPoint(new l(0,0));Y=Math.sqrt(Math.pow(me.x-_e.x,2)+Math.pow(me.y-_e.y,2))}Math.abs(le-ae)>=2*Math.PI&&(ae=0,le=2*Math.PI),this.path.push({type:"arc",x:T,y:q,radius:Y,startAngle:ae,endAngle:le,counterclockwise:re})},y.prototype.arcTo=function(T,q,Y,ae,le){throw new Error("arcTo not implemented.")},y.prototype.rect=function(T,q,Y,ae){if(isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(ae))throw Rr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,q),this.lineTo(T+Y,q),this.lineTo(T+Y,q+ae),this.lineTo(T,q+ae),this.lineTo(T,q),this.lineTo(T+Y,q),this.lineTo(T,q)},y.prototype.fillRect=function(T,q,Y,ae){if(isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(ae))throw Rr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,q,Y,ae),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},y.prototype.strokeRect=function(T,q,Y,ae){if(isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(ae))throw Rr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(T,q,Y,ae),this.stroke())},y.prototype.clearRect=function(T,q,Y,ae){if(isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(ae))throw Rr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,q,Y,ae))},y.prototype.save=function(T){T=typeof T!="boolean"||T;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},y.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(q),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(T){var q,Y,ae,le;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))q=0,Y=0,ae=0,le=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(re!==null)q=parseInt(re[1]),Y=parseInt(re[2]),ae=parseInt(re[3]),le=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)q=parseInt(re[1]),Y=parseInt(re[2]),ae=parseInt(re[3]),le=parseFloat(re[4]);else{if(le=1,typeof T=="string"&&T.charAt(0)!=="#"){var ue=new m5(T);T=ue.ok?ue.toHex():"#000000"}T.length===4?(q=T.substring(1,2),q+=q,Y=T.substring(2,3),Y+=Y,ae=T.substring(3,4),ae+=ae):(q=T.substring(1,3),Y=T.substring(3,5),ae=T.substring(5,7)),q=parseInt(q,16),Y=parseInt(Y,16),ae=parseInt(ae,16)}}return{r:q,g:Y,b:ae,a:le,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(T,q,Y,ae){if(isNaN(q)||isNaN(Y)||typeof T!="string")throw Rr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!h.call(this)){var le=$(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;F.call(this,{text:T,x:q,y:Y,scale:re,angle:le,align:this.textAlign,maxWidth:ae})}},y.prototype.strokeText=function(T,q,Y,ae){if(isNaN(q)||isNaN(Y)||typeof T!="string")throw Rr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){ae=isNaN(ae)?void 0:ae;var le=$(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;F.call(this,{text:T,x:q,y:Y,scale:re,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ae})}},y.prototype.measureText=function(T){if(typeof T!="string")throw Rr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Y=this.pdf.internal.scaleFactor,ae=q.internal.getFontSize(),le=q.getStringUnitWidth(T)*ae/q.internal.scaleFactor;return new function(re){var ue=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this}({width:le*=Math.round(96*Y/72*1e4)/1e4})},y.prototype.scale=function(T,q){if(isNaN(T)||isNaN(q))throw Rr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new d(T,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},y.prototype.rotate=function(T){if(isNaN(T))throw Rr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new d(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},y.prototype.translate=function(T,q){if(isNaN(T)||isNaN(q))throw Rr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new d(1,0,0,1,T,q);this.ctx.transform=this.ctx.transform.multiply(Y)},y.prototype.transform=function(T,q,Y,ae,le,re){if(isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(ae)||isNaN(le)||isNaN(re))throw Rr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new d(T,q,Y,ae,le,re);this.ctx.transform=this.ctx.transform.multiply(ue)},y.prototype.setTransform=function(T,q,Y,ae,le,re){T=isNaN(T)?1:T,q=isNaN(q)?0:q,Y=isNaN(Y)?0:Y,ae=isNaN(ae)?1:ae,le=isNaN(le)?0:le,re=isNaN(re)?0:re,this.ctx.transform=new d(T,q,Y,ae,le,re)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(T,q,Y,ae,le,re,ue,me,_e){var Pe=this.pdf.getImageProperties(T),Me=1,$e=1,Ke=1,Z=1;ae!==void 0&&me!==void 0&&(Ke=me/ae,Z=_e/le,Me=Pe.width/ae*me/ae,$e=Pe.height/le*_e/le),re===void 0&&(re=q,ue=Y,q=0,Y=0),ae!==void 0&&me===void 0&&(me=ae,_e=le),ae===void 0&&me===void 0&&(me=Pe.width,_e=Pe.height);var He=this.ctx.transform.decompose(),_t=$(He.rotate.shx),vt=new d,De=(vt=(vt=(vt=vt.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new c(re-q*Ke,ue-Y*Z,ae*Me,le*$e));if(this.autoPaging){for(var yt,Ye=E.call(this,De),Qe=[],at=0;at<Ye.length;at+=1)Qe.indexOf(Ye[at])===-1&&Qe.push(Ye[at]);P(Qe);for(var tr=Qe[0],Vt=Qe[Qe.length-1],Et=tr;Et<Vt+1;Et++){this.pdf.setPage(Et);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=Et===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Et===1?0:rt+(Et-2)*kt;if(this.ctx.clip_path.length!==0){var vr=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(yt,this.posX+this.margin[3],-nt+Ut+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=vr}var Yt=JSON.parse(JSON.stringify(De));Yt=C([Yt],this.posX+this.margin[3],-nt+Ut+this.ctx.prevPageLastElemOffset)[0];var zt=(Et>tr||Et<Vt)&&k.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,kt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,_t),zt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",De.x,De.y,De.w,De.h,null,null,_t)};var E=function(T,q,Y){var ae=[];q=q||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ae.push(Math.floor((T.y+le)/Y)+1);break;case"arc":ae.push(Math.floor((T.y+le-T.radius)/Y)+1),ae.push(Math.floor((T.y+le+T.radius)/Y)+1);break;case"qct":var re=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ae.push(Math.floor((re.y+le)/Y)+1),ae.push(Math.floor((re.y+re.h+le)/Y)+1);break;case"bct":var ue=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ae.push(Math.floor((ue.y+le)/Y)+1),ae.push(Math.floor((ue.y+ue.h+le)/Y)+1);break;case"rect":ae.push(Math.floor((T.y+le)/Y)+1),ae.push(Math.floor((T.y+T.h+le)/Y)+1)}for(var me=0;me<ae.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ae[me];)j.call(this);return ae},j=function(){var T=this.fillStyle,q=this.strokeStyle,Y=this.font,ae=this.lineCap,le=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=q,this.font=Y,this.lineCap=ae,this.lineWidth=le,this.lineJoin=re},C=function(T,q,Y){for(var ae=0;ae<T.length;ae++)switch(T[ae].type){case"bct":T[ae].x2+=q,T[ae].y2+=Y;case"qct":T[ae].x1+=q,T[ae].y1+=Y;default:T[ae].x+=q,T[ae].y+=Y}return T},P=function(T){return T.sort(function(q,Y){return q-Y})},R=function(T,q){var Y=this.fillStyle,ae=this.strokeStyle,le=this.lineCap,re=this.lineWidth,ue=Math.abs(re*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var _e,Pe,Me=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),Ke=[],Z=0;Z<$e.length;Z++)if($e[Z].x!==void 0)for(var He=E.call(this,$e[Z]),_t=0;_t<He.length;_t+=1)Ke.indexOf(He[_t])===-1&&Ke.push(He[_t]);for(var vt=0;vt<Ke.length;vt++)for(;this.pdf.internal.getNumberOfPages()<Ke[vt];)j.call(this);P(Ke);for(var De=Ke[0],yt=Ke[Ke.length-1],Ye=De;Ye<yt+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=Y,this.strokeStyle=ae,this.lineCap=le,this.lineWidth=ue,this.lineJoin=me;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Ye===1?this.posY+this.margin[0]:this.margin[0],tr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=Ye===1?0:tr+(Ye-2)*Vt;if(this.ctx.clip_path.length!==0){var Ht=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(_e,this.posX+this.margin[3],-Et+at+this.ctx.prevPageLastElemOffset),U.call(this,T,!0),this.path=Ht}if(Pe=JSON.parse(JSON.stringify(Me)),this.path=C(Pe,this.posX+this.margin[3],-Et+at+this.ctx.prevPageLastElemOffset),q===!1||Ye===0){var Ut=(Ye>De||Ye<yt)&&k.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Vt,null).clip().discardPath()),U.call(this,T,q),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=re}this.path=Me}else this.lineWidth=ue,U.call(this,T,q),this.lineWidth=re},U=function(T,q){if((T!=="stroke"||q||!A.call(this))&&(T==="stroke"||q||!h.call(this))){for(var Y,ae,le=[],re=this.path,ue=0;ue<re.length;ue++){var me=re[ue];switch(me.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:me,deltas:[],abs:[]});break;case"lt":var _e=le.length;if(re[ue-1]&&!isNaN(re[ue-1].x)&&(Y=[me.x-re[ue-1].x,me.y-re[ue-1].y],_e>0)){for(;_e>=0;_e--)if(le[_e-1].close!==!0&&le[_e-1].begin!==!0){le[_e-1].deltas.push(Y),le[_e-1].abs.push(me);break}}break;case"bct":Y=[me.x1-re[ue-1].x,me.y1-re[ue-1].y,me.x2-re[ue-1].x,me.y2-re[ue-1].y,me.x-re[ue-1].x,me.y-re[ue-1].y],le[le.length-1].deltas.push(Y);break;case"qct":var Pe=re[ue-1].x+2/3*(me.x1-re[ue-1].x),Me=re[ue-1].y+2/3*(me.y1-re[ue-1].y),$e=me.x+2/3*(me.x1-me.x),Ke=me.y+2/3*(me.y1-me.y),Z=me.x,He=me.y;Y=[Pe-re[ue-1].x,Me-re[ue-1].y,$e-re[ue-1].x,Ke-re[ue-1].y,Z-re[ue-1].x,He-re[ue-1].y],le[le.length-1].deltas.push(Y);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(me)}}ae=q?null:T==="stroke"?"stroke":"fill";for(var _t=!1,vt=0;vt<le.length;vt++)if(le[vt].arc)for(var De=le[vt].abs,yt=0;yt<De.length;yt++){var Ye=De[yt];Ye.type==="arc"?W.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,q,!_t):J.call(this,Ye.x,Ye.y),_t=!0}else if(le[vt].close===!0)this.pdf.internal.out("h"),_t=!1;else if(le[vt].begin!==!0){var Qe=le[vt].start.x,at=le[vt].start.y;X.call(this,le[vt].deltas,Qe,at),_t=!0}ae&&H.call(this,ae),q&&se.call(this)}},oe=function(T){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-Y;case"top":return T+q-Y;case"hanging":return T+q-2*Y;case"middle":return T+q/2-Y;default:return T}},Q=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(q,Y){this.colorStops.push([q,Y])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(T,q,Y,ae,le,re,ue,me,_e){for(var Pe=de.call(this,Y,ae,le,re),Me=0;Me<Pe.length;Me++){var $e=Pe[Me];Me===0&&(_e?O.call(this,$e.x1+T,$e.y1+q):J.call(this,$e.x1+T,$e.y1+q)),fe.call(this,T,q,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}me?se.call(this):H.call(this,ue)},H=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(T,q){this.pdf.internal.out(t(T)+" "+n(q)+" m")},F=function(T){var q;switch(T.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var Y,ae,le,re=this.pdf.getTextDimensions(T.text),ue=oe.call(this,T.y),me=Q.call(this,ue)-re.h,_e=this.ctx.transform.applyToPoint(new l(T.x,ue));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),Me=new d;Me=(Me=(Me=Me.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var $e=this.ctx.transform.applyToRectangle(new c(T.x,ue,re.w,re.h)),Ke=Me.applyToRectangle(new c(T.x,me,re.w,re.h)),Z=E.call(this,Ke),He=[],_t=0;_t<Z.length;_t+=1)He.indexOf(Z[_t])===-1&&He.push(Z[_t]);P(He);for(var vt=He[0],De=He[He.length-1],yt=vt;yt<De+1;yt++){this.pdf.setPage(yt);var Ye=yt===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],tr=at-this.margin[0],Vt=this.pdf.internal.pageSize.width-this.margin[1],Et=Vt-this.margin[3],Ht=yt===1?0:Qe+(yt-2)*tr;if(this.ctx.clip_path.length!==0){var Ut=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Y,this.posX+this.margin[3],-1*Ht+Ye),U.call(this,"fill",!0),this.path=Ut}var rt=C([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Ht+Ye+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*T.scale),le=this.lineWidth,this.lineWidth=le*T.scale);var kt=this.autoPaging!=="text";if(kt||rt.y+rt.h<=at){if(kt||rt.y>=Ye&&rt.x<=Vt){var nt=kt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Vt-rt.x)[0],vr=C([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Ht+Ye+this.ctx.prevPageLastElemOffset)[0],Yt=kt&&(yt>vt||yt<De)&&k.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,tr,null).clip().discardPath()),this.pdf.text(nt,vr.x,vr.y,{angle:T.angle,align:q,renderingMode:T.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else rt.y<at&&(this.ctx.prevPageLastElemOffset+=at-rt.y);T.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=le)}}else T.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*T.scale),le=this.lineWidth,this.lineWidth=le*T.scale),this.pdf.text(T.text,_e.x+this.posX,_e.y+this.posY,{angle:T.angle,align:q,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=le)},J=function(T,q,Y,ae){Y=Y||0,ae=ae||0,this.pdf.internal.out(t(T+Y)+" "+n(q+ae)+" l")},X=function(T,q,Y){return this.pdf.lines(T,q,Y,null,null)},fe=function(T,q,Y,ae,le,re,ue,me){this.pdf.internal.out([e(o(Y+T)),e(a(ae+q)),e(o(le+T)),e(a(re+q)),e(o(ue+T)),e(a(me+q)),"c"].join(" "))},de=function(T,q,Y,ae){for(var le=2*Math.PI,re=Math.PI/2;q>Y;)q-=le;var ue=Math.abs(Y-q);ue<le&&ae&&(ue=le-ue);for(var me=[],_e=ae?-1:1,Pe=q;ue>1e-5;){var Me=Pe+_e*Math.min(ue,re);me.push(ye.call(this,T,Pe,Me)),ue-=Math.abs(Me-Pe),Pe=Me}return me},ye=function(T,q,Y){var ae=(Y-q)/2,le=T*Math.cos(ae),re=T*Math.sin(ae),ue=le,me=-re,_e=ue*ue+me*me,Pe=_e+ue*le+me*re,Me=4/3*(Math.sqrt(2*_e*Pe)-Pe)/(ue*re-me*le),$e=ue-Me*me,Ke=me+Me*ue,Z=$e,He=-Ke,_t=ae+q,vt=Math.cos(_t),De=Math.sin(_t);return{x1:T*Math.cos(q),y1:T*Math.sin(q),x2:$e*vt-Ke*De,y2:$e*De+Ke*vt,x3:Z*vt-He*De,y3:Z*De+He*vt,x4:T*Math.cos(Y),y4:T*Math.sin(Y)}},$=function(T){return 180*T/Math.PI},he=function(T,q,Y,ae,le,re){var ue=T+.5*(Y-T),me=q+.5*(ae-q),_e=le+.5*(Y-le),Pe=re+.5*(ae-re),Me=Math.min(T,le,ue,_e),$e=Math.max(T,le,ue,_e),Ke=Math.min(q,re,me,Pe),Z=Math.max(q,re,me,Pe);return new c(Me,Ke,$e-Me,Z-Ke)},xe=function(T,q,Y,ae,le,re,ue,me){var _e,Pe,Me,$e,Ke,Z,He,_t,vt,De,yt,Ye,Qe,at,tr=Y-T,Vt=ae-q,Et=le-Y,Ht=re-ae,Ut=ue-le,rt=me-re;for(Pe=0;Pe<41;Pe++)vt=(He=(Me=T+(_e=Pe/40)*tr)+_e*((Ke=Y+_e*Et)-Me))+_e*(Ke+_e*(le+_e*Ut-Ke)-He),De=(_t=($e=q+_e*Vt)+_e*((Z=ae+_e*Ht)-$e))+_e*(Z+_e*(re+_e*rt-Z)-_t),Pe==0?(yt=vt,Ye=De,Qe=vt,at=De):(yt=Math.min(yt,vt),Ye=Math.min(Ye,De),Qe=Math.max(Qe,vt),at=Math.max(at,De));return new c(Math.round(yt),Math.round(Ye),Math.round(Qe-yt),Math.round(at-Ye))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,q,Y=(T=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:q}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(bt.API),(function(r){var e=function(l){var c,d,p,v,y,S,h,A,k,E;for(d=[],p=0,v=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;v>p;p+=4)(y=(l.charCodeAt(p)<<24)+(l.charCodeAt(p+1)<<16)+(l.charCodeAt(p+2)<<8)+l.charCodeAt(p+3))!==0?(S=(y=((y=((y=((y=(y-(E=y%85))/85)-(k=y%85))/85)-(A=y%85))/85)-(h=y%85))/85)%85,d.push(S+33,h+33,A+33,k+33,E+33)):d.push(122);return(function(j,C){for(var P=C;P>0;P--)j.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},t=function(l){var c,d,p,v,y,S=String,h="length",A=255,k="charCodeAt",E="slice",j="replace";for(l[E](-2),l=l[E](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),p=[],v=0,y=(l+=c="uuuuu"[E](l[h]%5||5))[h];y>v;v+=5)d=52200625*(l[k](v)-33)+614125*(l[k](v+1)-33)+7225*(l[k](v+2)-33)+85*(l[k](v+3)-33)+(l[k](v+4)-33),p.push(A&d>>24,A&d>>16,A&d>>8,A&d);return(function(C,P){for(var R=P;R>0;R--)C.pop()})(p,c[h]),S.fromCharCode.apply(S,p)},n=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},o=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",p=0;p<l.length;p+=2)d+=String.fromCharCode("0x"+(l[p]+l[p+1]));return d},a=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=Nm(c)).reduce(function(p,v){return p+String.fromCharCode(v)},"")};r.processDataByFilters=function(l,c){var d=0,p=l||"",v=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":p=t(p),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=o(p),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=n(p),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=a(p),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:p,reverseChain:v.reverse().join(" ")}}})(bt.API),(function(r){r.loadFile=function(e,t,n){return(function(o,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(d,p,v){var y=new XMLHttpRequest,S=0,h=function(A){var k=A.length,E=[],j=String.fromCharCode;for(S=0;S<k;S+=1)E.push(j(255&A.charCodeAt(S)));return E.join("")};if(y.open("GET",d,!p),y.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(y.onload=function(){y.status===200?v(h(this.responseText)):v(void 0)}),y.send(null),p&&y.status===200)return h(y.responseText)})(o,a,l)}catch{}return c})(e,t,n)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(bt.API),(function(r){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):jp(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):jp(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=Cr(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},o=function(c,d){var p=document.createElement(c);for(var v in d.className&&(p.className=d.className),d.innerHTML&&d.dompurify&&(p.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)p.style[v]=d.style[v];return p},a=function c(d,p){for(var v=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)p!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||v.appendChild(c(y,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(v.width=d.width,v.height=d.height,v.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(v.value=d.value),v.addEventListener("load",function(){v.scrollTop=d.scrollTop,v.scrollLeft=d.scrollLeft},!0)),v},l=function c(d){var p=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),v=c.convert(Promise.resolve(),p);return(v=v.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(p){switch(n(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(t).then(function(p){return this.set({src:o("div",{innerHTML:c,dompurify:p})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,d(this.prop.container,p)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var p=this.opt.jsPDF,v=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=v,v)for(var h=0;h<v.length;++h){var A=v[h],k=A.src.find(function(E){return E.format==="truetype"});k&&p.addFont(k.url,A.ref.name,A.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,p.context2d.save(!0),d(this.prop.container,S)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(n(c)!=="object")return this;var d=Object.keys(c||{}).map(function(p){if(p in l.template.prop)return function(){this.prop[p]=c[p]};switch(p){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[p]=c[p]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var p=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(p):p})},l.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(p,v){return Math.floor(p*v/72*96)}return this.then(function(){(c=c||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,p,v){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),p!=null&&(this.progress.n=p),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,p,v){return this.setProgress(c?this.progress.val+c:null,d||null,p?this.progress.n+p:null,v?this.progress.stack.concat(v):null)},l.prototype.then=function(c,d){var p=this;return this.thenCore(c,d,function(v,y){return p.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(S){return p.updateProgress(null,v),S}).then(v,y).then(function(S){return p.updateProgress(1),S})})},l.prototype.thenCore=function(c,d,p){p=p||Promise.prototype.then;var v=this;c&&(c=c.bind(v)),d&&(d=d.bind(v));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:l.convert(Object.assign({},v),Promise.prototype),S=p.call(y,c,d);return l.convert(S,v.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(p){d=d.thenCore(p)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,bt.getPageSize=function(c,d,p){if(Cr(c)==="object"){var v=c;c=v.orientation,d=v.unit||d,p=v.format||p}d=d||"mm",p=p||"a4",c=(""+(c||"P")).toLowerCase();var y,S=(""+p).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+d}var A,k=0,E=0;if(h.hasOwnProperty(S))k=h[S][1]/y,E=h[S][0]/y;else try{k=p[1],E=p[0]}catch{throw new Error("Invalid format: "+p)}if(c==="p"||c==="portrait")c="p",E>k&&(A=E,E=k,k=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",k>E&&(A=E,E=k,k=A)}return{width:E,height:k,unit:d,k:y,orientation:c}},r.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Gp):null;var p=new l(d);return d.worker?p:p.from(c).doCallback()}})(bt.API),bt.API.addJS=function(r){return kv=r,this.internal.events.subscribe("postPutResources",function(){Th=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Th+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Sv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Th!==void 0&&Sv!==void 0&&this.internal.out("/Names <</JavaScript "+Th+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=t.outline.render().split(/\r\n/),a=0;a<o.length;a++){var l=o[a],c=n.exec(l);if(c!=null){var d=c[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,v=[];for(a=0;a<p;a++){var y=t.internal.newObject();v.push(y);var S=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<v.length;a++)t.internal.write("(page_"+(a+1)+")"+v[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,o,a){var l={title:o,options:a,children:[]};return n==null&&(n=this.root),n.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var o=0;o<n.children.length;o++)this.genIds_r(n.children[o])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var l=n.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var p=0;p<n.children.length;p++)this.renderItems(n.children[p])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,o){for(var a=0;a<o.children.length;a++)n.count++,this.count_r(n,o.children[a]);return n.count}}])})(bt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,o,a,l,c){var d,p=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(y){for(var S,h=256*y.charCodeAt(4)+y.charCodeAt(5),A=y.length,k={width:0,height:0,numcomponents:1},E=4;E<A;E+=2){if(E+=h,e.indexOf(y.charCodeAt(E+1))!==-1){S=256*y.charCodeAt(E+5)+y.charCodeAt(E+6),k={width:256*y.charCodeAt(E+7)+y.charCodeAt(E+8),height:S,numcomponents:y.charCodeAt(E+9)};break}h=256*y.charCodeAt(E+2)+y.charCodeAt(E+3)}return k})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}v={data:t,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:p,index:n,alias:o}}return v}})(bt.API),bt.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var o,a=N6(r,{checkCrc:!0}),l=a.width,c=a.height,d=a.channels,p=a.palette,v=a.depth;o=p&&d===1?(function(W){for(var H=W.width,se=W.height,O=W.data,F=W.palette,J=W.depth,X=!1,fe=[],de=[],ye=void 0,$=!1,he=0,xe=0;xe<F.length;xe++){var G=C1(F[xe],4),T=G[0],q=G[1],Y=G[2],ae=G[3];fe.push(T,q,Y),ae!=null&&(ae===0?(he++,de.length<1&&de.push(xe)):ae<255&&($=!0))}if($||he>1){X=!0,de=void 0;var le=H*se;ye=new Uint8Array(le);for(var re=new DataView(O.buffer),ue=0;ue<le;ue++){var me=Jp(re,ue,J),_e=C1(F[me],4)[3];ye[ue]=_e}}else he===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:O,alphaBytes:ye,needSMask:X,palette:fe,mask:de}})(a):d===2||d===4?(function(W){for(var H=W.data,se=W.width,O=W.height,F=W.channels,J=W.depth,X=F===2?"DeviceGray":"DeviceRGB",fe=F-1,de=se*O,ye=fe,$=de*ye,he=1*de,xe=Math.ceil($*J/8),G=Math.ceil(he*J/8),T=new Uint8Array(xe),q=new Uint8Array(G),Y=new DataView(H.buffer),ae=new DataView(T.buffer),le=new DataView(q.buffer),re=!1,ue=0;ue<de;ue++){for(var me=ue*F,_e=0;_e<ye;_e++)Ov(ae,Jp(Y,me+_e,J),ue*ye+_e,J);var Pe=Jp(Y,me+ye,J);Pe<(1<<J)-1&&(re=!0),Ov(le,Pe,1*ue,J)}return{colorSpace:X,colorsPerPixel:fe,sMaskBitsPerComponent:re?J:void 0,colorBytes:T,alphaBytes:q,needSMask:re}})(a):(function(W){var H=W.data,se=W.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:se,colorsPerPixel:se==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?(function(O){for(var F=O.length,J=new Uint8Array(2*F),X=new DataView(J.buffer,J.byteOffset,J.byteLength),fe=0;fe<F;fe++)X.setUint16(2*fe,O[fe],!1);return J})(H):H,needSMask:!1}})(a);var y,S,h,A=o,k=A.colorSpace,E=A.colorsPerPixel,j=A.sMaskBitsPerComponent,C=A.colorBytes,P=A.alphaBytes,R=A.needSMask,U=A.palette,oe=A.mask,Q=null;return n!==bt.API.image_compression.NONE&&typeof Nm=="function"?(Q=(function(W){var H;switch(W){case bt.API.image_compression.FAST:H=11;break;case bt.API.image_compression.MEDIUM:H=13;break;case bt.API.image_compression.SLOW:H=14;break;default:H=12}return H})(n),y=this.decode.FLATE_DECODE,S="/Predictor ".concat(Q," /Colors ").concat(E," /BitsPerComponent ").concat(v," /Columns ").concat(l),r=Cv(C,Math.ceil(l*E*v/8),E,v,n),R&&(h=Cv(P,Math.ceil(l*j/8),1,j,n))):(y=void 0,S=void 0,r=C,R&&(h=P)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:t,data:r,index:e,filter:y,decodeParameters:S,transparency:oe,palette:U,sMask:h,predictor:Q,width:l,height:c,bitsPerComponent:v,sMaskBitsPerComponent:j,colorSpace:k}}},(function(r){r.processGIF89A=function(e,t,n,o){var a=new H6(e),l=a.width,c=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:l,height:c},v=new Yp(100).encode(p,100);return r.processJPEG.call(this,v,t,n,o)},r.processGIF87A=r.processGIF89A})(bt.API),oo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:o,green:n,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oo.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Rr.log("bit decode error:"+t)}},oo.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<e;o++)for(var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*o*4,c=0;c<8&&8*o+c<this.width;c++){var d=this.palette[a>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},oo.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,o=0;o<r;o++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*o*4,c=a>>4,d=15&a,p=this.palette[c];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*o+1>=this.width)break;p=this.palette[d],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},oo.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;if(o<this.palette.length){var l=this.palette[o];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},oo.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,d=(a>>10&e)/e*255|0,p=a>>15?255:0,v=n*this.width*4+4*o;this.data[v]=d,this.data[v+1]=c,this.data[v+2]=l,this.data[v+3]=p}this.pos+=r}},oo.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&t)/t*255|0,p=(l>>11)/e*255|0,v=o*this.width*4+4*a;this.data[v]=p,this.data[v+1]=d,this.data[v+2]=c,this.data[v+3]=255}this.pos+=r}},oo.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=o,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},oo.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=a,this.data[c+1]=o,this.data[c+2]=n,this.data[c+3]=l}},oo.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,o){var a=new oo(e,!1),l=a.width,c=a.height,d={data:a.getData(),width:l,height:c},p=new Yp(100).encode(d,100);return r.processJPEG.call(this,p,t,n,o)}})(bt.API),Iv.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,o){var a=new Iv(e),l=a.width,c=a.height,d={data:a.getData(),width:l,height:c},p=new Yp(100).encode(d,100);return r.processJPEG.call(this,p,t,n,o)}})(bt.API),bt.API.processRGBA=function(r,e,t){for(var n=r.data,o=n.length,a=new Uint8Array(o/4*3),l=new Uint8Array(o/4),c=0,d=0,p=0;p<o;p+=4){var v=n[p],y=n[p+1],S=n[p+2],h=n[p+3];a[c++]=v,a[c++]=y,a[c++]=S,l[d++]=h}var A=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},bt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},uu=bt.API,Oh=uu.getCharWidthsArray=function(r,e){var t,n,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:o.metadata.Unicode.widths,d=c.fof?c.fof:1,p=e.kerning?e.kerning:o.metadata.Unicode.kerning,v=p.fof?p.fof:1,y=e.doKerning!==!1,S=0,h=r.length,A=0,k=c[0]||d,E=[];for(t=0;t<h;t++)n=r.charCodeAt(t),typeof o.metadata.widthOfString=="function"?E.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(n))+l*(1e3/a)||0)/1e3):(S=y&&Cr(p[n])==="object"&&!isNaN(parseInt(p[n][A],10))?p[n][A]/v:0,E.push((c[n]||k)/d+S)),A=n;return E},Nv=uu.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),o=e.charSpace||this.internal.getCharSpace();return uu.processArabic&&(r=uu.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,o)/t:Oh.apply(this,arguments).reduce(function(a,l){return a+l},0)},Av=function(r,e,t,n){for(var o=[],a=0,l=r.length,c=0;a!==l&&c+e[a]<t;)c+=e[a],a++;o.push(r.slice(0,a));var d=a;for(c=0;a!==l;)c+e[a]>n&&(o.push(r.slice(d,a)),c=0,d=a),c+=e[a],a++;return d!==a&&o.push(r.slice(d,a)),o},Ev=function(r,e,t){t||(t={});var n,o,a,l,c,d,p,v=[],y=[v],S=t.textIndent||0,h=0,A=0,k=r.split(" "),E=Oh.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?k[0].length+2:t.lineIndent||0){var j=Array(d).join(" "),C=[];k.map(function(R){(R=R.split(/\s*\n/)).length>1?C=C.concat(R.map(function(U,oe){return(oe&&U.length?`
`:"")+U})):C.push(R[0])}),k=C,d=Nv.apply(this,[j,t])}for(a=0,l=k.length;a<l;a++){var P=0;if(n=k[a],d&&n[0]==`
`&&(n=n.substr(1),P=1),S+h+(A=(o=Oh.apply(this,[n,t])).reduce(function(R,U){return R+U},0))>e||P){if(A>e){for(c=Av.apply(this,[n,o,e-(S+h),e]),v.push(c.shift()),v=[c.pop()];c.length;)y.push([c.shift()]);A=o.slice(n.length-(v[0]?v[0].length:0)).reduce(function(R,U){return R+U},0)}else v=[n];y.push(v),S=A+d,h=E}else v.push(n),S+=h+A,h=E}return p=d?function(R,U){return(U?j:"")+R.join(" ")}:function(R){return R.join(" ")},y.map(p)},uu.splitTextToSize=function(r,e,t){var n,o=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var y=this.internal.getFont(v.fontName,v.fontStyle),S="Unicode";return y.metadata[S]?{widths:y.metadata[S].widths||{0:1},kerning:y.metadata[S].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/o;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/o:0,a.lineIndent=t.lineIndent;var c,d,p=[];for(c=0,d=n.length;c<d;c++)p=p.concat(Ev.apply(this,[n[c],l,a]));return p},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},o={},a=0;a<16;a++)n[t[a]]=e[a],o[e[a]]=t[a];var l=function(S){return"0x"+parseInt(S,10).toString(16)},c=r.__fontmetrics__.compress=function(S){var h,A,k,E,j=["{"];for(var C in S){if(h=S[C],isNaN(parseInt(C,10))?A="'"+C+"'":(C=parseInt(C,10),A=(A=l(C).slice(2)).slice(0,-1)+o[A.slice(-1)]),typeof h=="number")h<0?(k=l(h).slice(3),E="-"):(k=l(h).slice(2),E=""),k=E+k.slice(0,-1)+o[k.slice(-1)];else{if(Cr(h)!=="object")throw new Error("Don't know what to do with value type "+Cr(h)+".");k=c(h)}j.push(A+k)}return j.push("}"),j.join("")},d=r.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,A,k,E,j={},C=1,P=j,R=[],U="",oe="",Q=S.length-1,W=1;W<Q;W+=1)(E=S[W])=="'"?h?(k=h.join(""),h=void 0):h=[]:h?h.push(E):E=="{"?(R.push([P,k]),P={},k=void 0):E=="}"?((A=R.pop())[0][A[1]]=P,k=void 0,P=A[0]):E=="-"?C=-1:k===void 0?n.hasOwnProperty(E)?(U+=n[E],k=parseInt(U,16)*C,C=1,U=""):U+=E:n.hasOwnProperty(E)?(oe+=n[E],P[k]=parseInt(oe,16)*C,C=1,k=void 0,oe=""):oe+=E;return j},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},y={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(S){var h=S.font,A=y.Unicode[h.postScriptName];A&&(h.metadata.Unicode={},h.metadata.Unicode.widths=A.widths,h.metadata.Unicode.kerning=A.kerning);var k=v.Unicode[h.postScriptName];k&&(h.metadata.Unicode.encoding=k,h.encoding=k.codePages[0])}])})(bt.API),(function(r){var e=function(t){for(var n=t.length,o=new Uint8Array(n),a=0;a<n;a++)o[a]=t.charCodeAt(a);return o};r.API.events.push(["addFont",function(t){var n=void 0,o=t.font,a=t.instance;if(!o.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(n=a.existsFileInVFS(o.postScriptName)===!1?a.loadFile(o.postScriptName):a.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Bh(c)),l.metadata=r.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(o,n)}}])})(bt),bt.API.addSvgAsImage=function(r,e,t,n,o,a,l,c){if(isNaN(e)||isNaN(t))throw Rr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(o))throw Rr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=o;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Ft.canvg?Promise.resolve(Ft.canvg):jp(()=>import("./index.es-Sli9Kj_m.js"),[])).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(p,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(v)}).then(function(){y.addImage(d.toDataURL("image/jpeg",1),e,t,n,o,l,c)})},bt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var o=0;o<this.internal.pages[n].length;o++)this.internal.pages[n][o]=this.internal.pages[n][o].replace(e,t);return this},bt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,o,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],p=0,v=0,y=0;function S(A,k){var E,j=!1;for(E=0;E<A.length;E+=1)A[E]===k&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var h=c.length;for(y=0;y<h;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(Cr(r)==="object"){for(o in r)if(a=r[o],S(c,o)&&a!==void 0){if(t[o].type==="boolean"&&typeof a=="boolean")t[o].value=a;else if(t[o].type==="name"&&S(t[o].valueSet,a))t[o].value=a;else if(t[o].type==="integer"&&Number.isInteger(a))t[o].value=a;else if(t[o].type==="array"){for(p=0;p<a.length;p+=1)if(n=!0,a[p].length===1&&typeof a[p][0]=="number")d.push(String(a[p]-1));else if(a[p].length>1){for(v=0;v<a[p].length;v+=1)typeof a[p][v]!="number"&&(n=!1);n===!0&&d.push([a[p][0]-1,a[p][1]-1].join(" "))}t[o].value="["+d.join(" ")+"]"}else t[o].value=t[o].defaultValue;t[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,k=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?k.push("/"+A+" /"+t[A].value):k.push("/"+A+" "+t[A].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=a.length+l.length+c.length+o.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(o+a+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(bt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(a,l){for(var c,d=l.metadata.Unicode.widths,p=["","0","00","000","0000"],v=[""],y=0,S=a.length;y<S;++y){if(c=l.metadata.characterToGlyph(a.charCodeAt(y)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(y),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return v.join("");c=c.toString(16),v.push(p[4-c.length],c)}return v.join("")},n=function(a){var l,c,d,p,v,y,S;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],y=0,S=(c=Object.keys(a).sort(function(h,A){return h-A})).length;y<S;y++)l=c[y],d.length>=100&&(v+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(p=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+p+">"));return d.length&&(v+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,d=l.out,p=l.newObject,v=l.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,S=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),h="",A=0;A<S.length;A++)h+=String.fromCharCode(S[A]);var k=p();v({data:h,addLength1:!0,objectId:k}),d("endobj");var E=p();v({data:n(c.metadata.toUnicode),addLength1:!0,objectId:E}),d("endobj");var j=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+mu(c.fontName)),d("/FontFile2 "+k+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var C=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+mu(c.fontName)),d("/FontDescriptor "+j+" 0 R"),d("/W "+r.API.PDFObject.convert(y)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+E+" 0 R"),d("/BaseFont /"+mu(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+C+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,d=l.out,p=l.newObject,v=l.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,S="",h=0;h<y.length;h++)S+=String.fromCharCode(y[h]);var A=p();v({data:S,addLength1:!0,objectId:A}),d("endobj");var k=p();v({data:n(c.metadata.toUnicode),addLength1:!0,objectId:k}),d("endobj");var E=p();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+A+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+mu(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=p();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+mu(c.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]);var o=function(a){var l,c=a.text||"",d=a.x,p=a.y,v=a.options||{},y=a.mutex||{},S=y.pdfEscape,h=y.activeFontKey,A=y.fonts,k=h,E="",j=0,C="",P=A[k].encoding;if(A[k].encoding!=="Identity-H")return{text:c,x:d,y:p,options:v,mutex:y};for(C=c,k=h,Array.isArray(c)&&(C=c[0]),j=0;j<C.length;j+=1)A[k].metadata.hasOwnProperty("cmap")&&(l=A[k].metadata.cmap.unicode.codeMap[C[j].charCodeAt(0)]),l||C[j].charCodeAt(0)<256&&A[k].metadata.hasOwnProperty("Unicode")?E+=C[j]:E+="";var R="";return parseInt(k.slice(1))<14||P==="WinAnsiEncoding"?R=S(E,k).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(R=t(E,A[k])),y.isHex=!0,{text:R,x:d,y:p,options:v,mutex:y}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],d={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?c.push([o(Object.assign({},d,{text:l[p][0]})).text,l[p][1],l[p][2]]):c.push(o(Object.assign({},d,{text:l[p]})).text);a.text=c}else a.text=o(Object.assign({},d,{text:l})).text}])})(bt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(bt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var o,a,l,c,d,p,v,y=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,P=0;this.__bidiEngine__={};var R=function(O){var F=O.charCodeAt(),J=F>>8,X=k[J];return X!==void 0?y[256*X+(255&F)]:J===252||J===253?"AL":j.test(J)?"L":J===8?"R":"N"},U=function(O){for(var F,J=0;J<O.length;J++){if((F=R(O.charAt(J)))==="L")return!1;if(F==="R")return!0}return!1},oe=function(O,F,J,X){var fe,de,ye,$,he=F[X];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(he="AN");break;case"AL":C=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":X<1||X+1>=F.length||(fe=J[X-1])!=="EN"&&fe!=="AN"||(de=F[X+1])!=="EN"&&de!=="AN"?he="N":C&&(de="AN"),he=de===fe?de:"N";break;case"ES":he=(fe=X>0?J[X-1]:"B")==="EN"&&X+1<F.length&&F[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&J[X-1]==="EN"){he="EN";break}if(C){he="N";break}for(ye=X+1,$=F.length;ye<$&&F[ye]==="ET";)ye++;he=ye<$&&F[ye]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for($=F.length,ye=X+1;ye<$&&F[ye]==="NSM";)ye++;if(ye<$){var xe=O[X],G=xe>=1425&&xe<=2303||xe===64286;if(fe=F[ye],G&&(fe==="R"||fe==="AL")){he="R";break}}}he=X<1||(fe=F[X-1])==="B"?"N":J[X-1];break;case"B":C=!1,o=!0,he=P;break;case"S":a=!0,he="N"}return he},Q=function(O,F,J){var X=O.split("");return J&&W(X,J,{hiLevel:P}),X.reverse(),F&&F.reverse(),X.join("")},W=function(O,F,J){var X,fe,de,ye,$,he=-1,xe=O.length,G=0,T=[],q=P?h:S,Y=[];for(C=!1,o=!1,a=!1,fe=0;fe<xe;fe++)Y[fe]=R(O[fe]);for(de=0;de<xe;de++){if($=G,T[de]=oe(O,Y,T,de),X=240&(G=q[$][A[T[de]]]),G&=15,F[de]=ye=q[G][5],X>0)if(X===16){for(fe=he;fe<de;fe++)F[fe]=1;he=-1}else he=-1;if(q[G][6])he===-1&&(he=de);else if(he>-1){for(fe=he;fe<de;fe++)F[fe]=ye;he=-1}Y[de]==="B"&&(F[de]=0),J.hiLevel|=ye}a&&(function(ae,le,re){for(var ue=0;ue<re;ue++)if(ae[ue]==="S"){le[ue]=P;for(var me=ue-1;me>=0&&ae[me]==="WS";me--)le[me]=P}})(Y,F,xe)},H=function(O,F,J,X,fe){if(!(fe.hiLevel<O)){if(O===1&&P===1&&!o)return F.reverse(),void(J&&J.reverse());for(var de,ye,$,he,xe=F.length,G=0;G<xe;){if(X[G]>=O){for($=G+1;$<xe&&X[$]>=O;)$++;for(he=G,ye=$-1;he<ye;he++,ye--)de=F[he],F[he]=F[ye],F[ye]=de,J&&(de=J[he],J[he]=J[ye],J[ye]=de);G=$}G++}}},se=function(O,F,J){var X=O.split(""),fe={hiLevel:P};return J||(J=[]),W(X,J,fe),(function(de,ye,$){if($.hiLevel!==0&&v)for(var he,xe=0;xe<de.length;xe++)ye[xe]===1&&(he=E.indexOf(de[xe]))>=0&&(de[xe]=E[he+1])})(X,J,fe),H(2,X,F,J,fe),H(1,X,F,J,fe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(O,F,J){if((function(fe,de){if(de)for(var ye=0;ye<fe.length;ye++)de[ye]=ye;c===void 0&&(c=U(fe)),p===void 0&&(p=U(fe))})(O,F),l||!d||p)if(l&&d&&c^p)P=c?1:0,O=Q(O,F,J);else if(!l&&d&&p)P=c?1:0,O=se(O,F,J),O=Q(O,F);else if(!l||c||d||p){if(l&&!d&&c^p)O=Q(O,F),c?(P=0,O=se(O,F,J)):(P=1,O=se(O,F,J),O=Q(O,F));else if(l&&c&&!d&&p)P=1,O=se(O,F,J),O=Q(O,F);else if(!l&&!d&&c^p){var X=v;c?(P=1,O=se(O,F,J),P=0,v=!1,O=se(O,F,J),v=X):(P=0,O=se(O,F,J),O=Q(O,F),P=1,v=!1,O=se(O,F,J),v=X,O=Q(O,F))}}else P=0,O=se(O,F,J);else P=c?1:0,O=se(O,F,J);return O},this.__bidiEngine__.setOptions=function(O){O&&(l=O.isInputVisual,d=O.isOutputVisual,c=O.isInputRtl,p=O.isOutputRtl,v=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var o=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(o)==="[object Array]"){var c=0;for(l=[],c=0;c<o.length;c+=1)Object.prototype.toString.call(o[c])==="[object Array]"?l.push([t.doBidiReorder(o[c][0]),o[c][1],o[c][2]]):l.push([t.doBidiReorder(o[c])]);n.text=l}else n.text=t.doBidiReorder(o);t.setOptions({isInputVisual:!0})}])})(bt),bt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Ll(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new aA(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new G6(this.contents),this.head=new J6(this),this.name=new eA(this),this.cmap=new A5(this),this.toUnicode={},this.hhea=new Y6(this),this.maxp=new tA(this),this.hmtx=new rA(this),this.post=new Q6(this),this.os2=new X6(this),this.loca=new oA(this),this.glyf=new nA(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,o,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,p;for(p=[],l=0,c=(d=this.bbox).length;l<c;l++)e=d[l],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(n=255&(o=this.post.italic_angle),32768&(t=o>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var o,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)o=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(o))+n*(1e3/t)||0;return l*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var go,Ll=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,o;for(o=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)o.push(this.writeByte(e.charCodeAt(t)));return o},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,o,a,l,c,d;return e=this.readByte(),t=this.readByte(),n=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^o)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*o+16777216*a+65536*l+256*c+d},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,o,a;for(a=[],n=0,o=e.length;n<o;n++)t=e[n],a.push(this.writeByte(t));return a},r})(),G6=(function(){var r;function e(t){var n,o,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},o=0,a=this.tableCount;0<=a?o<a:o>a;o=0<=a?++o:--o)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,o,a,l,c,d,p,v,y,S,h,A,k;for(k in h=Object.keys(t).length,d=Math.log(2),y=16*Math.floor(Math.log(h)/d),l=Math.floor(y/d),v=16*h-y,(o=new Ll).writeInt(this.scalarType),o.writeShort(h),o.writeShort(y),o.writeShort(l),o.writeShort(v),a=16*h,p=o.pos+a,c=null,A=[],t)for(S=t[k],o.writeString(k),o.writeInt(r(S)),o.writeInt(p),o.writeInt(S.length),A=A.concat(S),k==="head"&&(c=p),p+=S.length;p%4;)A.push(0),p++;return o.write(A),n=2981146554-r(o.data),o.pos=c+8,o.writeUInt32(n),o.data},r=function(t){var n,o,a,l;for(t=E5.call(t);t.length%4;)t.push(0);for(a=new Ll(t),o=0,n=0,l=t.length;n<l;n=n+=4)o+=a.readUInt32();return 4294967295&o},e})(),K6={}.hasOwnProperty,Ho=function(r,e){for(var t in e)K6.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};go=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var J6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Ll).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Dv=(function(){function r(e,t){var n,o,a,l,c,d,p,v,y,S,h,A,k,E,j,C,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(h=e.readUInt16(),S=h/2,e.pos+=6,a=(function(){var R,U;for(U=[],d=R=0;0<=S?R<S:R>S;d=0<=S?++R:--R)U.push(e.readUInt16());return U})(),e.pos+=2,k=(function(){var R,U;for(U=[],d=R=0;0<=S?R<S:R>S;d=0<=S?++R:--R)U.push(e.readUInt16());return U})(),p=(function(){var R,U;for(U=[],d=R=0;0<=S?R<S:R>S;d=0<=S?++R:--R)U.push(e.readUInt16());return U})(),v=(function(){var R,U;for(U=[],d=R=0;0<=S?R<S:R>S;d=0<=S?++R:--R)U.push(e.readUInt16());return U})(),o=(this.length-e.pos+this.offset)/2,c=(function(){var R,U;for(U=[],d=R=0;0<=o?R<o:R>o;d=0<=o?++R:--R)U.push(e.readUInt16());return U})(),d=j=0,P=a.length;j<P;d=++j)for(E=a[d],n=C=A=k[d];A<=E?C<=E:C>=E;n=A<=E?++C:--C)v[d]===0?l=n+p[d]:(l=c[v[d]/2+(n-A)-(S-d)]||0)!==0&&(l+=p[d]),this.codeMap[n]=65535&l}e.pos=y}return r.encode=function(e,t){var n,o,a,l,c,d,p,v,y,S,h,A,k,E,j,C,P,R,U,oe,Q,W,H,se,O,F,J,X,fe,de,ye,$,he,xe,G,T,q,Y,ae,le,re,ue,me,_e,Pe,Me;switch(X=new Ll,l=Object.keys(e).sort(function($e,Ke){return $e-Ke}),t){case"macroman":for(k=0,E=(function(){var $e=[];for(A=0;A<256;++A)$e.push(0);return $e})(),C={0:0},a={},fe=0,he=l.length;fe<he;fe++)C[me=e[o=l[fe]]]==null&&(C[me]=++k),a[o]={old:e[o],new:C[e[o]]},E[o]=C[e[o]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(E),{charMap:a,subtable:X.data,maxGlyphID:k+1};case"unicode":for(F=[],y=[],P=0,C={},n={},j=p=null,de=0,xe=l.length;de<xe;de++)C[U=e[o=l[de]]]==null&&(C[U]=++P),n[o]={old:U,new:C[U]},c=C[U]-o,j!=null&&c===p||(j&&y.push(j),F.push(o),p=c),j=o;for(j&&y.push(j),y.push(65535),F.push(65535),se=2*(H=F.length),W=2*Math.pow(Math.log(H)/Math.LN2,2),S=Math.log(W/2)/Math.LN2,Q=2*H-W,d=[],oe=[],h=[],A=ye=0,G=F.length;ye<G;A=++ye){if(O=F[A],v=y[A],O===65535){d.push(0),oe.push(0);break}if(O-(J=n[O].new)>=32768)for(d.push(0),oe.push(2*(h.length+H-A)),o=$=O;O<=v?$<=v:$>=v;o=O<=v?++$:--$)h.push(n[o].new);else d.push(J-O),oe.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*H+2*h.length),X.writeUInt16(0),X.writeUInt16(se),X.writeUInt16(W),X.writeUInt16(S),X.writeUInt16(Q),re=0,T=y.length;re<T;re++)o=y[re],X.writeUInt16(o);for(X.writeUInt16(0),ue=0,q=F.length;ue<q;ue++)o=F[ue],X.writeUInt16(o);for(_e=0,Y=d.length;_e<Y;_e++)c=d[_e],X.writeUInt16(c);for(Pe=0,ae=oe.length;Pe<ae;Pe++)R=oe[Pe],X.writeUInt16(R);for(Me=0,le=h.length;Me<le;Me++)k=h[Me],X.writeUInt16(k);return{charMap:n,subtable:X.data,maxGlyphID:P+1}}},r})(),A5=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,o;for(e.pos=this.offset,this.version=e.readUInt16(),o=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=o?n<o:n>o;n=0<=o?++n:--n)t=new Dv(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,o;return t==null&&(t="macroman"),n=Dv.encode(e,t),(o=new Ll).writeUInt16(0),o.writeUInt16(1),n.table=o.data.concat(n.subtable),n},r})(),Y6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),X6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),Q6=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,o;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],o=[];e.pos<this.offset+this.length;)t=e.readByte(),o.push(this.names.push(e.readString(t)));return o;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var l,c,d;for(d=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)d.push(e.readUInt32());return d}).call(this)}},r})(),Z6=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},eA=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,o,a,l,c,d,p,v,y,S;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(d={},a=v=0,y=n.length;v<y;a=++v)o=n[a],e.pos=o.offset,p=e.readString(o.length),l=new Z6(p,o),d[S=o.nameID]==null&&(d[S]=[]),d[o.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r})(),tA=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),rA=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,o,a,l,c,d;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,v;for(v=[],t=p=0;0<=o?p<o:p>o;t=0<=o?++p:--p)v.push(e.readInt16());return v})(),this.widths=(function(){var p,v,y,S;for(S=[],p=0,v=(y=this.metrics).length;p<v;p++)a=y[p],S.push(a.advance);return S}).call(this),n=this.widths[this.widths.length-1],d=[],t=l=0;0<=o?l<o:l>o;t=0<=o?++l:--l)d.push(this.widths.push(n));return d},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),E5=[].slice,nA=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,o,a,l,c,d,p,v,y;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),(o=a.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,l=(c=new Ll(t.read(o))).readShort(),p=c.readShort(),y=c.readShort(),d=c.readShort(),v=c.readShort(),this.cache[e]=l===-1?new sA(c,p,y,d,v):new iA(c,l,p,y,d,v),this.cache[e]))},r.prototype.encode=function(e,t,n){var o,a,l,c,d;for(l=[],a=[],c=0,d=t.length;c<d;c++)o=e[t[c]],a.push(l.length),o&&(l=l.concat(o.encode(n)));return a.push(l.length),{table:l,offsets:a}},r})(),iA=(function(){function r(e,t,n,o,a,l){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=o,this.xMax=a,this.yMax=l,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),sA=(function(){function r(e,t,n,o,a){var l,c;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=o,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Ll(E5.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),oA=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Ho(r,go),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var o,a;for(a=[],n=0,o=this.length;n<o;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var o,a;for(a=[],n=0,o=this.length;n<o;n+=4)a.push(e.readUInt32());return a}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),o=0,a=0,l=0;l<n.length;++l)if(n[l]=o,a<t.length&&t[a]==l){++a,n[l]=o;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(o+=d)}for(var p=new Array(4*n.length),v=0;v<n.length;++v)p[4*v+3]=255&n[v],p[4*v+2]=(65280&n[v])>>8,p[4*v+1]=(16711680&n[v])>>16,p[4*v]=(4278190080&n[v])>>24;return p},r})(),aA=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,o,a;for(t in o=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=o[n];return e},r.prototype.glyphsFor=function(e){var t,n,o,a,l,c,d;for(o={},l=0,c=e.length;l<c;l++)o[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],o)(n=o[a])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in d=this.glyphsFor(t))n=d[a],o[a]=n;return o},r.prototype.encode=function(e,t){var n,o,a,l,c,d,p,v,y,S,h,A,k,E,j;for(o in n=A5.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),h={0:0},j=n.charMap)h[(d=j[o]).old]=d.new;for(A in S=n.maxGlyphID,l)A in h||(h[A]=S++);return v=(function(C){var P,R;for(P in R={},C)R[C[P]]=P;return R})(h),y=Object.keys(v).sort(function(C,P){return C-P}),k=(function(){var C,P,R;for(R=[],C=0,P=y.length;C<P;C++)c=y[C],R.push(v[c]);return R})(),a=this.font.glyf.encode(l,k,h),p=this.font.loca.encode(a.offsets,k),E={cmap:this.font.cmap.raw(),glyf:a.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},r})();bt.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,o,a,l;if(Array.isArray(t))return"["+(function(){var c,d,p;for(p=[],c=0,d=t.length;c<d;c++)n=t[c],p.push(e.convert(n));return p})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(o in a=["<<"],t)l=t[o],a.push("/"+o+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e})();const lA=({quotationId:r,onNavigate:e})=>{const{accessToken:t}=Wo(),[n,o]=ne.useState(null),[a,l]=ne.useState(null),[c,d]=ne.useState(!0);ne.useEffect(()=>{p()},[r,t]);const p=async()=>{if(t)try{const[h,A]=await Promise.all([On.getQuotation(t,r),On.getProfile(t)]);o(h.quotation),l(A.profile)}catch(h){console.error("Error fetching data:",h)}finally{d(!1)}},v=async()=>{if(confirm("Weet je zeker dat je deze offerte wilt verwijderen?")&&t)try{await On.deleteQuotation(t,r),e("quotations")}catch(h){console.error("Error deleting quotation:",h)}},y=async()=>{if(confirm("Wil je deze offerte omzetten naar een factuur?")&&t)try{const h=await On.convertQuotationToInvoice(t,r);alert(`Factuur ${h.invoice.invoiceNumber} is aangemaakt!`),e(`invoice-detail-${h.invoice.id}`)}catch(h){console.error("Error converting to invoice:",h),alert("Er is een fout opgetreden bij het omzetten naar factuur.")}},S=async()=>{if(!n||!a){alert("Gegevens worden geladen, probeer het over een moment opnieuw.");return}try{console.log("Starting PDF export...");const h=new bt,A=h.internal.pageSize.getWidth(),k=h.internal.pageSize.getHeight(),E=20,j=120;let C=E;const P=[0,102,153],R=[100,100,100],U=[40,40,40],oe=[180,80,60];if(a.logo)try{h.addImage(a.logo,"AUTO",E,C,50,25,void 0,"FAST")}catch(ue){console.log("Could not add logo:",ue),h.setFontSize(20),h.setFont("helvetica","bold"),h.setTextColor(...P),h.text(a.companyName||"Bedrijfsnaam",E,C+15)}else h.setFontSize(20),h.setFont("helvetica","bold"),h.setTextColor(...P),h.text(a.companyName||"Bedrijfsnaam",E,C+15);h.setFontSize(10),h.setFont("helvetica","bold"),h.setTextColor(...U),h.text(a.companyName||"",j,C+5),h.setFont("helvetica","normal"),h.setTextColor(...R);let Q=C+12;a.address&&a.address.split(`
`).forEach(me=>{h.text(me,j,Q),Q+=5}),Q+=2,a.phone&&(h.text(a.phone,j,Q),Q+=5),a.email&&(h.setTextColor(...P),h.text(a.email,j,Q),Q+=7),h.setTextColor(...R),a.kvkNumber&&(h.text(`KvK: ${a.kvkNumber}`,j,Q),Q+=5),a.vatNumber&&h.text(a.vatNumber,j,Q),C+=50,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...U),h.text(n.clientName,E,C),C+=5,h.setTextColor(...R),n.clientAddress.split(`
`).forEach(ue=>{h.text(ue,E,C),C+=5}),C+=20,h.setFontSize(24),h.setFont("helvetica","bold"),h.setTextColor(...U),h.text("Offerte",E,C),C+=12,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...R);const H=E,se=E+35;h.text("Offertenummer:",H,C),h.setTextColor(...U),h.text(n.quotationNumber,se,C),C+=6,h.setTextColor(...R),h.text("Offertedatum:",H,C),h.setTextColor(...U),h.text(new Date(n.date).toLocaleDateString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric"}),se,C),C+=6;const O=n.expiryDate?new Date(n.expiryDate):(()=>{const ue=new Date(n.date);return ue.setDate(ue.getDate()+30),ue})();h.setTextColor(...R),h.text("Geldig tot:",H,C),h.setTextColor(...U),h.text(O.toLocaleDateString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric"}),se,C),C+=15;const F=E,J=115,X=145,fe=A-E;h.setDrawColor(...P),h.setLineWidth(.5),h.line(E,C,A-E,C),C+=6,h.setFontSize(9),h.setFont("helvetica","normal"),h.setTextColor(...P),h.text("Omschrijving",F,C),h.text("Bedrag",J,C),h.text("Aantal",X,C),h.text("Totaal",fe,C,{align:"right"}),C+=4,h.setDrawColor(...P),h.line(E,C,A-E,C),C+=8;const de=ue=>ue.toLocaleString("nl-NL",{minimumFractionDigits:2,maximumFractionDigits:2});h.setTextColor(...U),h.setFontSize(10);const ye=n.lineItems&&n.lineItems.length>0?n.lineItems:[{description:n.description,unitPrice:n.price,quantity:1,vatPercentage:n.vatPercentage}];ye.forEach(ue=>{const me=(parseFloat(ue.unitPrice)||0)*(parseFloat(ue.quantity)||1);C>k-80&&(h.addPage(),C=E);const _e=h.splitTextToSize(ue.description||"",85);if(h.setTextColor(...U),h.setFontSize(10),h.text(_e[0]||"",F,C),h.text("",J,C),h.text(de(parseFloat(ue.unitPrice)||0),J+8,C),h.text(String(ue.quantity||1),X,C),h.text("",fe-25,C),h.text(de(me),fe,C,{align:"right"}),_e.length>1)for(let Pe=1;Pe<Math.min(_e.length,3);Pe++)C+=5,h.setTextColor(...R),h.setFontSize(9),h.text(_e[Pe],F,C);C+=8}),C+=10;const $=130,he=A-E;let xe=0;const G={};ye.forEach(ue=>{const me=(parseFloat(ue.unitPrice)||0)*(parseFloat(ue.quantity)||1);xe+=me;const _e=String(ue.vatPercentage||21);G[_e]||(G[_e]=0),G[_e]+=me*parseFloat(_e)/100});const T=Object.values(G).reduce((ue,me)=>ue+me,0),q=xe+T;h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...R),h.text("Subtotaal",$,C),h.text("",he-25,C),h.setTextColor(...U),h.text(de(xe),he,C,{align:"right"}),C+=7,Object.entries(G).forEach(([ue,me])=>{me>0&&(h.setTextColor(...R),h.text(`${ue}% btw`,$,C),h.text("",he-25,C),h.setTextColor(...U),h.text(de(me),he,C,{align:"right"}),C+=7)}),C+=5,h.setFont("helvetica","bold"),h.setTextColor(...U),h.text("Totaal",$,C),h.text("",he-30,C),h.setFontSize(12),h.text(de(q),he,C,{align:"right"});const Y=k-40;h.setFontSize(9),h.setFont("helvetica","italic"),h.setTextColor(...oe),h.splitTextToSize("Wij verzoeken u vriendelijk om bij akkoord deze offerte ondertekend te retourneren.",A-E*2).forEach((ue,me)=>{h.text(ue,A/2,Y+me*5,{align:"center"})});const re=`Offerte-${n.quotationNumber}.pdf`;console.log("Saving PDF as:",re),h.save(re),alert("PDF succesvol gedownload!")}catch(h){console.error("PDF export error:",h),alert("Er is een fout opgetreden bij het maken van de PDF. Probeer het opnieuw.")}};return c?w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:"Laden..."}):n?w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow-sm",children:w.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx(It,{variant:"ghost",onClick:()=>e("quotations"),children:" Terug naar Overzicht"}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx(It,{variant:"outline",onClick:()=>e(`edit-quotation-${r}`),children:"Bewerken"}),w.jsx(It,{onClick:S,children:"Download PDF"})]})]})})}),w.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:w.jsxs(gr,{className:"mb-6",children:[w.jsx(xi,{children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx(_i,{className:"text-2xl mb-2",children:"Offerte Details"}),w.jsx("p",{className:"text-gray-600",children:n.quotationNumber})]}),w.jsx("span",{className:`text-sm px-3 py-1 rounded ${Kh(n.status)}`,children:Gh(n.status)})]})}),w.jsxs(an,{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Klantgegevens"}),w.jsx("p",{className:"font-medium",children:n.clientName}),w.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:n.clientAddress})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Datum"}),w.jsx("p",{children:new Date(n.date).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Omschrijving Werkzaamheden"}),w.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n.description})]}),w.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{children:"Prijs excl. BTW:"}),w.jsxs("span",{children:["",n.price.toFixed(2)]})]}),w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("span",{children:["BTW (",n.vatPercentage,"%):"]}),w.jsxs("span",{children:["",eg(n.price,n.vatPercentage).toFixed(2)]})]}),w.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[w.jsx("span",{children:"Totaal incl. BTW:"}),w.jsxs("span",{children:["",Dy(n.price,n.vatPercentage).toFixed(2)]})]})]}),w.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[(n.status==="sent"||n.status==="accepted")&&w.jsx(It,{onClick:y,className:"bg-green-600 hover:bg-green-700",children:"Omzetten naar Factuur"}),w.jsx(It,{variant:"destructive",onClick:v,children:"Verwijderen"})]})]})]})})]}):w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"mb-4",children:"Offerte niet gevonden"}),w.jsx(It,{onClick:()=>e("quotations"),children:"Terug naar Overzicht"})]})})},Fv=()=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),description:"",unitPrice:"",quantity:"1",vatPercentage:"21"}),Mv=({invoiceId:r,onNavigate:e,onSaved:t})=>{const{accessToken:n,loading:o}=Wo(),[a,l]=ne.useState(!1),[c,d]=ne.useState(""),[p,v]=ne.useState(""),[y,S]=ne.useState([Fv()]),[h,A]=ne.useState({clientName:"",clientAddress:"",status:"draft",date:new Date().toISOString().split("T")[0],dueDate:"",paymentTermDays:"30",notes:""});ne.useEffect(()=>{if(!h.dueDate&&!r){const O=new Date;O.setDate(O.getDate()+30),A(F=>({...F,dueDate:O.toISOString().split("T")[0]}))}},[]),ne.useEffect(()=>{r&&k()},[r]);const k=async()=>{var O,F;if(!(!n||!r))try{const X=(await On.getInvoice(n,r)).invoice;A({clientName:X.clientName,clientAddress:X.clientAddress,status:X.status,date:X.date.split("T")[0],dueDate:X.dueDate?X.dueDate.split("T")[0]:"",paymentTermDays:String(X.paymentTermDays||30),notes:X.notes||""}),X.lineItems&&X.lineItems.length>0?S(X.lineItems.map(fe=>({...fe,unitPrice:String(fe.unitPrice),quantity:String(fe.quantity),vatPercentage:String(fe.vatPercentage)}))):S([{id:"1",description:X.description||"",unitPrice:((O=X.price)==null?void 0:O.toString())||"",quantity:"1",vatPercentage:((F=X.vatPercentage)==null?void 0:F.toString())||"21"}])}catch(J){console.error("Error fetching invoice:",J)}},E=()=>{S([...y,Fv()])},j=O=>{y.length>1&&S(y.filter(F=>F.id!==O))},C=(O,F,J)=>{S(y.map(X=>X.id===O?{...X,[F]:J}:X))},P=O=>{const F=parseFloat(O.unitPrice)||0,J=parseFloat(O.quantity)||0;return F*J},R=O=>{const F=P(O),J=parseFloat(O.vatPercentage)||0;return F*J/100},U=()=>y.reduce((O,F)=>O+P(F),0),oe=()=>{const O={};return y.forEach(F=>{const J=F.vatPercentage;O[J]||(O[J]=0),O[J]+=R(F)}),O},Q=()=>y.reduce((O,F)=>O+R(F),0),W=()=>U()+Q(),H=O=>{A(F=>{const J=new Date(F.date||new Date);return J.setDate(J.getDate()+parseInt(O)),{...F,paymentTermDays:O,dueDate:J.toISOString().split("T")[0]}})},se=async O=>{O.preventDefault(),d(""),v(""),l(!0);try{if(!n)throw new Error("Je bent niet ingelogd. Log opnieuw in.");const F=y.filter(fe=>fe.description.trim()&&parseFloat(fe.unitPrice)>0);if(F.length===0)throw new Error("Voeg minimaal n regel met omschrijving en prijs toe.");const J=F.map(fe=>fe.description).join(`
`),X={...h,description:J,price:U(),vatPercentage:21,paymentTermDays:parseInt(h.paymentTermDays),lineItems:F.map(fe=>({...fe,unitPrice:parseFloat(fe.unitPrice)||0,quantity:parseFloat(fe.quantity)||1,vatPercentage:parseFloat(fe.vatPercentage)||21}))};r?await On.updateInvoice(n,r,X):await On.createInvoice(n,X),v("Factuur succesvol opgeslagen!"),setTimeout(()=>{t?t():e("invoices")},1e3)}catch(F){console.error("Invoice save error:",F),d(F.message||"Er is een onbekende fout opgetreden bij het opslaan")}finally{l(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow-sm",children:w.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:w.jsx(It,{variant:"ghost",onClick:()=>e("dashboard"),children:" Terug naar Dashboard"})})}),w.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:w.jsxs(gr,{children:[w.jsxs(xi,{children:[w.jsx(_i,{children:r?"Factuur Bewerken":"Nieuwe Factuur"}),w.jsx(Xi,{children:"Vul de gegevens in voor je factuur"})]}),w.jsx(an,{children:w.jsxs("form",{onSubmit:se,className:"space-y-6",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Klantgegevens"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"clientName",children:"Klant Naam *"}),w.jsx(Yr,{id:"clientName",value:h.clientName,onChange:O=>A({...h,clientName:O.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"clientAddress",children:"Klant Adres *"}),w.jsx(Jh,{id:"clientAddress",value:h.clientAddress,onChange:O=>A({...h,clientAddress:O.target.value}),rows:3,required:!0})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Factuur Details"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"date",children:"Factuurdatum *"}),w.jsx(Yr,{id:"date",type:"date",value:h.date,onChange:O=>A({...h,date:O.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"paymentTermDays",children:"Betalingstermijn"}),w.jsxs(Ta,{value:h.paymentTermDays,onValueChange:H,children:[w.jsx(Ra,{children:w.jsx(Oa,{})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"14",children:"14 dagen"}),w.jsx(Jt,{value:"30",children:"30 dagen"}),w.jsx(Jt,{value:"60",children:"60 dagen"})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"dueDate",children:"Vervaldatum *"}),w.jsx(Yr,{id:"dueDate",type:"date",value:h.dueDate,onChange:O=>A({...h,dueDate:O.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"status",children:"Status *"}),w.jsxs(Ta,{value:h.status,onValueChange:O=>A({...h,status:O}),children:[w.jsx(Ra,{children:w.jsx(Oa,{})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"draft",children:"Concept"}),w.jsx(Jt,{value:"sent",children:"Verstuurd"}),w.jsx(Jt,{value:"paid",children:"Betaald"}),w.jsx(Jt,{value:"overdue",children:"Vervallen"})]})]})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Werkzaamheden"}),w.jsx(It,{type:"button",variant:"outline",size:"sm",onClick:E,children:"+ Regel toevoegen"})]}),w.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-2 text-sm font-medium text-gray-600 px-2",children:[w.jsx("div",{className:"col-span-5",children:"Omschrijving"}),w.jsx("div",{className:"col-span-2",children:"Bedrag"}),w.jsx("div",{className:"col-span-2",children:"Aantal"}),w.jsx("div",{className:"col-span-2",children:"BTW"}),w.jsx("div",{className:"col-span-1"})]}),y.map((O,F)=>w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 p-3 bg-gray-50 rounded-lg",children:[w.jsxs("div",{className:"col-span-1 md:col-span-5",children:[w.jsx(dr,{className:"md:hidden text-xs text-gray-500",children:"Omschrijving"}),w.jsx(Yr,{placeholder:"Omschrijving werkzaamheden",value:O.description,onChange:J=>C(O.id,"description",J.target.value)})]}),w.jsxs("div",{className:"col-span-1 md:col-span-2",children:[w.jsx(dr,{className:"md:hidden text-xs text-gray-500",children:"Bedrag ()"}),w.jsx(Yr,{type:"number",step:"0.01",placeholder:"0,00",value:O.unitPrice,onChange:J=>C(O.id,"unitPrice",J.target.value)})]}),w.jsxs("div",{className:"col-span-1 md:col-span-2",children:[w.jsx(dr,{className:"md:hidden text-xs text-gray-500",children:"Aantal"}),w.jsx(Yr,{type:"number",step:"1",min:"1",placeholder:"1",value:O.quantity,onChange:J=>C(O.id,"quantity",J.target.value)})]}),w.jsxs("div",{className:"col-span-1 md:col-span-2",children:[w.jsx(dr,{className:"md:hidden text-xs text-gray-500",children:"BTW %"}),w.jsxs(Ta,{value:O.vatPercentage,onValueChange:J=>C(O.id,"vatPercentage",J),children:[w.jsx(Ra,{children:w.jsx(Oa,{})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"0",children:"0%"}),w.jsx(Jt,{value:"9",children:"9%"}),w.jsx(Jt,{value:"21",children:"21%"})]})]})]}),w.jsx("div",{className:"col-span-1 md:col-span-1 flex items-end justify-end md:justify-center",children:w.jsx(It,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(O.id),disabled:y.length===1,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:""})}),w.jsxs("div",{className:"col-span-1 md:hidden text-right text-sm font-medium text-gray-700",children:["Totaal: ",P(O).toFixed(2)]})]},O.id)),w.jsx(It,{type:"button",variant:"ghost",size:"sm",onClick:E,className:"w-full border-2 border-dashed",children:"+ Nog een regel toevoegen"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"notes",children:"Opmerkingen (optioneel)"}),w.jsx(Jh,{id:"notes",value:h.notes,onChange:O=>A({...h,notes:O.target.value}),rows:3,placeholder:"Extra opmerkingen voor op de factuur..."})]}),U()>0&&w.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-2",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{children:"Subtotaal:"}),w.jsxs("span",{children:["",U().toFixed(2)]})]}),Object.entries(oe()).map(([O,F])=>F>0&&w.jsxs("div",{className:"flex justify-between text-gray-600",children:[w.jsxs("span",{children:["BTW ",O,"%:"]}),w.jsxs("span",{children:["",F.toFixed(2)]})]},O)),w.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[w.jsx("span",{children:"Totaal incl. BTW:"}),w.jsxs("span",{children:["",W().toFixed(2)]})]})]}),c&&w.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:c}),p&&w.jsx("div",{className:"text-green-600 text-sm p-3 bg-green-50 rounded",children:p}),w.jsxs("div",{className:"flex space-x-4",children:[w.jsx(It,{type:"submit",disabled:a,children:a?"Bezig...":r?"Bijwerken":"Aanmaken"}),w.jsx(It,{type:"button",variant:"outline",onClick:()=>e("dashboard"),children:"Annuleren"})]})]})})]})})]})},Bv=r=>({draft:"Concept",sent:"Verstuurd",paid:"Betaald",overdue:"Vervallen"})[r]||r,Uv=r=>({draft:"bg-gray-100 text-gray-800",sent:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",cA=({onNavigate:r})=>{const{accessToken:e}=Wo(),[t,n]=ne.useState([]),[o,a]=ne.useState(!0),[l,c]=ne.useState(""),[d,p]=ne.useState("all"),[v,y]=ne.useState("date-desc"),[S,h]=ne.useState("grouped");ne.useEffect(()=>{A()},[e]);const A=async()=>{if(e)try{const P=await On.getInvoices(e),R=new Date,U=(P.invoices||[]).map(oe=>oe.status==="sent"&&oe.dueDate&&new Date(oe.dueDate)<R?{...oe,status:"overdue"}:oe);n(U)}catch(P){console.error("Error fetching invoices:",P)}finally{a(!1)}},k=ne.useMemo(()=>{let P=[...t];if(d!=="all"&&(P=P.filter(R=>R.status===d)),l){const R=l.toLowerCase();P=P.filter(U=>{var oe,Q,W;return((oe=U.clientName)==null?void 0:oe.toLowerCase().includes(R))||((Q=U.invoiceNumber)==null?void 0:Q.toLowerCase().includes(R))||((W=U.description)==null?void 0:W.toLowerCase().includes(R))})}return P.sort((R,U)=>{switch(v){case"date-desc":return new Date(U.date).getTime()-new Date(R.date).getTime();case"date-asc":return new Date(R.date).getTime()-new Date(U.date).getTime();case"due-desc":return new Date(U.dueDate||U.date).getTime()-new Date(R.dueDate||R.date).getTime();case"due-asc":return new Date(R.dueDate||R.date).getTime()-new Date(U.dueDate||U.date).getTime();case"price-desc":return(U.price||0)-(R.price||0);case"price-asc":return(R.price||0)-(U.price||0);case"client-asc":return(R.clientName||"").localeCompare(U.clientName||"");case"client-desc":return(U.clientName||"").localeCompare(R.clientName||"");default:return 0}}),P},[t,d,l,v]),E=ne.useMemo(()=>{const P={};return k.forEach(R=>{const oe=new Date(R.date).toLocaleDateString("nl-NL",{month:"long",year:"numeric"});P[oe]||(P[oe]=[]),P[oe].push(R)}),P},[k]),j=ne.useMemo(()=>{const P=k.reduce((Q,W)=>Q+(W.price||0),0),R=k.filter(Q=>Q.status==="paid").reduce((Q,W)=>Q+(W.price||0),0),U=k.filter(Q=>Q.status==="sent"||Q.status==="overdue").reduce((Q,W)=>Q+(W.price||0),0),oe={draft:k.filter(Q=>Q.status==="draft").length,sent:k.filter(Q=>Q.status==="sent").length,paid:k.filter(Q=>Q.status==="paid").length,overdue:k.filter(Q=>Q.status==="overdue").length};return{total:P,paidTotal:R,openTotal:U,byStatus:oe,count:k.length}},[k]),C=P=>new Date(P).toLocaleDateString("nl-NL",{day:"numeric",month:"short",year:"numeric"});return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow-sm",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Alle Facturen"}),w.jsxs("div",{className:"flex space-x-4",children:[w.jsx(It,{onClick:()=>r("create-invoice"),children:"+ Nieuwe Factuur"}),w.jsx(It,{variant:"outline",onClick:()=>r("dashboard"),children:"Dashboard"})]})]})})}),w.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Totaal waarde"}),w.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",j.total.toFixed(2)]})]})}),w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Betaald"}),w.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",j.paidTotal.toFixed(2)]})]})}),w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Open"}),w.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["",j.openTotal.toFixed(2)]})]})}),w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Verstuurd"}),w.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.byStatus.sent})]})}),w.jsx(gr,{className:"bg-white",children:w.jsxs(an,{className:"p-4",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Vervallen"}),w.jsx("p",{className:"text-2xl font-bold text-red-600",children:j.byStatus.overdue})]})})]}),w.jsx(gr,{className:"mb-6",children:w.jsxs(an,{className:"p-4",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsx(Yr,{placeholder:"Zoek op naam, nummer of omschrijving...",value:l,onChange:P=>c(P.target.value),className:"md:col-span-2"}),w.jsxs(Ta,{value:d,onValueChange:p,children:[w.jsx(Ra,{children:w.jsx(Oa,{placeholder:"Filter op status"})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"all",children:"Alle Statussen"}),w.jsx(Jt,{value:"draft",children:"Concept"}),w.jsx(Jt,{value:"sent",children:"Verstuurd"}),w.jsx(Jt,{value:"paid",children:"Betaald"}),w.jsx(Jt,{value:"overdue",children:"Vervallen"})]})]}),w.jsxs(Ta,{value:v,onValueChange:P=>y(P),children:[w.jsx(Ra,{children:w.jsx(Oa,{placeholder:"Sorteren"})}),w.jsxs(Ia,{children:[w.jsx(Jt,{value:"date-desc",children:"Nieuwste eerst"}),w.jsx(Jt,{value:"date-asc",children:"Oudste eerst"}),w.jsx(Jt,{value:"due-asc",children:"Vervaldatum oplopend"}),w.jsx(Jt,{value:"due-desc",children:"Vervaldatum aflopend"}),w.jsx(Jt,{value:"price-desc",children:"Hoogste bedrag"}),w.jsx(Jt,{value:"price-asc",children:"Laagste bedrag"}),w.jsx(Jt,{value:"client-asc",children:"Klant A-Z"}),w.jsx(Jt,{value:"client-desc",children:"Klant Z-A"})]})]})]}),w.jsxs("div",{className:"flex justify-between items-center mt-4",children:[w.jsxs("p",{className:"text-sm text-gray-500",children:[j.count," factuur/facturen gevonden"]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(It,{variant:S==="grouped"?"default":"outline",size:"sm",onClick:()=>h("grouped"),children:"Gegroepeerd"}),w.jsx(It,{variant:S==="list"?"default":"outline",size:"sm",onClick:()=>h("list"),children:"Lijst"})]})]})]})}),o?w.jsx("div",{className:"text-center py-8",children:"Laden..."}):k.length===0?w.jsx(gr,{children:w.jsxs(an,{className:"py-8 text-center",children:[w.jsx("p",{className:"text-gray-500 mb-4",children:t.length===0?"Nog geen facturen. Maak je eerste factuur aan!":"Geen facturen gevonden met deze filters."}),t.length===0&&w.jsx(It,{onClick:()=>r("create-invoice"),children:"Eerste Factuur Aanmaken"})]})}):S==="grouped"?w.jsx("div",{className:"space-y-6",children:Object.entries(E).map(([P,R])=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-700 capitalize",children:P}),w.jsxs("span",{className:"text-sm text-gray-500",children:[R.length," factuur/facturen - ",R.reduce((U,oe)=>U+(oe.price||0),0).toFixed(2)]})]}),w.jsx("div",{className:"space-y-2",children:R.map(U=>{var oe,Q;return w.jsx("div",{className:"bg-white rounded-lg border p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r(`invoice-detail-${U.id}`),children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-semibold ${U.status==="paid"?"bg-green-100 text-green-600":U.status==="overdue"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:((Q=(oe=U.clientName)==null?void 0:oe.charAt(0))==null?void 0:Q.toUpperCase())||"?"}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("p",{className:"font-medium",children:U.clientName}),w.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Uv(U.status)}`,children:Bv(U.status)})]}),w.jsxs("p",{className:"text-sm text-gray-500",children:[U.invoiceNumber,"  ",C(U.date),U.dueDate&&w.jsxs("span",{className:U.status==="overdue"?"text-red-500":"",children:[" "," Vervalt: ",C(U.dueDate)]})]})]})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("p",{className:"text-lg font-bold",children:["",(U.price||0).toFixed(2)]}),w.jsx("p",{className:"text-xs text-gray-500",children:"excl. BTW"})]})]})},U.id)})})]},P))}):w.jsx(gr,{children:w.jsx(an,{className:"p-0",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50 border-b",children:w.jsxs("tr",{children:[w.jsx("th",{className:"text-left p-4 font-medium text-gray-600",children:"Klant"}),w.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden md:table-cell",children:"Nummer"}),w.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden md:table-cell",children:"Datum"}),w.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden lg:table-cell",children:"Vervaldatum"}),w.jsx("th",{className:"text-left p-4 font-medium text-gray-600",children:"Status"}),w.jsx("th",{className:"text-right p-4 font-medium text-gray-600",children:"Bedrag"})]})}),w.jsx("tbody",{children:k.map((P,R)=>w.jsxs("tr",{className:`border-b hover:bg-gray-50 cursor-pointer ${R%2===0?"bg-white":"bg-gray-50/50"}`,onClick:()=>r(`invoice-detail-${P.id}`),children:[w.jsxs("td",{className:"p-4",children:[w.jsx("p",{className:"font-medium",children:P.clientName}),w.jsx("p",{className:"text-sm text-gray-500 md:hidden",children:P.invoiceNumber})]}),w.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:P.invoiceNumber}),w.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:C(P.date)}),w.jsx("td",{className:`p-4 hidden lg:table-cell ${P.status==="overdue"?"text-red-600":"text-gray-600"}`,children:P.dueDate?C(P.dueDate):"-"}),w.jsx("td",{className:"p-4",children:w.jsx("span",{className:`text-xs px-2 py-1 rounded ${Uv(P.status)}`,children:Bv(P.status)})}),w.jsxs("td",{className:"p-4 text-right font-medium",children:["",(P.price||0).toFixed(2)]})]},P.id))})]})})})]})]})},uA=r=>({draft:"Concept",sent:"Verstuurd",paid:"Betaald",overdue:"Vervallen"})[r]||r,dA=r=>({draft:"bg-gray-100 text-gray-800",sent:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",hA=({invoiceId:r,onNavigate:e})=>{const{accessToken:t}=Wo(),[n,o]=ne.useState(null),[a,l]=ne.useState(null),[c,d]=ne.useState(!0);ne.useEffect(()=>{p()},[r,t]);const p=async()=>{if(t)try{const[h,A]=await Promise.all([On.getInvoice(t,r),On.getProfile(t)]);o(h.invoice),l(A.profile)}catch(h){console.error("Error fetching data:",h)}finally{d(!1)}},v=async()=>{if(confirm("Weet je zeker dat je deze factuur wilt verwijderen?")&&t)try{await On.deleteInvoice(t,r),e("invoices")}catch(h){console.error("Error deleting invoice:",h)}},y=async()=>{if(t)try{await On.updateInvoice(t,r,{status:"paid",paidDate:new Date().toISOString()}),p()}catch(h){console.error("Error updating invoice:",h)}},S=async()=>{if(!n||!a){alert("Gegevens worden geladen, probeer het over een moment opnieuw.");return}try{console.log("Starting PDF export...");const h=new bt,A=h.internal.pageSize.getWidth(),k=h.internal.pageSize.getHeight(),E=20,j=120;let C=E;const P=[0,102,153],R=[100,100,100],U=[40,40,40],oe=[34,139,34];if(a.logo)try{h.addImage(a.logo,"AUTO",E,C,50,25,void 0,"FAST")}catch(re){console.log("Could not add logo:",re),h.setFontSize(20),h.setFont("helvetica","bold"),h.setTextColor(...P),h.text(a.companyName||"Bedrijfsnaam",E,C+15)}else h.setFontSize(20),h.setFont("helvetica","bold"),h.setTextColor(...P),h.text(a.companyName||"Bedrijfsnaam",E,C+15);h.setFontSize(10),h.setFont("helvetica","bold"),h.setTextColor(...U),h.text(a.companyName||"",j,C+5),h.setFont("helvetica","normal"),h.setTextColor(...R);let Q=C+12;a.address&&a.address.split(`
`).forEach(ue=>{h.text(ue,j,Q),Q+=5}),Q+=2,a.phone&&(h.text(a.phone,j,Q),Q+=5),a.email&&(h.setTextColor(...P),h.text(a.email,j,Q),Q+=7),h.setTextColor(...R),a.kvkNumber&&(h.text(`KvK: ${a.kvkNumber}`,j,Q),Q+=5),a.vatNumber&&(h.text(a.vatNumber,j,Q),Q+=5),a.iban&&h.text(`IBAN: ${a.iban}`,j,Q),C+=50,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...U),h.text(n.clientName,E,C),C+=5,h.setTextColor(...R),n.clientAddress.split(`
`).forEach(re=>{h.text(re,E,C),C+=5}),C+=20,h.setFontSize(24),h.setFont("helvetica","bold"),h.setTextColor(...U),h.text("Factuur",E,C),n.status==="paid"&&(h.setFontSize(16),h.setFont("helvetica","bold"),h.setTextColor(...oe),h.text("BETAALD",A-E-30,C,{align:"right"})),C+=12,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...R);const H=E,se=E+35;h.text("Factuurnummer:",H,C),h.setTextColor(...U),h.text(n.invoiceNumber,se,C),C+=6,h.setTextColor(...R),h.text("Factuurdatum:",H,C),h.setTextColor(...U),h.text(new Date(n.date).toLocaleDateString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric"}),se,C),C+=6,n.dueDate&&(h.setTextColor(...R),h.text("Vervaldatum:",H,C),h.setTextColor(...U),h.text(new Date(n.dueDate).toLocaleDateString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric"}),se,C),C+=6),n.quotationNumber&&(h.setTextColor(...R),h.text("Offerte ref:",H,C),h.setTextColor(...U),h.text(n.quotationNumber,se,C),C+=6),C+=10;const O=E,F=115,J=145,X=A-E;h.setDrawColor(...P),h.setLineWidth(.5),h.line(E,C,A-E,C),C+=6,h.setFontSize(9),h.setFont("helvetica","normal"),h.setTextColor(...P),h.text("Omschrijving",O,C),h.text("Bedrag",F,C),h.text("Aantal",J,C),h.text("Totaal",X,C,{align:"right"}),C+=4,h.setDrawColor(...P),h.line(E,C,A-E,C),C+=8;const fe=re=>re.toLocaleString("nl-NL",{minimumFractionDigits:2,maximumFractionDigits:2});h.setTextColor(...U),h.setFontSize(10);const de=n.lineItems&&n.lineItems.length>0?n.lineItems:[{description:n.description,unitPrice:n.price,quantity:1,vatPercentage:n.vatPercentage}];de.forEach(re=>{const ue=(parseFloat(re.unitPrice)||0)*(parseFloat(re.quantity)||1);C>k-80&&(h.addPage(),C=E);const me=h.splitTextToSize(re.description||"",85);if(h.setTextColor(...U),h.setFontSize(10),h.text(me[0]||"",O,C),h.text("",F,C),h.text(fe(parseFloat(re.unitPrice)||0),F+8,C),h.text(String(re.quantity||1),J,C),h.text("",X-25,C),h.text(fe(ue),X,C,{align:"right"}),me.length>1)for(let _e=1;_e<Math.min(me.length,3);_e++)C+=5,h.setTextColor(...R),h.setFontSize(9),h.text(me[_e],O,C);C+=8}),C+=10;const ye=130,$=A-E;let he=0;const xe={};de.forEach(re=>{const ue=(parseFloat(re.unitPrice)||0)*(parseFloat(re.quantity)||1);he+=ue;const me=String(re.vatPercentage||21);xe[me]||(xe[me]=0),xe[me]+=ue*parseFloat(me)/100});const G=Object.values(xe).reduce((re,ue)=>re+ue,0),T=he+G;h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...R),h.text("Subtotaal",ye,C),h.text("",$-25,C),h.setTextColor(...U),h.text(fe(he),$,C,{align:"right"}),C+=7,Object.entries(xe).forEach(([re,ue])=>{ue>0&&(h.setTextColor(...R),h.text(`${re}% btw`,ye,C),h.text("",$-25,C),h.setTextColor(...U),h.text(fe(ue),$,C,{align:"right"}),C+=7)}),C+=5,h.setFont("helvetica","bold"),h.setTextColor(...U),h.text("Totaal",ye,C),h.text("",$-30,C),h.setFontSize(12),h.text(fe(T),$,C,{align:"right"}),C+=20,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...U),h.text("Betalingsgegevens:",E,C),C+=6,h.setTextColor(...R),a.iban&&(h.text(`IBAN: ${a.iban}`,E,C),C+=5),h.text(`t.n.v. ${a.companyName}`,E,C),C+=5,h.text(`o.v.v. ${n.invoiceNumber}`,E,C);const q=k-35;h.setFontSize(9),h.setFont("helvetica","italic"),h.setTextColor(...oe);const Y=`Wij verzoeken u vriendelijk het totaalbedrag van ${fe(T)} binnen ${n.paymentTermDays||30} dagen over te maken.`,ae=h.splitTextToSize(Y,A-E*2);if(ae.forEach((re,ue)=>{h.text(re,A/2,q+ue*5,{align:"center"})}),n.notes){h.setFontSize(8),h.setFont("helvetica","normal"),h.setTextColor(...R);const re=q+ae.length*5+5;h.splitTextToSize(`Opmerking: ${n.notes}`,A-E*2).forEach((me,_e)=>{h.text(me,A/2,re+_e*4,{align:"center"})})}const le=`Factuur-${n.invoiceNumber}.pdf`;console.log("Saving PDF as:",le),h.save(le),alert("PDF succesvol gedownload!")}catch(h){console.error("PDF export error:",h),alert("Er is een fout opgetreden bij het maken van de PDF. Probeer het opnieuw.")}};return c?w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:"Laden..."}):n?w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow-sm",children:w.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx(It,{variant:"ghost",onClick:()=>e("invoices"),children:" Terug naar Overzicht"}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx(It,{variant:"outline",onClick:()=>e(`edit-invoice-${r}`),children:"Bewerken"}),w.jsx(It,{onClick:S,children:"Download PDF"})]})]})})}),w.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:w.jsxs(gr,{className:"mb-6",children:[w.jsx(xi,{children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx(_i,{className:"text-2xl mb-2",children:"Factuur Details"}),w.jsx("p",{className:"text-gray-600",children:n.invoiceNumber}),n.quotationNumber&&w.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Op basis van offerte: ",n.quotationNumber]})]}),w.jsx("span",{className:`text-sm px-3 py-1 rounded ${dA(n.status)}`,children:uA(n.status)})]})}),w.jsxs(an,{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Klantgegevens"}),w.jsx("p",{className:"font-medium",children:n.clientName}),w.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:n.clientAddress})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Factuurdatum"}),w.jsx("p",{children:new Date(n.date).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})})]}),n.dueDate&&w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Vervaldatum"}),w.jsx("p",{children:new Date(n.dueDate).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Omschrijving Werkzaamheden"}),w.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n.description})]}),w.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-2",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{children:"Prijs excl. BTW:"}),w.jsxs("span",{children:["",n.price.toFixed(2)]})]}),w.jsxs("div",{className:"flex justify-between",children:[w.jsxs("span",{children:["BTW (",n.vatPercentage,"%):"]}),w.jsxs("span",{children:["",eg(n.price,n.vatPercentage).toFixed(2)]})]}),w.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[w.jsx("span",{children:"Totaal incl. BTW:"}),w.jsxs("span",{children:["",Dy(n.price,n.vatPercentage).toFixed(2)]})]})]}),n.notes&&w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold mb-2",children:"Opmerkingen"}),w.jsx("p",{className:"text-gray-700",children:n.notes})]}),w.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.status!=="paid"&&w.jsx(It,{onClick:y,className:"bg-green-600 hover:bg-green-700",children:"Markeer als Betaald"}),w.jsx(It,{variant:"destructive",onClick:v,children:"Verwijderen"})]})]})]})})]}):w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"mb-4",children:"Factuur niet gevonden"}),w.jsx(It,{onClick:()=>e("invoices"),children:"Terug naar Overzicht"})]})})},fA=500*1024,pA=({onNavigate:r})=>{const{accessToken:e}=Wo(),[t,n]=ne.useState(!1),[o,a]=ne.useState(!1),[l,c]=ne.useState(""),[d,p]=ne.useState(!1),[v,y]=ne.useState(null),S=ne.useRef(null),[h,A]=ne.useState({companyName:"",name:"",address:"",email:"",phone:"",kvkNumber:"",vatNumber:"",logo:""});ne.useEffect(()=>{k()},[e]);const k=async()=>{if(e){n(!0);try{const R=(await On.getProfile(e)).profile;A({companyName:R.companyName||"",name:R.name||"",address:R.address||"",email:R.email||"",phone:R.phone||"",kvkNumber:R.kvkNumber||"",vatNumber:R.vatNumber||"",logo:R.logo||""}),R.logo&&y(R.logo)}catch(P){console.error("Error fetching profile:",P)}finally{n(!1)}}},E=async P=>{P.preventDefault(),c(""),p(!1),a(!0);try{if(!e)throw new Error("Je bent niet ingelogd. Log opnieuw in.");await On.updateProfile(e,h),p(!0),setTimeout(()=>p(!1),3e3)}catch(R){console.error("Profile save error:",R),c(R.message||"Er is een fout opgetreden bij het opslaan")}finally{a(!1)}},j=P=>{var oe;const R=(oe=P.target.files)==null?void 0:oe[0];if(!R)return;if(R.size>fA){c("Logo is te groot. Maximaal 500KB toegestaan.");return}if(!R.type.startsWith("image/")){c("Alleen afbeeldingsbestanden zijn toegestaan.");return}const U=new FileReader;U.onload=Q=>{var H;const W=(H=Q.target)==null?void 0:H.result;y(W),A({...h,logo:W}),c("")},U.readAsDataURL(R)},C=()=>{y(null),A({...h,logo:""}),S.current&&(S.current.value="")};return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx("header",{className:"bg-white shadow-sm",children:w.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Instellingen"}),w.jsx(It,{variant:"outline",onClick:()=>r("dashboard"),children:"Terug naar Dashboard"})]})})}),w.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:w.jsxs(gr,{children:[w.jsxs(xi,{children:[w.jsx(_i,{children:"Bedrijfsgegevens"}),w.jsx(Xi,{children:"Deze gegevens worden gebruikt op je offertes"})]}),w.jsx(an,{children:t?w.jsx("div",{className:"text-center py-8",children:"Laden..."}):w.jsxs("form",{onSubmit:E,className:"space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"logo",children:"Bedrijfslogo"}),w.jsx("p",{className:"text-sm text-gray-500",children:"Dit logo wordt weergegeven op je offertes (max. 500KB)"}),w.jsxs("div",{className:"flex items-start gap-4",children:[v?w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:v,alt:"Logo preview",className:"h-24 w-auto max-w-48 object-contain border rounded p-2 bg-white"}),w.jsx("button",{type:"button",onClick:C,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600",children:""})]}):w.jsx("div",{className:"h-24 w-48 border-2 border-dashed rounded flex items-center justify-center text-gray-400 bg-gray-50",children:"Geen logo"}),w.jsxs("div",{children:[w.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:j,className:"hidden",id:"logo-upload"}),w.jsx(It,{type:"button",variant:"outline",onClick:()=>{var P;return(P=S.current)==null?void 0:P.click()},children:v?"Ander logo kiezen":"Logo uploaden"})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"companyName",children:"Bedrijfsnaam *"}),w.jsx(Yr,{id:"companyName",value:h.companyName,onChange:P=>A({...h,companyName:P.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"name",children:"Naam *"}),w.jsx(Yr,{id:"name",value:h.name,onChange:P=>A({...h,name:P.target.value}),required:!0})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"address",children:"Adres"}),w.jsx(Jh,{id:"address",value:h.address,onChange:P=>A({...h,address:P.target.value}),rows:3,placeholder:`Straat en huisnummer
Postcode en plaats`})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"email",children:"E-mail"}),w.jsx(Yr,{id:"email",type:"email",value:h.email,onChange:P=>A({...h,email:P.target.value})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"phone",children:"Telefoonnummer"}),w.jsx(Yr,{id:"phone",type:"tel",value:h.phone,onChange:P=>A({...h,phone:P.target.value})})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"kvkNumber",children:"KvK-nummer"}),w.jsx(Yr,{id:"kvkNumber",value:h.kvkNumber,onChange:P=>A({...h,kvkNumber:P.target.value})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(dr,{htmlFor:"vatNumber",children:"BTW-nummer (optioneel)"}),w.jsx(Yr,{id:"vatNumber",value:h.vatNumber,onChange:P=>A({...h,vatNumber:P.target.value})})]})]}),l&&w.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:l}),d&&w.jsx("div",{className:"text-green-600 text-sm p-3 bg-green-50 rounded",children:"Gegevens succesvol bijgewerkt!"}),w.jsx(It,{type:"submit",disabled:o,children:o?"Bezig met opslaan...":"Opslaan"})]})})]})})]})};function mA(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const gA=r=>{switch(r){case"success":return wA;case"info":return xA;case"warning":return bA;case"error":return _A;default:return null}},vA=Array(12).fill(0),yA=({visible:r,className:e})=>Ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},Ve.createElement("div",{className:"sonner-spinner"},vA.map((t,n)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),wA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_A=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),SA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),kA=()=>{const[r,e]=Ve.useState(document.hidden);return Ve.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let Om=1;class NA{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...o}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Om++,l=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:n}),{...d,...e,id:a,dismissible:c,title:n}):d):this.addToast({title:n,...o,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=n!==void 0,l;const c=o.then(async p=>{if(l=["resolve",p],Ve.isValidElement(p))a=!1,this.create({id:n,type:"default",message:p});else if(EA(p)&&!p.ok){a=!1;const y=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,S=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description,A=typeof y=="object"&&!Ve.isValidElement(y)?y:{message:y};this.create({id:n,type:"error",description:S,...A})}else if(p instanceof Error){a=!1;const y=typeof t.error=="function"?await t.error(p):t.error,S=typeof t.description=="function"?await t.description(p):t.description,A=typeof y=="object"&&!Ve.isValidElement(y)?y:{message:y};this.create({id:n,type:"error",description:S,...A})}else if(t.success!==void 0){a=!1;const y=typeof t.success=="function"?await t.success(p):t.success,S=typeof t.description=="function"?await t.description(p):t.description,A=typeof y=="object"&&!Ve.isValidElement(y)?y:{message:y};this.create({id:n,type:"success",description:S,...A})}}).catch(async p=>{if(l=["reject",p],t.error!==void 0){a=!1;const v=typeof t.error=="function"?await t.error(p):t.error,y=typeof t.description=="function"?await t.description(p):t.description,h=typeof v=="object"&&!Ve.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:y,...h})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((p,v)=>c.then(()=>l[0]==="reject"?v(l[1]):p(l[1])).catch(v));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,t)=>{const n=(t==null?void 0:t.id)||Om++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Qi=new NA,AA=(r,e)=>{const t=(e==null?void 0:e.id)||Om++;return Qi.addToast({title:r,...e,id:t}),t},EA=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",CA=AA,jA=()=>Qi.toasts,LA=()=>Qi.getActiveToasts();Object.assign(CA,{success:Qi.success,info:Qi.info,warning:Qi.warning,error:Qi.error,custom:Qi.custom,message:Qi.message,promise:Qi.promise,dismiss:Qi.dismiss,loading:Qi.loading},{getHistory:jA,getToasts:LA});mA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rh(r){return r.label!==void 0}const PA=3,TA="24px",OA="16px",zv=4e3,RA=356,IA=14,DA=45,FA=200;function Fo(...r){return r.filter(Boolean).join(" ")}function MA(r){const[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const BA=r=>{var e,t,n,o,a,l,c,d,p;const{invert:v,toast:y,unstyled:S,interacting:h,setHeights:A,visibleToasts:k,heights:E,index:j,toasts:C,expanded:P,removeToast:R,defaultRichColors:U,closeButton:oe,style:Q,cancelButtonStyle:W,actionButtonStyle:H,className:se="",descriptionClassName:O="",duration:F,position:J,gap:X,expandByDefault:fe,classNames:de,icons:ye,closeButtonAriaLabel:$="Close toast"}=r,[he,xe]=Ve.useState(null),[G,T]=Ve.useState(null),[q,Y]=Ve.useState(!1),[ae,le]=Ve.useState(!1),[re,ue]=Ve.useState(!1),[me,_e]=Ve.useState(!1),[Pe,Me]=Ve.useState(!1),[$e,Ke]=Ve.useState(0),[Z,He]=Ve.useState(0),_t=Ve.useRef(y.duration||F||zv),vt=Ve.useRef(null),De=Ve.useRef(null),yt=j===0,Ye=j+1<=k,Qe=y.type,at=y.dismissible!==!1,tr=y.className||"",Vt=y.descriptionClassName||"",Et=Ve.useMemo(()=>E.findIndex(Je=>Je.toastId===y.id)||0,[E,y.id]),Ht=Ve.useMemo(()=>{var Je;return(Je=y.closeButton)!=null?Je:oe},[y.closeButton,oe]),Ut=Ve.useMemo(()=>y.duration||F||zv,[y.duration,F]),rt=Ve.useRef(0),kt=Ve.useRef(0),nt=Ve.useRef(0),vr=Ve.useRef(null),[Yt,zt]=J.split("-"),qt=Ve.useMemo(()=>E.reduce((Je,_r,er)=>er>=Et?Je:Je+_r.height,0),[E,Et]),hr=kA(),wt=y.invert||v,nr=Qe==="loading";kt.current=Ve.useMemo(()=>Et*X+qt,[Et,qt]),Ve.useEffect(()=>{_t.current=Ut},[Ut]),Ve.useEffect(()=>{Y(!0)},[]),Ve.useEffect(()=>{const Je=De.current;if(Je){const _r=Je.getBoundingClientRect().height;return He(_r),A(er=>[{toastId:y.id,height:_r,position:y.position},...er]),()=>A(er=>er.filter(Ir=>Ir.toastId!==y.id))}},[A,y.id]),Ve.useLayoutEffect(()=>{if(!q)return;const Je=De.current,_r=Je.style.height;Je.style.height="auto";const er=Je.getBoundingClientRect().height;Je.style.height=_r,He(er),A(Ir=>Ir.find(Xe=>Xe.toastId===y.id)?Ir.map(Xe=>Xe.toastId===y.id?{...Xe,height:er}:Xe):[{toastId:y.id,height:er,position:y.position},...Ir])},[q,y.title,y.description,A,y.id]);const ht=Ve.useCallback(()=>{le(!0),Ke(kt.current),A(Je=>Je.filter(_r=>_r.toastId!==y.id)),setTimeout(()=>{R(y)},FA)},[y,R,A,kt]);Ve.useEffect(()=>{if(y.promise&&Qe==="loading"||y.duration===1/0||y.type==="loading")return;let Je;return P||h||hr?(()=>{if(nt.current<rt.current){const Ir=new Date().getTime()-rt.current;_t.current=_t.current-Ir}nt.current=new Date().getTime()})():(()=>{_t.current!==1/0&&(rt.current=new Date().getTime(),Je=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),ht()},_t.current))})(),()=>clearTimeout(Je)},[P,h,y,Qe,hr,ht]),Ve.useEffect(()=>{y.delete&&ht()},[ht,y.delete]);function Pt(){var Je;if(ye!=null&&ye.loading){var _r;return Ve.createElement("div",{className:Fo(de==null?void 0:de.loader,y==null||(_r=y.classNames)==null?void 0:_r.loader,"sonner-loader"),"data-visible":Qe==="loading"},ye.loading)}return Ve.createElement(yA,{className:Fo(de==null?void 0:de.loader,y==null||(Je=y.classNames)==null?void 0:Je.loader),visible:Qe==="loading"})}const sr=y.icon||(ye==null?void 0:ye[Qe])||gA(Qe);var Ot,St;return Ve.createElement("li",{tabIndex:0,ref:De,className:Fo(se,tr,de==null?void 0:de.toast,y==null||(e=y.classNames)==null?void 0:e.toast,de==null?void 0:de.default,de==null?void 0:de[Qe],y==null||(t=y.classNames)==null?void 0:t[Qe]),"data-sonner-toast":"","data-rich-colors":(Ot=y.richColors)!=null?Ot:U,"data-styled":!(y.jsx||y.unstyled||S),"data-mounted":q,"data-promise":!!y.promise,"data-swiped":Pe,"data-removed":ae,"data-visible":Ye,"data-y-position":Yt,"data-x-position":zt,"data-index":j,"data-front":yt,"data-swiping":re,"data-dismissible":at,"data-type":Qe,"data-invert":wt,"data-swipe-out":me,"data-swipe-direction":G,"data-expanded":!!(P||fe&&q),style:{"--index":j,"--toasts-before":j,"--z-index":C.length-j,"--offset":`${ae?$e:kt.current}px`,"--initial-height":fe?"auto":`${Z}px`,...Q,...y.style},onDragEnd:()=>{ue(!1),xe(null),vr.current=null},onPointerDown:Je=>{nr||!at||(vt.current=new Date,Ke(kt.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(ue(!0),vr.current={x:Je.clientX,y:Je.clientY}))},onPointerUp:()=>{var Je,_r,er;if(me||!at)return;vr.current=null;const Ir=Number(((Je=De.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rn=Number(((_r=De.current)==null?void 0:_r.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xe=new Date().getTime()-((er=vt.current)==null?void 0:er.getTime()),jr=he==="x"?Ir:Rn,$n=Math.abs(jr)/Xe;if(Math.abs(jr)>=DA||$n>.11){Ke(kt.current),y.onDismiss==null||y.onDismiss.call(y,y),T(he==="x"?Ir>0?"right":"left":Rn>0?"down":"up"),ht(),_e(!0);return}else{var yr,Dr;(yr=De.current)==null||yr.style.setProperty("--swipe-amount-x","0px"),(Dr=De.current)==null||Dr.style.setProperty("--swipe-amount-y","0px")}Me(!1),ue(!1),xe(null)},onPointerMove:Je=>{var _r,er,Ir;if(!vr.current||!at||((_r=window.getSelection())==null?void 0:_r.toString().length)>0)return;const Xe=Je.clientY-vr.current.y,jr=Je.clientX-vr.current.x;var $n;const yr=($n=r.swipeDirections)!=null?$n:MA(J);!he&&(Math.abs(jr)>1||Math.abs(Xe)>1)&&xe(Math.abs(jr)>Math.abs(Xe)?"x":"y");let Dr={x:0,y:0};const fr=pr=>1/(1.5+Math.abs(pr)/20);if(he==="y"){if(yr.includes("top")||yr.includes("bottom"))if(yr.includes("top")&&Xe<0||yr.includes("bottom")&&Xe>0)Dr.y=Xe;else{const pr=Xe*fr(Xe);Dr.y=Math.abs(pr)<Math.abs(Xe)?pr:Xe}}else if(he==="x"&&(yr.includes("left")||yr.includes("right")))if(yr.includes("left")&&jr<0||yr.includes("right")&&jr>0)Dr.x=jr;else{const pr=jr*fr(jr);Dr.x=Math.abs(pr)<Math.abs(jr)?pr:jr}(Math.abs(Dr.x)>0||Math.abs(Dr.y)>0)&&Me(!0),(er=De.current)==null||er.style.setProperty("--swipe-amount-x",`${Dr.x}px`),(Ir=De.current)==null||Ir.style.setProperty("--swipe-amount-y",`${Dr.y}px`)}},Ht&&!y.jsx&&Qe!=="loading"?Ve.createElement("button",{"aria-label":$,"data-disabled":nr,"data-close-button":!0,onClick:nr||!at?()=>{}:()=>{ht(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Fo(de==null?void 0:de.closeButton,y==null||(n=y.classNames)==null?void 0:n.closeButton)},(St=ye==null?void 0:ye.close)!=null?St:SA):null,(Qe||y.icon||y.promise)&&y.icon!==null&&((ye==null?void 0:ye[Qe])!==null||y.icon)?Ve.createElement("div",{"data-icon":"",className:Fo(de==null?void 0:de.icon,y==null||(o=y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Pt():null,y.type!=="loading"?sr:null):null,Ve.createElement("div",{"data-content":"",className:Fo(de==null?void 0:de.content,y==null||(a=y.classNames)==null?void 0:a.content)},Ve.createElement("div",{"data-title":"",className:Fo(de==null?void 0:de.title,y==null||(l=y.classNames)==null?void 0:l.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?Ve.createElement("div",{"data-description":"",className:Fo(O,Vt,de==null?void 0:de.description,y==null||(c=y.classNames)==null?void 0:c.description)},typeof y.description=="function"?y.description():y.description):null),Ve.isValidElement(y.cancel)?y.cancel:y.cancel&&Rh(y.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||W,onClick:Je=>{Rh(y.cancel)&&at&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Je),ht())},className:Fo(de==null?void 0:de.cancelButton,y==null||(d=y.classNames)==null?void 0:d.cancelButton)},y.cancel.label):null,Ve.isValidElement(y.action)?y.action:y.action&&Rh(y.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||H,onClick:Je=>{Rh(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Je),!Je.defaultPrevented&&ht())},className:Fo(de==null?void 0:de.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function qv(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function UA(r,e){const t={};return[r,e].forEach((n,o)=>{const a=o===1,l=a?"--mobile-offset":"--offset",c=a?OA:TA;function d(p){["top","right","bottom","left"].forEach(v=>{t[`${l}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?t[`${l}-${p}`]=c:t[`${l}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):d(c)}),t}const zA=Ve.forwardRef(function(e,t){const{invert:n,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:p,mobileOffset:v,theme:y="light",richColors:S,duration:h,style:A,visibleToasts:k=PA,toastOptions:E,dir:j=qv(),gap:C=IA,icons:P,containerAriaLabel:R="Notifications"}=e,[U,oe]=Ve.useState([]),Q=Ve.useMemo(()=>Array.from(new Set([o].concat(U.filter(G=>G.position).map(G=>G.position)))),[U,o]),[W,H]=Ve.useState([]),[se,O]=Ve.useState(!1),[F,J]=Ve.useState(!1),[X,fe]=Ve.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),de=Ve.useRef(null),ye=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=Ve.useRef(null),he=Ve.useRef(!1),xe=Ve.useCallback(G=>{oe(T=>{var q;return(q=T.find(Y=>Y.id===G.id))!=null&&q.delete||Qi.dismiss(G.id),T.filter(({id:Y})=>Y!==G.id)})},[]);return Ve.useEffect(()=>Qi.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{oe(T=>T.map(q=>q.id===G.id?{...q,delete:!0}:q))});return}setTimeout(()=>{S2.flushSync(()=>{oe(T=>{const q=T.findIndex(Y=>Y.id===G.id);return q!==-1?[...T.slice(0,q),{...T[q],...G},...T.slice(q+1)]:[G,...T]})})})}),[U]),Ve.useEffect(()=>{if(y!=="system"){fe(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?fe("dark"):fe("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:T})=>{fe(T?"dark":"light")})}catch{G.addListener(({matches:q})=>{try{fe(q?"dark":"light")}catch(Y){console.error(Y)}})}},[y]),Ve.useEffect(()=>{U.length<=1&&O(!1)},[U]),Ve.useEffect(()=>{const G=T=>{var q;if(a.every(le=>T[le]||T.code===le)){var ae;O(!0),(ae=de.current)==null||ae.focus()}T.code==="Escape"&&(document.activeElement===de.current||(q=de.current)!=null&&q.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),Ve.useEffect(()=>{if(de.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,he.current=!1)}},[de.current]),Ve.createElement("section",{ref:t,"aria-label":`${R} ${ye}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Q.map((G,T)=>{var q;const[Y,ae]=G.split("-");return U.length?Ve.createElement("ol",{key:G,dir:j==="auto"?qv():j,tabIndex:-1,ref:de,className:d,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":Y,"data-lifted":se&&U.length>1&&!l,"data-x-position":ae,style:{"--front-toast-height":`${((q=W[0])==null?void 0:q.height)||0}px`,"--width":`${RA}px`,"--gap":`${C}px`,...A,...UA(p,v)},onBlur:le=>{he.current&&!le.currentTarget.contains(le.relatedTarget)&&(he.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||he.current||(he.current=!0,$.current=le.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{F||O(!1)},onDragEnd:()=>O(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},U.filter(le=>!le.position&&T===0||le.position===G).map((le,re)=>{var ue,me;return Ve.createElement(BA,{key:le.id,icons:P,index:re,toast:le,defaultRichColors:S,duration:(ue=E==null?void 0:E.duration)!=null?ue:h,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:k,closeButton:(me=E==null?void 0:E.closeButton)!=null?me:c,interacting:F,position:G,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,closeButtonAriaLabel:E==null?void 0:E.closeButtonAriaLabel,removeToast:xe,toasts:U.filter(_e=>_e.position==le.position),heights:W.filter(_e=>_e.position==le.position),setHeights:H,expandByDefault:l,gap:C,expanded:se,swipeDirections:e.swipeDirections})})):null}))}),qA=({...r})=>w.jsx(zA,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r}),$A=()=>{const r=Wo();if(!r)return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-red-600",children:"Er is een fout opgetreden bij het laden van de applicatie."}),w.jsx("p",{className:"text-gray-600 mt-2",children:"Ververs de pagina om opnieuw te proberen."})]})});const{user:e,loading:t}=r,[n,o]=ne.useState("landing"),[a,l]=ne.useState("signin"),c=d=>{console.log("Navigating to:",d),o(d)};if(ne.useEffect(()=>{t||(e&&(n==="landing"||n==="signin"||n==="signup")?(console.log("User logged in, redirecting to dashboard"),o("dashboard")):!e&&n!=="landing"&&n!=="signin"&&n!=="signup"&&(console.log("User not logged in, redirecting to landing"),o("landing")))},[e,t,n]),t)return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),w.jsx("p",{className:"text-gray-600",children:"Laden..."})]})});if(!e)return n==="signin"||n==="signup"?w.jsx($_,{mode:a,onModeChange:l,onBack:()=>o("landing")}):w.jsx(M_,{onSignUp:()=>{l("signup"),o("signup")},onSignIn:()=>{l("signin"),o("signin")}});if(n==="dashboard")return w.jsx(G0,{onNavigate:c});if(n==="create-quotation")return w.jsx(x1,{onNavigate:c});if(n.startsWith("edit-quotation-")){const d=n.replace("edit-quotation-","");return w.jsx(x1,{quotationId:d,onNavigate:c})}if(n==="quotations")return w.jsx(vk,{onNavigate:c});if(n.startsWith("quotation-detail-")){const d=n.replace("quotation-detail-","");return w.jsx(lA,{quotationId:d,onNavigate:c})}if(n==="create-invoice")return w.jsx(Mv,{onNavigate:c});if(n.startsWith("edit-invoice-")){const d=n.replace("edit-invoice-","");return w.jsx(Mv,{invoiceId:d,onNavigate:c})}if(n==="invoices")return w.jsx(cA,{onNavigate:c});if(n.startsWith("invoice-detail-")){const d=n.replace("invoice-detail-","");return w.jsx(hA,{invoiceId:d,onNavigate:c})}return n==="settings"?w.jsx(pA,{onNavigate:c}):w.jsx(G0,{onNavigate:c})},WA=()=>w.jsxs(Xx,{children:[w.jsx($A,{}),w.jsx(qA,{})]});gw.createRoot(document.getElementById("root")).render(w.jsx(WA,{}));export{Cr as _,HA as c,$v as g};

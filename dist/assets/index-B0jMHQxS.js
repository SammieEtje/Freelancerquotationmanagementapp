var ow=Object.defineProperty;var lw=(t,e,r)=>e in t?ow(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Lr=(t,e,r)=>lw(t,typeof e!="symbol"?e+"":e,r);function cw(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var XA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ip={exports:{}},od={},sp={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function uw(){if(l0)return er;l0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function N(J){return J===null||typeof J!="object"?null:(J=w&&J[w]||J["@@iterator"],typeof J=="function"?J:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function C(J,T,$){this.props=J,this.context=T,this.refs=_,this.updater=$||h}C.prototype.isReactComponent={},C.prototype.setState=function(J,T){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,T,"setState")},C.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function E(){}E.prototype=C.prototype;function j(J,T,$){this.props=J,this.context=T,this.refs=_,this.updater=$||h}var P=j.prototype=new E;P.constructor=j,k(P,C.prototype),P.isPureReactComponent=!0;var O=Array.isArray,U=Object.prototype.hasOwnProperty,le={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function G(J,T,$){var X,ue={},de=null,ne=null;if(T!=null)for(X in T.ref!==void 0&&(ne=T.ref),T.key!==void 0&&(de=""+T.key),T)U.call(T,X)&&!q.hasOwnProperty(X)&&(ue[X]=T[X]);var fe=arguments.length-2;if(fe===1)ue.children=$;else if(1<fe){for(var ge=Array(fe),_e=0;_e<fe;_e++)ge[_e]=arguments[_e+2];ue.children=ge}if(J&&J.defaultProps)for(X in fe=J.defaultProps,fe)ue[X]===void 0&&(ue[X]=fe[X]);return{$$typeof:t,type:J,key:de,ref:ne,props:ue,_owner:le.current}}function K(J,T){return{$$typeof:t,type:J.type,key:T,ref:J.ref,props:J.props,_owner:J._owner}}function pe(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function I(J){var T={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function($){return T[$]})}var W=/\/+/g;function ae(J,T){return typeof J=="object"&&J!==null&&J.key!=null?I(""+J.key):T.toString(36)}function ie(J,T,$,X,ue){var de=typeof J;(de==="undefined"||de==="boolean")&&(J=null);var ne=!1;if(J===null)ne=!0;else switch(de){case"string":case"number":ne=!0;break;case"object":switch(J.$$typeof){case t:case e:ne=!0}}if(ne)return ne=J,ue=ue(ne),J=X===""?"."+ae(ne,0):X,O(ue)?($="",J!=null&&($=J.replace(W,"$&/")+"/"),ie(ue,T,$,"",function(_e){return _e})):ue!=null&&(pe(ue)&&(ue=K(ue,$+(!ue.key||ne&&ne.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+J)),T.push(ue)),1;if(ne=0,X=X===""?".":X+":",O(J))for(var fe=0;fe<J.length;fe++){de=J[fe];var ge=X+ae(de,fe);ne+=ie(de,T,$,ge,ue)}else if(ge=N(J),typeof ge=="function")for(J=ge.call(J),fe=0;!(de=J.next()).done;)de=de.value,ge=X+ae(de,fe++),ne+=ie(de,T,$,ge,ue);else if(de==="object")throw T=String(J),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return ne}function oe(J,T,$){if(J==null)return J;var X=[],ue=0;return ie(J,X,"","",function(de){return T.call($,de,ue++)}),X}function V(J){if(J._status===-1){var T=J._result;T=T(),T.then(function($){(J._status===0||J._status===-1)&&(J._status=1,J._result=$)},function($){(J._status===0||J._status===-1)&&(J._status=2,J._result=$)}),J._status===-1&&(J._status=0,J._result=T)}if(J._status===1)return J._result.default;throw J._result}var ee={current:null},F={transition:null},ce={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:F,ReactCurrentOwner:le};function we(){throw Error("act(...) is not supported in production builds of React.")}return er.Children={map:oe,forEach:function(J,T,$){oe(J,function(){T.apply(this,arguments)},$)},count:function(J){var T=0;return oe(J,function(){T++}),T},toArray:function(J){return oe(J,function(T){return T})||[]},only:function(J){if(!pe(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},er.Component=C,er.Fragment=r,er.Profiler=a,er.PureComponent=j,er.StrictMode=n,er.Suspense=d,er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,er.act=we,er.cloneElement=function(J,T,$){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var X=k({},J.props),ue=J.key,de=J.ref,ne=J._owner;if(T!=null){if(T.ref!==void 0&&(de=T.ref,ne=le.current),T.key!==void 0&&(ue=""+T.key),J.type&&J.type.defaultProps)var fe=J.type.defaultProps;for(ge in T)U.call(T,ge)&&!q.hasOwnProperty(ge)&&(X[ge]=T[ge]===void 0&&fe!==void 0?fe[ge]:T[ge])}var ge=arguments.length-2;if(ge===1)X.children=$;else if(1<ge){fe=Array(ge);for(var _e=0;_e<ge;_e++)fe[_e]=arguments[_e+2];X.children=fe}return{$$typeof:t,type:J.type,key:ue,ref:de,props:X,_owner:ne}},er.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:o,_context:J},J.Consumer=J},er.createElement=G,er.createFactory=function(J){var T=G.bind(null,J);return T.type=J,T},er.createRef=function(){return{current:null}},er.forwardRef=function(J){return{$$typeof:c,render:J}},er.isValidElement=pe,er.lazy=function(J){return{$$typeof:v,_payload:{_status:-1,_result:J},_init:V}},er.memo=function(J,T){return{$$typeof:p,type:J,compare:T===void 0?null:T}},er.startTransition=function(J){var T=F.transition;F.transition={};try{J()}finally{F.transition=T}},er.unstable_act=we,er.useCallback=function(J,T){return ee.current.useCallback(J,T)},er.useContext=function(J){return ee.current.useContext(J)},er.useDebugValue=function(){},er.useDeferredValue=function(J){return ee.current.useDeferredValue(J)},er.useEffect=function(J,T){return ee.current.useEffect(J,T)},er.useId=function(){return ee.current.useId()},er.useImperativeHandle=function(J,T,$){return ee.current.useImperativeHandle(J,T,$)},er.useInsertionEffect=function(J,T){return ee.current.useInsertionEffect(J,T)},er.useLayoutEffect=function(J,T){return ee.current.useLayoutEffect(J,T)},er.useMemo=function(J,T){return ee.current.useMemo(J,T)},er.useReducer=function(J,T,$){return ee.current.useReducer(J,T,$)},er.useRef=function(J){return ee.current.useRef(J)},er.useState=function(J){return ee.current.useState(J)},er.useSyncExternalStore=function(J,T,$){return ee.current.useSyncExternalStore(J,T,$)},er.useTransition=function(){return ee.current.useTransition()},er.version="18.3.1",er}var c0;function Rm(){return c0||(c0=1,sp.exports=uw()),sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function dw(){if(u0)return od;u0=1;var t=Rm(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var v,w={},N=null,h=null;p!==void 0&&(N=""+p),d.key!==void 0&&(N=""+d.key),d.ref!==void 0&&(h=d.ref);for(v in d)n.call(d,v)&&!o.hasOwnProperty(v)&&(w[v]=d[v]);if(c&&c.defaultProps)for(v in d=c.defaultProps,d)w[v]===void 0&&(w[v]=d[v]);return{$$typeof:e,type:c,key:N,ref:h,props:w,_owner:a.current}}return od.Fragment=r,od.jsx=l,od.jsxs=l,od}var d0;function hw(){return d0||(d0=1,ip.exports=dw()),ip.exports}var m=hw(),gh={},ap={exports:{}},Qi={},op={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function fw(){return h0||(h0=1,(function(t){function e(F,ce){var we=F.length;F.push(ce);e:for(;0<we;){var J=we-1>>>1,T=F[J];if(0<a(T,ce))F[J]=ce,F[we]=T,we=J;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var ce=F[0],we=F.pop();if(we!==ce){F[0]=we;e:for(var J=0,T=F.length,$=T>>>1;J<$;){var X=2*(J+1)-1,ue=F[X],de=X+1,ne=F[de];if(0>a(ue,we))de<T&&0>a(ne,ue)?(F[J]=ne,F[de]=we,J=de):(F[J]=ue,F[X]=we,J=X);else if(de<T&&0>a(ne,we))F[J]=ne,F[de]=we,J=de;else break e}}return ce}function a(F,ce){var we=F.sortIndex-ce.sortIndex;return we!==0?we:F.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],v=1,w=null,N=3,h=!1,k=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(F){for(var ce=r(p);ce!==null;){if(ce.callback===null)n(p);else if(ce.startTime<=F)n(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=r(p)}}function O(F){if(_=!1,P(F),!k)if(r(d)!==null)k=!0,V(U);else{var ce=r(p);ce!==null&&ee(O,ce.startTime-F)}}function U(F,ce){k=!1,_&&(_=!1,E(G),G=-1),h=!0;var we=N;try{for(P(ce),w=r(d);w!==null&&(!(w.expirationTime>ce)||F&&!I());){var J=w.callback;if(typeof J=="function"){w.callback=null,N=w.priorityLevel;var T=J(w.expirationTime<=ce);ce=t.unstable_now(),typeof T=="function"?w.callback=T:w===r(d)&&n(d),P(ce)}else n(d);w=r(d)}if(w!==null)var $=!0;else{var X=r(p);X!==null&&ee(O,X.startTime-ce),$=!1}return $}finally{w=null,N=we,h=!1}}var le=!1,q=null,G=-1,K=5,pe=-1;function I(){return!(t.unstable_now()-pe<K)}function W(){if(q!==null){var F=t.unstable_now();pe=F;var ce=!0;try{ce=q(!0,F)}finally{ce?ae():(le=!1,q=null)}}else le=!1}var ae;if(typeof j=="function")ae=function(){j(W)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,oe=ie.port2;ie.port1.onmessage=W,ae=function(){oe.postMessage(null)}}else ae=function(){C(W,0)};function V(F){q=F,le||(le=!0,ae())}function ee(F,ce){G=C(function(){F(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){k||h||(k=!0,V(U))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(F){switch(N){case 1:case 2:case 3:var ce=3;break;default:ce=N}var we=N;N=ce;try{return F()}finally{N=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,ce){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var we=N;N=F;try{return ce()}finally{N=we}},t.unstable_scheduleCallback=function(F,ce,we){var J=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?J+we:J):we=J,F){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=we+T,F={id:v++,callback:ce,priorityLevel:F,startTime:we,expirationTime:T,sortIndex:-1},we>J?(F.sortIndex=we,e(p,F),r(d)===null&&F===r(p)&&(_?(E(G),G=-1):_=!0,ee(O,we-J))):(F.sortIndex=T,e(d,F),k||h||(k=!0,V(U))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var ce=N;return function(){var we=N;N=ce;try{return F.apply(this,arguments)}finally{N=we}}}})(lp)),lp}var f0;function pw(){return f0||(f0=1,op.exports=fw()),op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function mw(){if(p0)return Qi;p0=1;var t=Rm(),e=pw();function r(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(a[i]=s,i=0;i<s.length;i++)n.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function N(i){return d.call(w,i)?!0:d.call(v,i)?!1:p.test(i)?w[i]=!0:(v[i]=!0,!1)}function h(i,s,u,g){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,s,u,g){if(s===null||typeof s>"u"||h(i,s,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(i,s,u,g,b,A,M){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=A,this.removeEmptyString=M}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];C[s]=new _(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(E,j);C[s]=new _(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(E,j);C[s]=new _(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(E,j);C[s]=new _(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,s,u,g){var b=C.hasOwnProperty(s)?C[s]:null;(b!==null?b.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,u,b,g)&&(u=null),g||b===null?N(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):b.mustUseProperty?i[b.propertyName]=u===null?b.type===3?!1:"":u:(s=b.attributeName,g=b.attributeNamespace,u===null?i.removeAttribute(s):(b=b.type,u=b===3||b===4&&u===!0?"":""+u,g?i.setAttributeNS(g,s,u):i.setAttribute(s,u))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),le=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),I=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),F=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var we=Object.assign,J;function T(i){if(J===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);J=s&&s[1]||""}return`
`+J+i}var $=!1;function X(i,s){if(!i||$)return"";$=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Ce){var g=Ce}Reflect.construct(i,[],s)}else{try{s.call()}catch(Ce){g=Ce}i.call(s.prototype)}else{try{throw Error()}catch(Ce){g=Ce}i()}}catch(Ce){if(Ce&&g&&typeof Ce.stack=="string"){for(var b=Ce.stack.split(`
`),A=g.stack.split(`
`),M=b.length-1,he=A.length-1;1<=M&&0<=he&&b[M]!==A[he];)he--;for(;1<=M&&0<=he;M--,he--)if(b[M]!==A[he]){if(M!==1||he!==1)do if(M--,he--,0>he||b[M]!==A[he]){var ye=`
`+b[M].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=M&&0<=he);break}}}finally{$=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?T(i):""}function ue(i){switch(i.tag){case 5:return T(i.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return i=X(i.type,!1),i;case 11:return i=X(i.type.render,!1),i;case 1:return i=X(i.type,!0),i;default:return""}}function de(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case le:return"Portal";case K:return"Profiler";case G:return"StrictMode";case ae:return"Suspense";case ie:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case pe:return(i._context.displayName||"Context")+".Provider";case W:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case oe:return s=i.displayName||null,s!==null?s:de(i.type)||"Memo";case V:s=i._payload,i=i._init;try{return de(i(s))}catch{}}return null}function ne(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(s);case 8:return s===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function fe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ge(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _e(i){var s=ge(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),g=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,A=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return b.call(this)},set:function(M){g=""+M,A.call(this,M)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Pe(i){i._valueTracker||(i._valueTracker=_e(i))}function Me(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),g="";return i&&(g=ge(i)?i.checked?"true":"false":i.value),i=g,i!==u?(s.setValue(i),!0):!1}function $e(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ke(i,s){var u=s.checked;return we({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Z(i,s){var u=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;u=fe(s.value!=null?s.value:u),i._wrapperState={initialChecked:g,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function He(i,s){s=s.checked,s!=null&&P(i,"checked",s,!1)}function St(i,s){He(i,s);var u=fe(s.value),g=s.type;if(u!=null)g==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?De(i,s.type,u):s.hasOwnProperty("defaultValue")&&De(i,s.type,fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function yt(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function De(i,s,u){(s!=="number"||$e(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var wt=Array.isArray;function Ye(i,s,u,g){if(i=i.options,s){s={};for(var b=0;b<u.length;b++)s["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=s.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&g&&(i[u].defaultSelected=!0)}else{for(u=""+fe(u),s=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,g&&(i[b].defaultSelected=!0);return}s!==null||i[b].disabled||(s=i[b])}s!==null&&(s.selected=!0)}}function Qe(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return we({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ot(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(r(92));if(wt(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:fe(u)}}function ir(i,s){var u=fe(s.value),g=fe(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),g!=null&&(i.defaultValue=""+g)}function Kt(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Et(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Et(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ut,rt=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,g,b){MSApp.execUnsafeLocalFunction(function(){return i(s,u,g,b)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Ut=Ut||document.createElement("div"),Ut.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ut.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function kt(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wr=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(i){wr.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),nt[s]=nt[i]})});function Qt(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||nt.hasOwnProperty(i)&&nt[i]?(""+s).trim():s+"px"}function zt(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var g=u.indexOf("--")===0,b=Qt(u,s[u],g);u==="float"&&(u="cssFloat"),g?i.setProperty(u,b):i[u]=b}}var qt=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(i,s){if(s){if(qt[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function xt(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=null;function ht(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Tt=null,cr=null,Rt=null;function Nt(i){if(i=ll(i)){if(typeof Tt!="function")throw Error(r(280));var s=i.stateNode;s&&(s=Xl(s),Tt(i.stateNode,i.type,s))}}function Je(i){cr?Rt?Rt.push(i):Rt=[i]:cr=i}function kr(){if(cr){var i=cr,s=Rt;if(Rt=cr=null,Nt(i),s)for(i=0;i<s.length;i++)Nt(s[i])}}function rr(i,s){return i(s)}function Mr(){}var Rn=!1;function Xe(i,s,u){if(Rn)return i(s,u);Rn=!0;try{return rr(i,s,u)}finally{Rn=!1,(cr!==null||Rt!==null)&&(Mr(),kr())}}function Tr(i,s){var u=i.stateNode;if(u===null)return null;var g=Xl(u);if(g===null)return null;u=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Hn=!1;if(c)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Hn=!1}function Br(i,s,u,g,b,A,M,he,ye){var Ce=Array.prototype.slice.call(arguments,3);try{s.apply(u,Ce)}catch(ze){this.onError(ze)}}var gr=!1,vr=null,Zr=!1,qs=null,ba={onError:function(i){gr=!0,vr=i}};function ts(i,s,u,g,b,A,M,he,ye){gr=!1,vr=null,Br.apply(ba,arguments)}function Ns(i,s,u,g,b,A,M,he,ye){if(ts.apply(this,arguments),gr){if(gr){var Ce=vr;gr=!1,vr=null}else throw Error(r(198));Zr||(Zr=!0,qs=Ce)}}function In(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Mi(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Ni(i){if(In(i)!==i)throw Error(r(188))}function Ya(i){var s=i.alternate;if(!s){if(s=In(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,g=s;;){var b=u.return;if(b===null)break;var A=b.alternate;if(A===null){if(g=b.return,g!==null){u=g;continue}break}if(b.child===A.child){for(A=b.child;A;){if(A===u)return Ni(b),i;if(A===g)return Ni(b),s;A=A.sibling}throw Error(r(188))}if(u.return!==g.return)u=b,g=A;else{for(var M=!1,he=b.child;he;){if(he===u){M=!0,u=b,g=A;break}if(he===g){M=!0,g=b,u=A;break}he=he.sibling}if(!M){for(he=A.child;he;){if(he===u){M=!0,u=A,g=b;break}if(he===g){M=!0,g=A,u=b;break}he=he.sibling}if(!M)throw Error(r(189))}}if(u.alternate!==g)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function rs(i){return i=Ya(i),i!==null?_a(i):null}function _a(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=_a(i);if(s!==null)return s;i=i.sibling}return null}var Xa=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,Uo=e.unstable_shouldYield,Ru=e.unstable_requestPaint,Ir=e.unstable_now,Sc=e.unstable_getCurrentPriorityLevel,zo=e.unstable_ImmediatePriority,ki=e.unstable_UserBlockingPriority,Sa=e.unstable_NormalPriority,Nc=e.unstable_LowPriority,qo=e.unstable_IdlePriority,Za=null,Ai=null;function kc(i){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Za,i,void 0,(i.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:un,$o=Math.log,Iu=Math.LN2;function un(i){return i>>>=0,i===0?32:31-($o(i)/Iu|0)|0}var eo=64,ji=4194304;function ks(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function to(i,s){var u=i.pendingLanes;if(u===0)return 0;var g=0,b=i.suspendedLanes,A=i.pingedLanes,M=u&268435455;if(M!==0){var he=M&~b;he!==0?g=ks(he):(A&=M,A!==0&&(g=ks(A)))}else M=u&~b,M!==0?g=ks(M):A!==0&&(g=ks(A));if(g===0)return 0;if(s!==0&&s!==g&&(s&b)===0&&(b=g&-g,A=s&-s,b>=A||b===16&&(A&4194240)!==0))return s;if((g&4)!==0&&(g|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=g;0<s;)u=31-cn(s),b=1<<u,g|=i[u],s&=~b;return g}function Bi(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(i,s){for(var u=i.suspendedLanes,g=i.pingedLanes,b=i.expirationTimes,A=i.pendingLanes;0<A;){var M=31-cn(A),he=1<<M,ye=b[M];ye===-1?((he&u)===0||(he&g)!==0)&&(b[M]=Bi(he,s)):ye<=s&&(i.expiredLanes|=he),A&=~he}}function ns(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ol(){var i=eo;return eo<<=1,(eo&4194240)===0&&(eo=64),i}function Rl(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ro(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-cn(s),i[s]=u}function As(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<u;){var b=31-cn(u),A=1<<b;s[b]=0,g[b]=-1,i[b]=-1,u&=~A}}function Wo(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var g=31-cn(u),b=1<<g;b&s|i[g]&s&&(i[g]|=s),u&=~b}}var or=0;function no(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Na,Il,Ac,jc,Vo,Ho=!1,ci=[],js=null,ui=null,Ui=null,io=new Map,Ct=new Map,Es=[],Du="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ec(i,s){switch(i){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":io.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(s.pointerId)}}function Ei(i,s,u,g,b,A){return i===null||i.nativeEvent!==A?(i={blockedOn:s,domEventName:u,eventSystemFlags:g,nativeEvent:A,targetContainers:[b]},s!==null&&(s=ll(s),s!==null&&Il(s)),i):(i.eventSystemFlags|=g,s=i.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),i)}function $s(i,s,u,g,b){switch(s){case"focusin":return js=Ei(js,i,s,u,g,b),!0;case"dragenter":return ui=Ei(ui,i,s,u,g,b),!0;case"mouseover":return Ui=Ei(Ui,i,s,u,g,b),!0;case"pointerover":var A=b.pointerId;return io.set(A,Ei(io.get(A)||null,i,s,u,g,b)),!0;case"gotpointercapture":return A=b.pointerId,Ct.set(A,Ei(Ct.get(A)||null,i,s,u,g,b)),!0}return!1}function Cc(i){var s=Ia(i.target);if(s!==null){var u=In(s);if(u!==null){if(s=u.tag,s===13){if(s=Mi(u),s!==null){i.blockedOn=s,Vo(i.priority,function(){Ac(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Go(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=oo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);ar=g,u.target.dispatchEvent(g),ar=null}else return s=ll(u),s!==null&&Il(s),i.blockedOn=u,!1;s.shift()}return!0}function so(i,s,u){Go(i)&&u.delete(s)}function Dl(){Ho=!1,js!==null&&Go(js)&&(js=null),ui!==null&&Go(ui)&&(ui=null),Ui!==null&&Go(Ui)&&(Ui=null),io.forEach(so),Ct.forEach(so)}function is(i,s){i.blockedOn===s&&(i.blockedOn=null,Ho||(Ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dl)))}function ao(i){function s(b){return is(b,i)}if(0<ci.length){is(ci[0],i);for(var u=1;u<ci.length;u++){var g=ci[u];g.blockedOn===i&&(g.blockedOn=null)}}for(js!==null&&is(js,i),ui!==null&&is(ui,i),Ui!==null&&is(Ui,i),io.forEach(s),Ct.forEach(s),u=0;u<Es.length;u++)g=Es[u],g.blockedOn===i&&(g.blockedOn=null);for(;0<Es.length&&(u=Es[0],u.blockedOn===null);)Cc(u),u.blockedOn===null&&Es.shift()}var di=O.ReactCurrentBatchConfig,Ko=!0;function Fl(i,s,u,g){var b=or,A=di.transition;di.transition=null;try{or=1,Jo(i,s,u,g)}finally{or=b,di.transition=A}}function Ml(i,s,u,g){var b=or,A=di.transition;di.transition=null;try{or=4,Jo(i,s,u,g)}finally{or=b,di.transition=A}}function Jo(i,s,u,g){if(Ko){var b=oo(i,s,u,g);if(b===null)Kl(i,s,g,zi,u),Ec(i,g);else if($s(b,i,s,u,g))g.stopPropagation();else if(Ec(i,g),s&4&&-1<Du.indexOf(i)){for(;b!==null;){var A=ll(b);if(A!==null&&Na(A),A=oo(i,s,u,g),A===null&&Kl(i,s,g,zi,u),A===b)break;b=A}b!==null&&g.stopPropagation()}else Kl(i,s,g,null,u)}}var zi=null;function oo(i,s,u,g){if(zi=null,i=ht(g),i=Ia(i),i!==null)if(s=In(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Mi(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return zi=i,null}function lo(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sc()){case zo:return 1;case ki:return 4;case Sa:case Nc:return 16;case qo:return 536870912;default:return 16}default:return 16}}var qi=null,Ws=null,ka=null;function Bl(){if(ka)return ka;var i,s=Ws,u=s.length,g,b="value"in qi?qi.value:qi.textContent,A=b.length;for(i=0;i<u&&s[i]===b[i];i++);var M=u-i;for(g=1;g<=M&&s[u-g]===b[A-g];g++);return ka=b.slice(i,1<g?1-g:void 0)}function co(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function $i(){return!0}function Cs(){return!1}function Gn(i){function s(u,g,b,A,M){this._reactName=u,this._targetInst=b,this.type=g,this.nativeEvent=A,this.target=M,this.currentTarget=null;for(var he in i)i.hasOwnProperty(he)&&(u=i[he],this[he]=u?u(A):A[he]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?$i:Cs,this.isPropagationStopped=Cs,this}return we(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Gn(Wi),x=we({},Wi,{view:0,detail:0}),D=Gn(x),se,me,Se,Re=we({},x,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Se&&(Se&&i.type==="mousemove"?(se=i.screenX-Se.screenX,me=i.screenY-Se.screenY):me=se=0,Se=i),se)},movementY:function(i){return"movementY"in i?i.movementY:me}}),Be=Gn(Re),st=we({},Re,{dataTransfer:0}),mt=Gn(st),It=we({},x,{relatedTarget:0}),Mt=Gn(It),sr=we({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Wr=Gn(sr),dn=we({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Or=Gn(dn),xn=we({},Wi,{data:0}),en=Gn(xn),Dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ss={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ss[i])?!!s[i]:!1}function uo(){return Hs}var Xo=we({},x,{key:function(i){if(i.key){var s=Dn[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=co(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Vs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(i){return i.type==="keypress"?co(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?co(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Aa=Gn(Xo),ho=we({},Re,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=Gn(ho),Ea=we({},x,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),Fn=Gn(Ea),fo=we({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),po=Gn(fo),Ul=we({},Re,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zl=Gn(Ul),ti=[9,13,27,32],as=c&&"CompositionEvent"in window,Ls=null;c&&"documentMode"in document&&(Ls=document.documentMode);var Lc=c&&"TextEvent"in window&&!Ls,Ci=c&&(!as||Ls&&8<Ls&&11>=Ls),Ca=" ",Qo=!1;function Zo(i,s){switch(i){case"keyup":return ti.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gs(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vi=!1;function Li(i,s){switch(i){case"compositionend":return Gs(s);case"keypress":return s.which!==32?null:(Qo=!0,Ca);case"textInput":return i=s.data,i===Ca&&Qo?null:i;default:return null}}function Pi(i,s){if(Vi)return i==="compositionend"||!as&&Zo(i,s)?(i=Bl(),ka=Ws=qi=null,Vi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ci&&s.locale!=="ko"?null:s.data;default:return null}}var La={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ps(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!La[i.type]:s==="textarea"}function Ks(i,s,u,g){Je(g),s=Ic(s,"onChange"),0<s.length&&(u=new Yo("onChange","change",null,u,g),i.push({event:u,listeners:s}))}var Js=null,Ts=null;function tn(i){Hl(i,0)}function mo(i){var s=ko(i);if(Me(s))return i}function Os(i,s){if(i==="change")return s}var os=!1;if(c){var go;if(c){var vo="oninput"in document;if(!vo){var el=document.createElement("div");el.setAttribute("oninput","return;"),vo=typeof el.oninput=="function"}go=vo}else go=!1;os=go&&(!document.documentMode||9<document.documentMode)}function tl(){Js&&(Js.detachEvent("onpropertychange",Ys),Ts=Js=null)}function Ys(i){if(i.propertyName==="value"&&mo(Ts)){var s=[];Ks(s,Ts,i,ht(i)),Xe(tn,s)}}function Pa(i,s,u){i==="focusin"?(tl(),Js=s,Ts=u,Js.attachEvent("onpropertychange",Ys)):i==="focusout"&&tl()}function Ta(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mo(Ts)}function yo(i,s){if(i==="click")return mo(s)}function Oa(i,s){if(i==="input"||i==="change")return mo(s)}function wo(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Gr=typeof Object.is=="function"?Object.is:wo;function hi(i,s){if(Gr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),g=Object.keys(s);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var b=u[g];if(!d.call(s,b)||!Gr(i[b],s[b]))return!1}return!0}function ur(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function br(i,s){var u=ur(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=s&&g>=s)return{node:u,offset:s-i};i=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ur(u)}}function Kr(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Kr(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function hn(){for(var i=window,s=$e();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=$e(i.document)}return s}function ls(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function ql(i){var s=hn(),u=i.focusedElem,g=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&Kr(u.ownerDocument.documentElement,u)){if(g!==null&&ls(u)){if(s=g.start,i=g.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var b=u.textContent.length,A=Math.min(g.start,b);g=g.end===void 0?A:Math.min(g.end,b),!i.extend&&A>g&&(b=g,g=A,A=b),b=br(u,A);var M=br(u,g);b&&M&&(i.rangeCount!==1||i.anchorNode!==b.node||i.anchorOffset!==b.offset||i.focusNode!==M.node||i.focusOffset!==M.offset)&&(s=s.createRange(),s.setStart(b.node,b.offset),i.removeAllRanges(),A>g?(i.addRange(s),i.extend(M.node,M.offset)):(s.setEnd(M.node,M.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var rl=c&&"documentMode"in document&&11>=document.documentMode,Xs=null,Pc=null,nl=null,Tc=!1;function Fu(i,s,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tc||Xs==null||Xs!==$e(g)||(g=Xs,"selectionStart"in g&&ls(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),nl&&hi(nl,g)||(nl=g,g=Ic(Pc,"onSelect"),0<g.length&&(s=new Yo("onSelect","select",null,s,u),i.push({event:s,listeners:g}),s.target=Xs)))}function $l(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var xo={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},bo={},Mu={};c&&(Mu=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Wl(i){if(bo[i])return bo[i];if(!xo[i])return i;var s=xo[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Mu)return bo[i]=s[u];return i}var Bu=Wl("animationend"),Uu=Wl("animationiteration"),zu=Wl("animationstart"),qu=Wl("transitionend"),$u=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(i,s){$u.set(i,s),o(s,[i])}for(var il=0;il<Wu.length;il++){var ri=Wu[il],Hi=ri.toLowerCase(),Oc=ri[0].toUpperCase()+ri.slice(1);Rs(Hi,"on"+Oc)}Rs(Bu,"onAnimationEnd"),Rs(Uu,"onAnimationIteration"),Rs(zu,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(qu,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Vl(i,s,u){var g=i.type||"unknown-event";i.currentTarget=u,Ns(g,s,void 0,i),i.currentTarget=null}function Hl(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],b=g.event;g=g.listeners;e:{var A=void 0;if(s)for(var M=g.length-1;0<=M;M--){var he=g[M],ye=he.instance,Ce=he.currentTarget;if(he=he.listener,ye!==A&&b.isPropagationStopped())break e;Vl(b,he,Ce),A=ye}else for(M=0;M<g.length;M++){if(he=g[M],ye=he.instance,Ce=he.currentTarget,he=he.listener,ye!==A&&b.isPropagationStopped())break e;Vl(b,he,Ce),A=ye}}}if(Zr)throw i=qs,Zr=!1,qs=null,i}function Ar(i,s){var u=s[pi];u===void 0&&(u=s[pi]=new Set);var g=i+"__bubble";u.has(g)||(Gl(s,i,2,!1),u.add(g))}function Rc(i,s,u){var g=0;s&&(g|=4),Gl(u,i,g,s)}var sl="_reactListening"+Math.random().toString(36).slice(2);function _o(i){if(!i[sl]){i[sl]=!0,n.forEach(function(u){u!=="selectionchange"&&(Dd.has(u)||Rc(u,!1,i),Rc(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[sl]||(s[sl]=!0,Rc("selectionchange",!1,s))}}function Gl(i,s,u,g){switch(lo(s)){case 1:var b=Fl;break;case 4:b=Ml;break;default:b=Jo}u=b.bind(null,s,u,i),b=void 0,!Hn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),g?b!==void 0?i.addEventListener(s,u,{capture:!0,passive:b}):i.addEventListener(s,u,!0):b!==void 0?i.addEventListener(s,u,{passive:b}):i.addEventListener(s,u,!1)}function Kl(i,s,u,g,b){var A=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var he=g.stateNode.containerInfo;if(he===b||he.nodeType===8&&he.parentNode===b)break;if(M===4)for(M=g.return;M!==null;){var ye=M.tag;if((ye===3||ye===4)&&(ye=M.stateNode.containerInfo,ye===b||ye.nodeType===8&&ye.parentNode===b))return;M=M.return}for(;he!==null;){if(M=Ia(he),M===null)return;if(ye=M.tag,ye===5||ye===6){g=A=M;continue e}he=he.parentNode}}g=g.return}Xe(function(){var Ce=A,ze=ht(u),qe=[];e:{var Ue=$u.get(i);if(Ue!==void 0){var Ze=Yo,lt=i;switch(i){case"keypress":if(co(u)===0)break e;case"keydown":case"keyup":Ze=Aa;break;case"focusin":lt="focus",Ze=Mt;break;case"focusout":lt="blur",Ze=Mt;break;case"beforeblur":case"afterblur":Ze=Mt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Be;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=mt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=Fn;break;case Bu:case Uu:case zu:Ze=Wr;break;case qu:Ze=po;break;case"scroll":Ze=D;break;case"wheel":Ze=zl;break;case"copy":case"cut":case"paste":Ze=Or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=ja}var ft=(s&4)!==0,Sn=!ft&&i==="scroll",Ae=ft?Ue!==null?Ue+"Capture":null:Ue;ft=[];for(var be=Ce,Ee;be!==null;){Ee=be;var We=Ee.stateNode;if(Ee.tag===5&&We!==null&&(Ee=We,Ae!==null&&(We=Tr(be,Ae),We!=null&&ft.push(Jl(be,We,Ee)))),Sn)break;be=be.return}0<ft.length&&(Ue=new Ze(Ue,lt,null,u,ze),qe.push({event:Ue,listeners:ft}))}}if((s&7)===0){e:{if(Ue=i==="mouseover"||i==="pointerover",Ze=i==="mouseout"||i==="pointerout",Ue&&u!==ar&&(lt=u.relatedTarget||u.fromElement)&&(Ia(lt)||lt[Kn]))break e;if((Ze||Ue)&&(Ue=ze.window===ze?ze:(Ue=ze.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,Ze?(lt=u.relatedTarget||u.toElement,Ze=Ce,lt=lt?Ia(lt):null,lt!==null&&(Sn=In(lt),lt!==Sn||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(Ze=null,lt=Ce),Ze!==lt)){if(ft=Be,We="onMouseLeave",Ae="onMouseEnter",be="mouse",(i==="pointerout"||i==="pointerover")&&(ft=ja,We="onPointerLeave",Ae="onPointerEnter",be="pointer"),Sn=Ze==null?Ue:ko(Ze),Ee=lt==null?Ue:ko(lt),Ue=new ft(We,be+"leave",Ze,u,ze),Ue.target=Sn,Ue.relatedTarget=Ee,We=null,Ia(ze)===Ce&&(ft=new ft(Ae,be+"enter",lt,u,ze),ft.target=Ee,ft.relatedTarget=Sn,We=ft),Sn=We,Ze&&lt)t:{for(ft=Ze,Ae=lt,be=0,Ee=ft;Ee;Ee=So(Ee))be++;for(Ee=0,We=Ae;We;We=So(We))Ee++;for(;0<be-Ee;)ft=So(ft),be--;for(;0<Ee-be;)Ae=So(Ae),Ee--;for(;be--;){if(ft===Ae||Ae!==null&&ft===Ae.alternate)break t;ft=So(ft),Ae=So(Ae)}ft=null}else ft=null;Ze!==null&&Fd(qe,Ue,Ze,ft,!1),lt!==null&&Sn!==null&&Fd(qe,Sn,lt,ft,!0)}}e:{if(Ue=Ce?ko(Ce):window,Ze=Ue.nodeName&&Ue.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Ue.type==="file")var vt=Os;else if(Ps(Ue))if(os)vt=Oa;else{vt=Ta;var At=Pa}else(Ze=Ue.nodeName)&&Ze.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(vt=yo);if(vt&&(vt=vt(i,Ce))){Ks(qe,vt,u,ze);break e}At&&At(i,Ue,Ce),i==="focusout"&&(At=Ue._wrapperState)&&At.controlled&&Ue.type==="number"&&De(Ue,"number",Ue.value)}switch(At=Ce?ko(Ce):window,i){case"focusin":(Ps(At)||At.contentEditable==="true")&&(Xs=At,Pc=Ce,nl=null);break;case"focusout":nl=Pc=Xs=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Fu(qe,u,ze);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":Fu(qe,u,ze)}var jt;if(as)e:{switch(i){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Vi?Zo(i,u)&&(Dt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ci&&u.locale!=="ko"&&(Vi||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Vi&&(jt=Bl()):(qi=ze,Ws="value"in qi?qi.value:qi.textContent,Vi=!0)),At=Ic(Ce,Dt),0<At.length&&(Dt=new en(Dt,i,null,u,ze),qe.push({event:Dt,listeners:At}),jt?Dt.data=jt:(jt=Gs(u),jt!==null&&(Dt.data=jt)))),(jt=Lc?Li(i,u):Pi(i,u))&&(Ce=Ic(Ce,"onBeforeInput"),0<Ce.length&&(ze=new en("onBeforeInput","beforeinput",null,u,ze),qe.push({event:ze,listeners:Ce}),ze.data=jt))}Hl(qe,s)})}function Jl(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Ic(i,s){for(var u=s+"Capture",g=[];i!==null;){var b=i,A=b.stateNode;b.tag===5&&A!==null&&(b=A,A=Tr(i,u),A!=null&&g.unshift(Jl(i,A,b)),A=Tr(i,s),A!=null&&g.push(Jl(i,A,b))),i=i.return}return g}function So(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Fd(i,s,u,g,b){for(var A=s._reactName,M=[];u!==null&&u!==g;){var he=u,ye=he.alternate,Ce=he.stateNode;if(ye!==null&&ye===g)break;he.tag===5&&Ce!==null&&(he=Ce,b?(ye=Tr(u,A),ye!=null&&M.unshift(Jl(u,ye,he))):b||(ye=Tr(u,A),ye!=null&&M.push(Jl(u,ye,he)))),u=u.return}M.length!==0&&i.push({event:s,listeners:M})}var yf=/\r\n?/g,wf=/\u0000|\uFFFD/g;function Md(i){return(typeof i=="string"?i:""+i).replace(yf,`
`).replace(wf,"")}function Dc(i,s,u){if(s=Md(s),Md(i)!==s&&u)throw Error(r(425))}function al(){}var Yl=null,No=null;function Vu(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,Bd=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,xf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(i){return Ud.resolve(null).then(i).catch(bf)}:Hu;function bf(i){setTimeout(function(){throw i})}function Gu(i,s){var u=s,g=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(g===0){i.removeChild(b),ao(s);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=b}while(u);ao(s)}function ni(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Gi(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var fi=Math.random().toString(36).slice(2),Is="__reactFiber$"+fi,ol="__reactProps$"+fi,Kn="__reactContainer$"+fi,pi="__reactEvents$"+fi,_f="__reactListeners$"+fi,Sf="__reactHandles$"+fi;function Ia(i){var s=i[Is];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Kn]||u[Is]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Gi(i);i!==null;){if(u=i[Is])return u;i=Gi(i)}return s}i=u,u=i.parentNode}return null}function ll(i){return i=i[Is]||i[Kn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ko(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Xl(i){return i[ol]||null}var Ku=[],Qs=-1;function cs(i){return{current:i}}function yr(i){0>Qs||(i.current=Ku[Qs],Ku[Qs]=null,Qs--)}function _r(i,s){Qs++,Ku[Qs]=i.current,i.current=s}var Da={},Mn=cs(Da),mi=cs(!1),Ao=Da;function cl(i,s){var u=i.type.contextTypes;if(!u)return Da;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var b={},A;for(A in u)b[A]=s[A];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=b),b}function gi(i){return i=i.childContextTypes,i!=null}function Fc(){yr(mi),yr(Mn)}function zd(i,s,u){if(Mn.current!==Da)throw Error(r(168));_r(Mn,s),_r(mi,u)}function Ju(i,s,u){var g=i.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var b in g)if(!(b in s))throw Error(r(108,ne(i)||"Unknown",b));return we({},u,g)}function jo(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Da,Ao=Mn.current,_r(Mn,i),_r(mi,mi.current),!0}function qd(i,s,u){var g=i.stateNode;if(!g)throw Error(r(169));u?(i=Ju(i,s,Ao),g.__reactInternalMemoizedMergedChildContext=i,yr(mi),yr(Mn),_r(Mn,i)):yr(mi),_r(mi,u)}var Zs=null,Ql=!1,f=!1;function y(i){Zs===null?Zs=[i]:Zs.push(i)}function S(i){Ql=!0,y(i)}function L(){if(!f&&Zs!==null){f=!0;var i=0,s=or;try{var u=Zs;for(or=1;i<u.length;i++){var g=u[i];do g=g(!0);while(g!==null)}Zs=null,Ql=!1}catch(b){throw Zs!==null&&(Zs=Zs.slice(i+1)),Xa(zo,L),b}finally{or=s,f=!1}}return null}var R=[],B=0,z=null,H=0,Y=[],te=0,ve=null,ke=1,re="";function xe(i,s){R[B++]=H,R[B++]=z,z=i,H=s}function Ne(i,s,u){Y[te++]=ke,Y[te++]=re,Y[te++]=ve,ve=i;var g=ke;i=re;var b=32-cn(g)-1;g&=~(1<<b),u+=1;var A=32-cn(s)+b;if(30<A){var M=b-b%5;A=(g&(1<<M)-1).toString(32),g>>=M,b-=M,ke=1<<32-cn(s)+b|u<<b|g,re=A+i}else ke=1<<A|u<<b|g,re=i}function Oe(i){i.return!==null&&(xe(i,1),Ne(i,1,0))}function je(i){for(;i===z;)z=R[--B],R[B]=null,H=R[--B],R[B]=null;for(;i===ve;)ve=Y[--te],Y[te]=null,re=Y[--te],Y[te]=null,ke=Y[--te],Y[te]=null}var Le=null,Te=null,Ie=!1,Fe=null;function gt(i,s){var u=Us(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function et(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Le=i,Te=ni(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Le=i,Te=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=ve!==null?{id:ke,overflow:re}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=Us(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Le=i,Te=null,!0):!1;default:return!1}}function Bt(i){return(i.mode&1)!==0&&(i.flags&128)===0}function at(i){if(Ie){var s=Te;if(s){var u=s;if(!et(i,s)){if(Bt(i))throw Error(r(418));s=ni(u.nextSibling);var g=Le;s&&et(i,s)?gt(g,u):(i.flags=i.flags&-4097|2,Ie=!1,Le=i)}}else{if(Bt(i))throw Error(r(418));i.flags=i.flags&-4097|2,Ie=!1,Le=i}}}function Zt(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Le=i}function Jr(i){if(i!==Le)return!1;if(!Ie)return Zt(i),Ie=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Vu(i.type,i.memoizedProps)),s&&(s=Te)){if(Bt(i))throw $t(),Error(r(418));for(;s;)gt(i,s),s=ni(s.nextSibling)}if(Zt(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){Te=ni(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}Te=null}}else Te=Le?ni(i.stateNode.nextSibling):null;return!0}function $t(){for(var i=Te;i;)i=ni(i.nextSibling)}function tt(){Te=Le=null,Ie=!1}function Ge(i){Fe===null?Fe=[i]:Fe.push(i)}var rn=O.ReactCurrentBatchConfig;function Ot(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var g=u.stateNode}if(!g)throw Error(r(147,i));var b=g,A=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===A?s.ref:(s=function(M){var he=b.refs;M===null?delete he[A]:he[A]=M},s._stringRef=A,s)}if(typeof i!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,i))}return i}function Yt(i,s){throw i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Rr(i){var s=i._init;return s(i._payload)}function En(i){function s(Ae,be){if(i){var Ee=Ae.deletions;Ee===null?(Ae.deletions=[be],Ae.flags|=16):Ee.push(be)}}function u(Ae,be){if(!i)return null;for(;be!==null;)s(Ae,be),be=be.sibling;return null}function g(Ae,be){for(Ae=new Map;be!==null;)be.key!==null?Ae.set(be.key,be):Ae.set(be.index,be),be=be.sibling;return Ae}function b(Ae,be){return Ae=wl(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function A(Ae,be,Ee){return Ae.index=Ee,i?(Ee=Ae.alternate,Ee!==null?(Ee=Ee.index,Ee<be?(Ae.flags|=2,be):Ee):(Ae.flags|=2,be)):(Ae.flags|=1048576,be)}function M(Ae){return i&&Ae.alternate===null&&(Ae.flags|=2),Ae}function he(Ae,be,Ee,We){return be===null||be.tag!==6?(be=Qf(Ee,Ae.mode,We),be.return=Ae,be):(be=b(be,Ee),be.return=Ae,be)}function ye(Ae,be,Ee,We){var vt=Ee.type;return vt===q?ze(Ae,be,Ee.props.children,We,Ee.key):be!==null&&(be.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===V&&Rr(vt)===be.type)?(We=b(be,Ee.props),We.ref=Ot(Ae,be,Ee),We.return=Ae,We):(We=lh(Ee.type,Ee.key,Ee.props,null,Ae.mode,We),We.ref=Ot(Ae,be,Ee),We.return=Ae,We)}function Ce(Ae,be,Ee,We){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ee.containerInfo||be.stateNode.implementation!==Ee.implementation?(be=Zf(Ee,Ae.mode,We),be.return=Ae,be):(be=b(be,Ee.children||[]),be.return=Ae,be)}function ze(Ae,be,Ee,We,vt){return be===null||be.tag!==7?(be=ac(Ee,Ae.mode,We,vt),be.return=Ae,be):(be=b(be,Ee),be.return=Ae,be)}function qe(Ae,be,Ee){if(typeof be=="string"&&be!==""||typeof be=="number")return be=Qf(""+be,Ae.mode,Ee),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case U:return Ee=lh(be.type,be.key,be.props,null,Ae.mode,Ee),Ee.ref=Ot(Ae,null,be),Ee.return=Ae,Ee;case le:return be=Zf(be,Ae.mode,Ee),be.return=Ae,be;case V:var We=be._init;return qe(Ae,We(be._payload),Ee)}if(wt(be)||ce(be))return be=ac(be,Ae.mode,Ee,null),be.return=Ae,be;Yt(Ae,be)}return null}function Ue(Ae,be,Ee,We){var vt=be!==null?be.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return vt!==null?null:he(Ae,be,""+Ee,We);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case U:return Ee.key===vt?ye(Ae,be,Ee,We):null;case le:return Ee.key===vt?Ce(Ae,be,Ee,We):null;case V:return vt=Ee._init,Ue(Ae,be,vt(Ee._payload),We)}if(wt(Ee)||ce(Ee))return vt!==null?null:ze(Ae,be,Ee,We,null);Yt(Ae,Ee)}return null}function Ze(Ae,be,Ee,We,vt){if(typeof We=="string"&&We!==""||typeof We=="number")return Ae=Ae.get(Ee)||null,he(be,Ae,""+We,vt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case U:return Ae=Ae.get(We.key===null?Ee:We.key)||null,ye(be,Ae,We,vt);case le:return Ae=Ae.get(We.key===null?Ee:We.key)||null,Ce(be,Ae,We,vt);case V:var At=We._init;return Ze(Ae,be,Ee,At(We._payload),vt)}if(wt(We)||ce(We))return Ae=Ae.get(Ee)||null,ze(be,Ae,We,vt,null);Yt(be,We)}return null}function lt(Ae,be,Ee,We){for(var vt=null,At=null,jt=be,Dt=be=0,Zn=null;jt!==null&&Dt<Ee.length;Dt++){jt.index>Dt?(Zn=jt,jt=null):Zn=jt.sibling;var pr=Ue(Ae,jt,Ee[Dt],We);if(pr===null){jt===null&&(jt=Zn);break}i&&jt&&pr.alternate===null&&s(Ae,jt),be=A(pr,be,Dt),At===null?vt=pr:At.sibling=pr,At=pr,jt=Zn}if(Dt===Ee.length)return u(Ae,jt),Ie&&xe(Ae,Dt),vt;if(jt===null){for(;Dt<Ee.length;Dt++)jt=qe(Ae,Ee[Dt],We),jt!==null&&(be=A(jt,be,Dt),At===null?vt=jt:At.sibling=jt,At=jt);return Ie&&xe(Ae,Dt),vt}for(jt=g(Ae,jt);Dt<Ee.length;Dt++)Zn=Ze(jt,Ae,Dt,Ee[Dt],We),Zn!==null&&(i&&Zn.alternate!==null&&jt.delete(Zn.key===null?Dt:Zn.key),be=A(Zn,be,Dt),At===null?vt=Zn:At.sibling=Zn,At=Zn);return i&&jt.forEach(function(xl){return s(Ae,xl)}),Ie&&xe(Ae,Dt),vt}function ft(Ae,be,Ee,We){var vt=ce(Ee);if(typeof vt!="function")throw Error(r(150));if(Ee=vt.call(Ee),Ee==null)throw Error(r(151));for(var At=vt=null,jt=be,Dt=be=0,Zn=null,pr=Ee.next();jt!==null&&!pr.done;Dt++,pr=Ee.next()){jt.index>Dt?(Zn=jt,jt=null):Zn=jt.sibling;var xl=Ue(Ae,jt,pr.value,We);if(xl===null){jt===null&&(jt=Zn);break}i&&jt&&xl.alternate===null&&s(Ae,jt),be=A(xl,be,Dt),At===null?vt=xl:At.sibling=xl,At=xl,jt=Zn}if(pr.done)return u(Ae,jt),Ie&&xe(Ae,Dt),vt;if(jt===null){for(;!pr.done;Dt++,pr=Ee.next())pr=qe(Ae,pr.value,We),pr!==null&&(be=A(pr,be,Dt),At===null?vt=pr:At.sibling=pr,At=pr);return Ie&&xe(Ae,Dt),vt}for(jt=g(Ae,jt);!pr.done;Dt++,pr=Ee.next())pr=Ze(jt,Ae,Dt,pr.value,We),pr!==null&&(i&&pr.alternate!==null&&jt.delete(pr.key===null?Dt:pr.key),be=A(pr,be,Dt),At===null?vt=pr:At.sibling=pr,At=pr);return i&&jt.forEach(function(aw){return s(Ae,aw)}),Ie&&xe(Ae,Dt),vt}function Sn(Ae,be,Ee,We){if(typeof Ee=="object"&&Ee!==null&&Ee.type===q&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case U:e:{for(var vt=Ee.key,At=be;At!==null;){if(At.key===vt){if(vt=Ee.type,vt===q){if(At.tag===7){u(Ae,At.sibling),be=b(At,Ee.props.children),be.return=Ae,Ae=be;break e}}else if(At.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===V&&Rr(vt)===At.type){u(Ae,At.sibling),be=b(At,Ee.props),be.ref=Ot(Ae,At,Ee),be.return=Ae,Ae=be;break e}u(Ae,At);break}else s(Ae,At);At=At.sibling}Ee.type===q?(be=ac(Ee.props.children,Ae.mode,We,Ee.key),be.return=Ae,Ae=be):(We=lh(Ee.type,Ee.key,Ee.props,null,Ae.mode,We),We.ref=Ot(Ae,be,Ee),We.return=Ae,Ae=We)}return M(Ae);case le:e:{for(At=Ee.key;be!==null;){if(be.key===At)if(be.tag===4&&be.stateNode.containerInfo===Ee.containerInfo&&be.stateNode.implementation===Ee.implementation){u(Ae,be.sibling),be=b(be,Ee.children||[]),be.return=Ae,Ae=be;break e}else{u(Ae,be);break}else s(Ae,be);be=be.sibling}be=Zf(Ee,Ae.mode,We),be.return=Ae,Ae=be}return M(Ae);case V:return At=Ee._init,Sn(Ae,be,At(Ee._payload),We)}if(wt(Ee))return lt(Ae,be,Ee,We);if(ce(Ee))return ft(Ae,be,Ee,We);Yt(Ae,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,be!==null&&be.tag===6?(u(Ae,be.sibling),be=b(be,Ee),be.return=Ae,Ae=be):(u(Ae,be),be=Qf(Ee,Ae.mode,We),be.return=Ae,Ae=be),M(Ae)):u(Ae,be)}return Sn}var fn=En(!0),Vr=En(!1),bn=cs(null),Cn=null,Ur=null,tr=null;function dr(){tr=Ur=Cn=null}function zr(i){var s=bn.current;yr(bn),i._currentValue=s}function hr(i,s,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),i===u)break;i=i.return}}function Yr(i,s){Cn=i,tr=Ur=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(Ji=!0),i.firstContext=null)}function Xr(i){var s=i._currentValue;if(tr!==i)if(i={context:i,memoizedValue:s,next:null},Ur===null){if(Cn===null)throw Error(r(308));Ur=i,Cn.dependencies={lanes:0,firstContext:i}}else Ur=Ur.next=i;return s}var jr=null;function Jn(i){jr===null?jr=[i]:jr.push(i)}function Sr(i,s,u,g){var b=s.interleaved;return b===null?(u.next=u,Jn(s)):(u.next=b.next,b.next=u),s.interleaved=u,Er(i,g)}function Er(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var pn=!1;function Bn(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vi(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function nn(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function sn(i,s,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(fr&2)!==0){var b=g.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),g.pending=s,Er(i,u)}return b=g.interleaved,b===null?(s.next=s,Jn(g)):(s.next=b.next,b.next=s),g.interleaved=s,Er(i,u)}function Yn(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var g=s.lanes;g&=i.pendingLanes,u|=g,s.lanes=u,Wo(i,u)}}function Cr(i,s){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var b=null,A=null;if(u=u.firstBaseUpdate,u!==null){do{var M={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};A===null?b=A=M:A=A.next=M,u=u.next}while(u!==null);A===null?b=A=s:A=A.next=s}else b=A=s;u={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:A,shared:g.shared,effects:g.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Xn(i,s,u,g){var b=i.updateQueue;pn=!1;var A=b.firstBaseUpdate,M=b.lastBaseUpdate,he=b.shared.pending;if(he!==null){b.shared.pending=null;var ye=he,Ce=ye.next;ye.next=null,M===null?A=Ce:M.next=Ce,M=ye;var ze=i.alternate;ze!==null&&(ze=ze.updateQueue,he=ze.lastBaseUpdate,he!==M&&(he===null?ze.firstBaseUpdate=Ce:he.next=Ce,ze.lastBaseUpdate=ye))}if(A!==null){var qe=b.baseState;M=0,ze=Ce=ye=null,he=A;do{var Ue=he.lane,Ze=he.eventTime;if((g&Ue)===Ue){ze!==null&&(ze=ze.next={eventTime:Ze,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var lt=i,ft=he;switch(Ue=s,Ze=u,ft.tag){case 1:if(lt=ft.payload,typeof lt=="function"){qe=lt.call(Ze,qe,Ue);break e}qe=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ft.payload,Ue=typeof lt=="function"?lt.call(Ze,qe,Ue):lt,Ue==null)break e;qe=we({},qe,Ue);break e;case 2:pn=!0}}he.callback!==null&&he.lane!==0&&(i.flags|=64,Ue=b.effects,Ue===null?b.effects=[he]:Ue.push(he))}else Ze={eventTime:Ze,lane:Ue,tag:he.tag,payload:he.payload,callback:he.callback,next:null},ze===null?(Ce=ze=Ze,ye=qe):ze=ze.next=Ze,M|=Ue;if(he=he.next,he===null){if(he=b.shared.pending,he===null)break;Ue=he,he=Ue.next,Ue.next=null,b.lastBaseUpdate=Ue,b.shared.pending=null}}while(!0);if(ze===null&&(ye=qe),b.baseState=ye,b.firstBaseUpdate=Ce,b.lastBaseUpdate=ze,s=b.shared.interleaved,s!==null){b=s;do M|=b.lane,b=b.next;while(b!==s)}else A===null&&(b.shared.lanes=0);rc|=M,i.lanes=M,i.memoizedState=qe}}function Ki(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var g=i[s],b=g.callback;if(b!==null){if(g.callback=null,g=u,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var us={},Ln=cs(us),an=cs(us),Fa=cs(us);function ea(i){if(i===us)throw Error(r(174));return i}function ul(i,s){switch(_r(Fa,s),_r(an,i),_r(Ln,us),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Jt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Jt(s,i)}yr(Ln),_r(Ln,s)}function Ds(){yr(Ln),yr(an),yr(Fa)}function $d(i){ea(Fa.current);var s=ea(Ln.current),u=Jt(s,i.type);s!==u&&(_r(an,i),_r(Ln,u))}function Yu(i){an.current===i&&(yr(Ln),yr(an))}var Dr=cs(0);function ds(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xu=[];function Qu(){for(var i=0;i<Xu.length;i++)Xu[i]._workInProgressVersionPrimary=null;Xu.length=0}var Mc=O.ReactCurrentDispatcher,Bc=O.ReactCurrentBatchConfig,Fs=0,qr=null,mn=null,on=null,dl=!1,ta=!1,hl=0,Nf=0;function _n(){throw Error(r(321))}function Uc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Gr(i[u],s[u]))return!1;return!0}function Zl(i,s,u,g,b,A){if(Fs=A,qr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mc.current=i===null||i.memoizedState===null?T5:O5,i=u(g,b),ta){A=0;do{if(ta=!1,hl=0,25<=A)throw Error(r(301));A+=1,on=mn=null,s.updateQueue=null,Mc.current=R5,i=u(g,b)}while(ta)}if(Mc.current=Kd,s=mn!==null&&mn.next!==null,Fs=0,on=mn=qr=null,dl=!1,s)throw Error(r(300));return i}function Ms(){var i=hl!==0;return hl=0,i}function hs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?qr.memoizedState=on=i:on=on.next=i,on}function Ti(){if(mn===null){var i=qr.alternate;i=i!==null?i.memoizedState:null}else i=mn.next;var s=on===null?qr.memoizedState:on.next;if(s!==null)on=s,mn=i;else{if(i===null)throw Error(r(310));mn=i,i={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},on===null?qr.memoizedState=on=i:on=on.next=i}return on}function ec(i,s){return typeof s=="function"?s(i):s}function zc(i){var s=Ti(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var g=mn,b=g.baseQueue,A=u.pending;if(A!==null){if(b!==null){var M=b.next;b.next=A.next,A.next=M}g.baseQueue=b=A,u.pending=null}if(b!==null){A=b.next,g=g.baseState;var he=M=null,ye=null,Ce=A;do{var ze=Ce.lane;if((Fs&ze)===ze)ye!==null&&(ye=ye.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),g=Ce.hasEagerState?Ce.eagerState:i(g,Ce.action);else{var qe={lane:ze,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};ye===null?(he=ye=qe,M=g):ye=ye.next=qe,qr.lanes|=ze,rc|=ze}Ce=Ce.next}while(Ce!==null&&Ce!==A);ye===null?M=g:ye.next=he,Gr(g,s.memoizedState)||(Ji=!0),s.memoizedState=g,s.baseState=M,s.baseQueue=ye,u.lastRenderedState=g}if(i=u.interleaved,i!==null){b=i;do A=b.lane,qr.lanes|=A,rc|=A,b=b.next;while(b!==i)}else b===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Ma(i){var s=Ti(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var g=u.dispatch,b=u.pending,A=s.memoizedState;if(b!==null){u.pending=null;var M=b=b.next;do A=i(A,M.action),M=M.next;while(M!==b);Gr(A,s.memoizedState)||(Ji=!0),s.memoizedState=A,s.baseQueue===null&&(s.baseState=A),u.lastRenderedState=A}return[A,g]}function Wd(){}function Zu(i,s){var u=qr,g=Ti(),b=s(),A=!Gr(g.memoizedState,b);if(A&&(g.memoizedState=b,Ji=!0),g=g.queue,Wc(Hd.bind(null,u,g,i),[i]),g.getSnapshot!==s||A||on!==null&&on.memoizedState.tag&1){if(u.flags|=2048,Oi(9,ed.bind(null,u,g,b,s),void 0,null),Qn===null)throw Error(r(349));(Fs&30)!==0||Vd(u,s,b)}return b}function Vd(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=qr.updateQueue,s===null?(s={lastEffect:null,stores:null},qr.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function ed(i,s,u,g){s.value=u,s.getSnapshot=g,fl(s)&&qc(i)}function Hd(i,s,u){return u(function(){fl(s)&&qc(i)})}function fl(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Gr(i,u)}catch{return!0}}function qc(i){var s=Er(i,1);s!==null&&aa(s,i,1,-1)}function tc(i){var s=hs();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:i},s.queue=i,i=i.dispatch=P5.bind(null,qr,i),[s.memoizedState,i]}function Oi(i,s,u,g){return i={tag:i,create:s,destroy:u,deps:g,next:null},s=qr.updateQueue,s===null?(s={lastEffect:null,stores:null},qr.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,s.lastEffect=i)),i}function ra(){return Ti().memoizedState}function fs(i,s,u,g){var b=hs();qr.flags|=i,b.memoizedState=Oi(1|s,u,void 0,g===void 0?null:g)}function Eo(i,s,u,g){var b=Ti();g=g===void 0?null:g;var A=void 0;if(mn!==null){var M=mn.memoizedState;if(A=M.destroy,g!==null&&Uc(g,M.deps)){b.memoizedState=Oi(s,u,A,g);return}}qr.flags|=i,b.memoizedState=Oi(1|s,u,A,g)}function $c(i,s){return fs(8390656,8,i,s)}function Wc(i,s){return Eo(2048,8,i,s)}function Gd(i,s){return Eo(4,2,i,s)}function Vc(i,s){return Eo(4,4,i,s)}function Hc(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function ag(i,s,u){return u=u!=null?u.concat([i]):null,Eo(4,4,Hc.bind(null,s,i),u)}function kf(){}function og(i,s){var u=Ti();s=s===void 0?null:s;var g=u.memoizedState;return g!==null&&s!==null&&Uc(s,g[1])?g[0]:(u.memoizedState=[i,s],i)}function lg(i,s){var u=Ti();s=s===void 0?null:s;var g=u.memoizedState;return g!==null&&s!==null&&Uc(s,g[1])?g[0]:(i=i(),u.memoizedState=[i,s],i)}function cg(i,s,u){return(Fs&21)===0?(i.baseState&&(i.baseState=!1,Ji=!0),i.memoizedState=u):(Gr(u,s)||(u=Ol(),qr.lanes|=u,rc|=u,i.baseState=!0),s)}function C5(i,s){var u=or;or=u!==0&&4>u?u:4,i(!0);var g=Bc.transition;Bc.transition={};try{i(!1),s()}finally{or=u,Bc.transition=g}}function ug(){return Ti().memoizedState}function L5(i,s,u){var g=vl(i);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},dg(i))hg(s,u);else if(u=Sr(i,s,u,g),u!==null){var b=Ii();aa(u,i,g,b),fg(u,s,g)}}function P5(i,s,u){var g=vl(i),b={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(dg(i))hg(s,b);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=s.lastRenderedReducer,A!==null))try{var M=s.lastRenderedState,he=A(M,u);if(b.hasEagerState=!0,b.eagerState=he,Gr(he,M)){var ye=s.interleaved;ye===null?(b.next=b,Jn(s)):(b.next=ye.next,ye.next=b),s.interleaved=b;return}}catch{}finally{}u=Sr(i,s,b,g),u!==null&&(b=Ii(),aa(u,i,g,b),fg(u,s,g))}}function dg(i){var s=i.alternate;return i===qr||s!==null&&s===qr}function hg(i,s){ta=dl=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function fg(i,s,u){if((u&4194240)!==0){var g=s.lanes;g&=i.pendingLanes,u|=g,s.lanes=u,Wo(i,u)}}var Kd={readContext:Xr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},T5={readContext:Xr,useCallback:function(i,s){return hs().memoizedState=[i,s===void 0?null:s],i},useContext:Xr,useEffect:$c,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,fs(4194308,4,Hc.bind(null,s,i),u)},useLayoutEffect:function(i,s){return fs(4194308,4,i,s)},useInsertionEffect:function(i,s){return fs(4,2,i,s)},useMemo:function(i,s){var u=hs();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var g=hs();return s=u!==void 0?u(s):s,g.memoizedState=g.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},g.queue=i,i=i.dispatch=L5.bind(null,qr,i),[g.memoizedState,i]},useRef:function(i){var s=hs();return i={current:i},s.memoizedState=i},useState:tc,useDebugValue:kf,useDeferredValue:function(i){return hs().memoizedState=i},useTransition:function(){var i=tc(!1),s=i[0];return i=C5.bind(null,i[1]),hs().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var g=qr,b=hs();if(Ie){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Qn===null)throw Error(r(349));(Fs&30)!==0||Vd(g,s,u)}b.memoizedState=u;var A={value:u,getSnapshot:s};return b.queue=A,$c(Hd.bind(null,g,A,i),[i]),g.flags|=2048,Oi(9,ed.bind(null,g,A,u,s),void 0,null),u},useId:function(){var i=hs(),s=Qn.identifierPrefix;if(Ie){var u=re,g=ke;u=(g&~(1<<32-cn(g)-1)).toString(32)+u,s=":"+s+"R"+u,u=hl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Nf++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},O5={readContext:Xr,useCallback:og,useContext:Xr,useEffect:Wc,useImperativeHandle:ag,useInsertionEffect:Gd,useLayoutEffect:Vc,useMemo:lg,useReducer:zc,useRef:ra,useState:function(){return zc(ec)},useDebugValue:kf,useDeferredValue:function(i){var s=Ti();return cg(s,mn.memoizedState,i)},useTransition:function(){var i=zc(ec)[0],s=Ti().memoizedState;return[i,s]},useMutableSource:Wd,useSyncExternalStore:Zu,useId:ug,unstable_isNewReconciler:!1},R5={readContext:Xr,useCallback:og,useContext:Xr,useEffect:Wc,useImperativeHandle:ag,useInsertionEffect:Gd,useLayoutEffect:Vc,useMemo:lg,useReducer:Ma,useRef:ra,useState:function(){return Ma(ec)},useDebugValue:kf,useDeferredValue:function(i){var s=Ti();return mn===null?s.memoizedState=i:cg(s,mn.memoizedState,i)},useTransition:function(){var i=Ma(ec)[0],s=Ti().memoizedState;return[i,s]},useMutableSource:Wd,useSyncExternalStore:Zu,useId:ug,unstable_isNewReconciler:!1};function na(i,s){if(i&&i.defaultProps){s=we({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function Af(i,s,u,g){s=i.memoizedState,u=u(g,s),u=u==null?s:we({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Jd={isMounted:function(i){return(i=i._reactInternals)?In(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var g=Ii(),b=vl(i),A=nn(g,b);A.payload=s,u!=null&&(A.callback=u),s=sn(i,A,b),s!==null&&(aa(s,i,b,g),Yn(s,i,b))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var g=Ii(),b=vl(i),A=nn(g,b);A.tag=1,A.payload=s,u!=null&&(A.callback=u),s=sn(i,A,b),s!==null&&(aa(s,i,b,g),Yn(s,i,b))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ii(),g=vl(i),b=nn(u,g);b.tag=2,s!=null&&(b.callback=s),s=sn(i,b,g),s!==null&&(aa(s,i,g,u),Yn(s,i,g))}};function pg(i,s,u,g,b,A,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,A,M):s.prototype&&s.prototype.isPureReactComponent?!hi(u,g)||!hi(b,A):!0}function mg(i,s,u){var g=!1,b=Da,A=s.contextType;return typeof A=="object"&&A!==null?A=Xr(A):(b=gi(s)?Ao:Mn.current,g=s.contextTypes,A=(g=g!=null)?cl(i,b):Da),s=new s(u,A),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Jd,i.stateNode=s,s._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=b,i.__reactInternalMemoizedMaskedChildContext=A),s}function gg(i,s,u,g){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,g),s.state!==i&&Jd.enqueueReplaceState(s,s.state,null)}function jf(i,s,u,g){var b=i.stateNode;b.props=u,b.state=i.memoizedState,b.refs={},Bn(i);var A=s.contextType;typeof A=="object"&&A!==null?b.context=Xr(A):(A=gi(s)?Ao:Mn.current,b.context=cl(i,A)),b.state=i.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(Af(i,s,A,u),b.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(s=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),s!==b.state&&Jd.enqueueReplaceState(b,b.state,null),Xn(i,u,b,g),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308)}function Gc(i,s){try{var u="",g=s;do u+=ue(g),g=g.return;while(g);var b=u}catch(A){b=`
Error generating stack: `+A.message+`
`+A.stack}return{value:i,source:s,stack:b,digest:null}}function Ef(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Cf(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var I5=typeof WeakMap=="function"?WeakMap:Map;function vg(i,s,u){u=nn(-1,u),u.tag=3,u.payload={element:null};var g=s.value;return u.callback=function(){rh||(rh=!0,Wf=g),Cf(i,s)},u}function yg(i,s,u){u=nn(-1,u),u.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var b=s.value;u.payload=function(){return g(b)},u.callback=function(){Cf(i,s)}}var A=i.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(u.callback=function(){Cf(i,s),typeof g!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var M=s.stack;this.componentDidCatch(s.value,{componentStack:M!==null?M:""})}),u}function wg(i,s,u){var g=i.pingCache;if(g===null){g=i.pingCache=new I5;var b=new Set;g.set(s,b)}else b=g.get(s),b===void 0&&(b=new Set,g.set(s,b));b.has(u)||(b.add(u),i=J5.bind(null,i,s,u),s.then(i,i))}function xg(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function bg(i,s,u,g,b){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=nn(-1,1),s.tag=2,sn(u,s,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=b,i)}var D5=O.ReactCurrentOwner,Ji=!1;function Ri(i,s,u,g){s.child=i===null?Vr(s,null,u,g):fn(s,i.child,u,g)}function _g(i,s,u,g,b){u=u.render;var A=s.ref;return Yr(s,b),g=Zl(i,s,u,g,A,b),u=Ms(),i!==null&&!Ji?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~b,Co(i,s,b)):(Ie&&u&&Oe(s),s.flags|=1,Ri(i,s,g,b),s.child)}function Sg(i,s,u,g,b){if(i===null){var A=u.type;return typeof A=="function"&&!Xf(A)&&A.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=A,Ng(i,s,A,g,b)):(i=lh(u.type,null,g,s,s.mode,b),i.ref=s.ref,i.return=s,s.child=i)}if(A=i.child,(i.lanes&b)===0){var M=A.memoizedProps;if(u=u.compare,u=u!==null?u:hi,u(M,g)&&i.ref===s.ref)return Co(i,s,b)}return s.flags|=1,i=wl(A,g),i.ref=s.ref,i.return=s,s.child=i}function Ng(i,s,u,g,b){if(i!==null){var A=i.memoizedProps;if(hi(A,g)&&i.ref===s.ref)if(Ji=!1,s.pendingProps=g=A,(i.lanes&b)!==0)(i.flags&131072)!==0&&(Ji=!0);else return s.lanes=i.lanes,Co(i,s,b)}return Lf(i,s,u,g,b)}function kg(i,s,u){var g=s.pendingProps,b=g.children,A=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Jc,ps),ps|=u;else{if((u&1073741824)===0)return i=A!==null?A.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,_r(Jc,ps),ps|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=A!==null?A.baseLanes:u,_r(Jc,ps),ps|=g}else A!==null?(g=A.baseLanes|u,s.memoizedState=null):g=u,_r(Jc,ps),ps|=g;return Ri(i,s,b,u),s.child}function Ag(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Lf(i,s,u,g,b){var A=gi(u)?Ao:Mn.current;return A=cl(s,A),Yr(s,b),u=Zl(i,s,u,g,A,b),g=Ms(),i!==null&&!Ji?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~b,Co(i,s,b)):(Ie&&g&&Oe(s),s.flags|=1,Ri(i,s,u,b),s.child)}function jg(i,s,u,g,b){if(gi(u)){var A=!0;jo(s)}else A=!1;if(Yr(s,b),s.stateNode===null)Xd(i,s),mg(s,u,g),jf(s,u,g,b),g=!0;else if(i===null){var M=s.stateNode,he=s.memoizedProps;M.props=he;var ye=M.context,Ce=u.contextType;typeof Ce=="object"&&Ce!==null?Ce=Xr(Ce):(Ce=gi(u)?Ao:Mn.current,Ce=cl(s,Ce));var ze=u.getDerivedStateFromProps,qe=typeof ze=="function"||typeof M.getSnapshotBeforeUpdate=="function";qe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(he!==g||ye!==Ce)&&gg(s,M,g,Ce),pn=!1;var Ue=s.memoizedState;M.state=Ue,Xn(s,g,M,b),ye=s.memoizedState,he!==g||Ue!==ye||mi.current||pn?(typeof ze=="function"&&(Af(s,u,ze,g),ye=s.memoizedState),(he=pn||pg(s,u,he,g,Ue,ye,Ce))?(qe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(s.flags|=4194308)):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=ye),M.props=g,M.state=ye,M.context=Ce,g=he):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{M=s.stateNode,vi(i,s),he=s.memoizedProps,Ce=s.type===s.elementType?he:na(s.type,he),M.props=Ce,qe=s.pendingProps,Ue=M.context,ye=u.contextType,typeof ye=="object"&&ye!==null?ye=Xr(ye):(ye=gi(u)?Ao:Mn.current,ye=cl(s,ye));var Ze=u.getDerivedStateFromProps;(ze=typeof Ze=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(he!==qe||Ue!==ye)&&gg(s,M,g,ye),pn=!1,Ue=s.memoizedState,M.state=Ue,Xn(s,g,M,b);var lt=s.memoizedState;he!==qe||Ue!==lt||mi.current||pn?(typeof Ze=="function"&&(Af(s,u,Ze,g),lt=s.memoizedState),(Ce=pn||pg(s,u,Ce,g,Ue,lt,ye)||!1)?(ze||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,lt,ye),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,lt,ye)),typeof M.componentDidUpdate=="function"&&(s.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof M.componentDidUpdate!="function"||he===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||he===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=lt),M.props=g,M.state=lt,M.context=ye,g=Ce):(typeof M.componentDidUpdate!="function"||he===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||he===i.memoizedProps&&Ue===i.memoizedState||(s.flags|=1024),g=!1)}return Pf(i,s,u,g,A,b)}function Pf(i,s,u,g,b,A){Ag(i,s);var M=(s.flags&128)!==0;if(!g&&!M)return b&&qd(s,u,!1),Co(i,s,A);g=s.stateNode,D5.current=s;var he=M&&typeof u.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,i!==null&&M?(s.child=fn(s,i.child,null,A),s.child=fn(s,null,he,A)):Ri(i,s,he,A),s.memoizedState=g.state,b&&qd(s,u,!0),s.child}function Eg(i){var s=i.stateNode;s.pendingContext?zd(i,s.pendingContext,s.pendingContext!==s.context):s.context&&zd(i,s.context,!1),ul(i,s.containerInfo)}function Cg(i,s,u,g,b){return tt(),Ge(b),s.flags|=256,Ri(i,s,u,g),s.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Of(i){return{baseLanes:i,cachePool:null,transitions:null}}function Lg(i,s,u){var g=s.pendingProps,b=Dr.current,A=!1,M=(s.flags&128)!==0,he;if((he=M)||(he=i!==null&&i.memoizedState===null?!1:(b&2)!==0),he?(A=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(b|=1),_r(Dr,b&1),i===null)return at(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(M=g.children,i=g.fallback,A?(g=s.mode,A=s.child,M={mode:"hidden",children:M},(g&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=M):A=ch(M,g,0,null),i=ac(i,g,u,null),A.return=s,i.return=s,A.sibling=i,s.child=A,s.child.memoizedState=Of(u),s.memoizedState=Tf,i):Rf(s,M));if(b=i.memoizedState,b!==null&&(he=b.dehydrated,he!==null))return F5(i,s,M,g,he,b,u);if(A){A=g.fallback,M=s.mode,b=i.child,he=b.sibling;var ye={mode:"hidden",children:g.children};return(M&1)===0&&s.child!==b?(g=s.child,g.childLanes=0,g.pendingProps=ye,s.deletions=null):(g=wl(b,ye),g.subtreeFlags=b.subtreeFlags&14680064),he!==null?A=wl(he,A):(A=ac(A,M,u,null),A.flags|=2),A.return=s,g.return=s,g.sibling=A,s.child=g,g=A,A=s.child,M=i.child.memoizedState,M=M===null?Of(u):{baseLanes:M.baseLanes|u,cachePool:null,transitions:M.transitions},A.memoizedState=M,A.childLanes=i.childLanes&~u,s.memoizedState=Tf,g}return A=i.child,i=A.sibling,g=wl(A,{mode:"visible",children:g.children}),(s.mode&1)===0&&(g.lanes=u),g.return=s,g.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=g,s.memoizedState=null,g}function Rf(i,s){return s=ch({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Yd(i,s,u,g){return g!==null&&Ge(g),fn(s,i.child,null,u),i=Rf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function F5(i,s,u,g,b,A,M){if(u)return s.flags&256?(s.flags&=-257,g=Ef(Error(r(422))),Yd(i,s,M,g)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(A=g.fallback,b=s.mode,g=ch({mode:"visible",children:g.children},b,0,null),A=ac(A,b,M,null),A.flags|=2,g.return=s,A.return=s,g.sibling=A,s.child=g,(s.mode&1)!==0&&fn(s,i.child,null,M),s.child.memoizedState=Of(M),s.memoizedState=Tf,A);if((s.mode&1)===0)return Yd(i,s,M,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var he=g.dgst;return g=he,A=Error(r(419)),g=Ef(A,g,void 0),Yd(i,s,M,g)}if(he=(M&i.childLanes)!==0,Ji||he){if(g=Qn,g!==null){switch(M&-M){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|M))!==0?0:b,b!==0&&b!==A.retryLane&&(A.retryLane=b,Er(i,b),aa(g,i,b,-1))}return Yf(),g=Ef(Error(r(421))),Yd(i,s,M,g)}return b.data==="$?"?(s.flags|=128,s.child=i.child,s=Y5.bind(null,i),b._reactRetry=s,null):(i=A.treeContext,Te=ni(b.nextSibling),Le=s,Ie=!0,Fe=null,i!==null&&(Y[te++]=ke,Y[te++]=re,Y[te++]=ve,ke=i.id,re=i.overflow,ve=s),s=Rf(s,g.children),s.flags|=4096,s)}function Pg(i,s,u){i.lanes|=s;var g=i.alternate;g!==null&&(g.lanes|=s),hr(i.return,s,u)}function If(i,s,u,g,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:b}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=u,A.tailMode=b)}function Tg(i,s,u){var g=s.pendingProps,b=g.revealOrder,A=g.tail;if(Ri(i,s,g.children,u),g=Dr.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Pg(i,u,s);else if(i.tag===19)Pg(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(_r(Dr,g),(s.mode&1)===0)s.memoizedState=null;else switch(b){case"forwards":for(u=s.child,b=null;u!==null;)i=u.alternate,i!==null&&ds(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=s.child,s.child=null):(b=u.sibling,u.sibling=null),If(s,!1,b,u,A);break;case"backwards":for(u=null,b=s.child,s.child=null;b!==null;){if(i=b.alternate,i!==null&&ds(i)===null){s.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}If(s,!0,u,null,A);break;case"together":If(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xd(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Co(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),rc|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=wl(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=wl(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function M5(i,s,u){switch(s.tag){case 3:Eg(s),tt();break;case 5:$d(s);break;case 1:gi(s.type)&&jo(s);break;case 4:ul(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,b=s.memoizedProps.value;_r(bn,g._currentValue),g._currentValue=b;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(_r(Dr,Dr.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?Lg(i,s,u):(_r(Dr,Dr.current&1),i=Co(i,s,u),i!==null?i.sibling:null);_r(Dr,Dr.current&1);break;case 19:if(g=(u&s.childLanes)!==0,(i.flags&128)!==0){if(g)return Tg(i,s,u);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),_r(Dr,Dr.current),g)break;return null;case 22:case 23:return s.lanes=0,kg(i,s,u)}return Co(i,s,u)}var Og,Df,Rg,Ig;Og=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Df=function(){},Rg=function(i,s,u,g){var b=i.memoizedProps;if(b!==g){i=s.stateNode,ea(Ln.current);var A=null;switch(u){case"input":b=Ke(i,b),g=Ke(i,g),A=[];break;case"select":b=we({},b,{value:void 0}),g=we({},g,{value:void 0}),A=[];break;case"textarea":b=Qe(i,b),g=Qe(i,g),A=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=al)}mr(u,g);var M;u=null;for(Ce in b)if(!g.hasOwnProperty(Ce)&&b.hasOwnProperty(Ce)&&b[Ce]!=null)if(Ce==="style"){var he=b[Ce];for(M in he)he.hasOwnProperty(M)&&(u||(u={}),u[M]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(a.hasOwnProperty(Ce)?A||(A=[]):(A=A||[]).push(Ce,null));for(Ce in g){var ye=g[Ce];if(he=b!=null?b[Ce]:void 0,g.hasOwnProperty(Ce)&&ye!==he&&(ye!=null||he!=null))if(Ce==="style")if(he){for(M in he)!he.hasOwnProperty(M)||ye&&ye.hasOwnProperty(M)||(u||(u={}),u[M]="");for(M in ye)ye.hasOwnProperty(M)&&he[M]!==ye[M]&&(u||(u={}),u[M]=ye[M])}else u||(A||(A=[]),A.push(Ce,u)),u=ye;else Ce==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,he=he?he.__html:void 0,ye!=null&&he!==ye&&(A=A||[]).push(Ce,ye)):Ce==="children"?typeof ye!="string"&&typeof ye!="number"||(A=A||[]).push(Ce,""+ye):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ce)?(ye!=null&&Ce==="onScroll"&&Ar("scroll",i),A||he===ye||(A=[])):(A=A||[]).push(Ce,ye))}u&&(A=A||[]).push("style",u);var Ce=A;(s.updateQueue=Ce)&&(s.flags|=4)}},Ig=function(i,s,u,g){u!==g&&(s.flags|=4)};function td(i,s){if(!Ie)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function yi(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(s)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=g,i.childLanes=u,s}function B5(i,s,u){var g=s.pendingProps;switch(je(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(s),null;case 1:return gi(s.type)&&Fc(),yi(s),null;case 3:return g=s.stateNode,Ds(),yr(mi),yr(Mn),Qu(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Jr(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fe!==null&&(Gf(Fe),Fe=null))),Df(i,s),yi(s),null;case 5:Yu(s);var b=ea(Fa.current);if(u=s.type,i!==null&&s.stateNode!=null)Rg(i,s,u,g,b),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(r(166));return yi(s),null}if(i=ea(Ln.current),Jr(s)){g=s.stateNode,u=s.type;var A=s.memoizedProps;switch(g[Is]=s,g[ol]=A,i=(s.mode&1)!==0,u){case"dialog":Ar("cancel",g),Ar("close",g);break;case"iframe":case"object":case"embed":Ar("load",g);break;case"video":case"audio":for(b=0;b<Ra.length;b++)Ar(Ra[b],g);break;case"source":Ar("error",g);break;case"img":case"image":case"link":Ar("error",g),Ar("load",g);break;case"details":Ar("toggle",g);break;case"input":Z(g,A),Ar("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!A.multiple},Ar("invalid",g);break;case"textarea":ot(g,A),Ar("invalid",g)}mr(u,A),b=null;for(var M in A)if(A.hasOwnProperty(M)){var he=A[M];M==="children"?typeof he=="string"?g.textContent!==he&&(A.suppressHydrationWarning!==!0&&Dc(g.textContent,he,i),b=["children",he]):typeof he=="number"&&g.textContent!==""+he&&(A.suppressHydrationWarning!==!0&&Dc(g.textContent,he,i),b=["children",""+he]):a.hasOwnProperty(M)&&he!=null&&M==="onScroll"&&Ar("scroll",g)}switch(u){case"input":Pe(g),yt(g,A,!0);break;case"textarea":Pe(g),Kt(g);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(g.onclick=al)}g=b,s.updateQueue=g,g!==null&&(s.flags|=4)}else{M=b.nodeType===9?b:b.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Et(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=M.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=M.createElement(u,{is:g.is}):(i=M.createElement(u),u==="select"&&(M=i,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):i=M.createElementNS(i,u),i[Is]=s,i[ol]=g,Og(i,s,!1,!1),s.stateNode=i;e:{switch(M=xt(u,g),u){case"dialog":Ar("cancel",i),Ar("close",i),b=g;break;case"iframe":case"object":case"embed":Ar("load",i),b=g;break;case"video":case"audio":for(b=0;b<Ra.length;b++)Ar(Ra[b],i);b=g;break;case"source":Ar("error",i),b=g;break;case"img":case"image":case"link":Ar("error",i),Ar("load",i),b=g;break;case"details":Ar("toggle",i),b=g;break;case"input":Z(i,g),b=Ke(i,g),Ar("invalid",i);break;case"option":b=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},b=we({},g,{value:void 0}),Ar("invalid",i);break;case"textarea":ot(i,g),b=Qe(i,g),Ar("invalid",i);break;default:b=g}mr(u,b),he=b;for(A in he)if(he.hasOwnProperty(A)){var ye=he[A];A==="style"?zt(i,ye):A==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,ye!=null&&rt(i,ye)):A==="children"?typeof ye=="string"?(u!=="textarea"||ye!=="")&&kt(i,ye):typeof ye=="number"&&kt(i,""+ye):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(a.hasOwnProperty(A)?ye!=null&&A==="onScroll"&&Ar("scroll",i):ye!=null&&P(i,A,ye,M))}switch(u){case"input":Pe(i),yt(i,g,!1);break;case"textarea":Pe(i),Kt(i);break;case"option":g.value!=null&&i.setAttribute("value",""+fe(g.value));break;case"select":i.multiple=!!g.multiple,A=g.value,A!=null?Ye(i,!!g.multiple,A,!1):g.defaultValue!=null&&Ye(i,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(i.onclick=al)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return yi(s),null;case 6:if(i&&s.stateNode!=null)Ig(i,s,i.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(r(166));if(u=ea(Fa.current),ea(Ln.current),Jr(s)){if(g=s.stateNode,u=s.memoizedProps,g[Is]=s,(A=g.nodeValue!==u)&&(i=Le,i!==null))switch(i.tag){case 3:Dc(g.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Dc(g.nodeValue,u,(i.mode&1)!==0)}A&&(s.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[Is]=s,s.stateNode=g}return yi(s),null;case 13:if(yr(Dr),g=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ie&&Te!==null&&(s.mode&1)!==0&&(s.flags&128)===0)$t(),tt(),s.flags|=98560,A=!1;else if(A=Jr(s),g!==null&&g.dehydrated!==null){if(i===null){if(!A)throw Error(r(318));if(A=s.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Is]=s}else tt(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yi(s),A=!1}else Fe!==null&&(Gf(Fe),Fe=null),A=!0;if(!A)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Dr.current&1)!==0?Un===0&&(Un=3):Yf())),s.updateQueue!==null&&(s.flags|=4),yi(s),null);case 4:return Ds(),Df(i,s),i===null&&_o(s.stateNode.containerInfo),yi(s),null;case 10:return zr(s.type._context),yi(s),null;case 17:return gi(s.type)&&Fc(),yi(s),null;case 19:if(yr(Dr),A=s.memoizedState,A===null)return yi(s),null;if(g=(s.flags&128)!==0,M=A.rendering,M===null)if(g)td(A,!1);else{if(Un!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(M=ds(i),M!==null){for(s.flags|=128,td(A,!1),g=M.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=u,u=s.child;u!==null;)A=u,i=g,A.flags&=14680066,M=A.alternate,M===null?(A.childLanes=0,A.lanes=i,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=M.childLanes,A.lanes=M.lanes,A.child=M.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=M.memoizedProps,A.memoizedState=M.memoizedState,A.updateQueue=M.updateQueue,A.type=M.type,i=M.dependencies,A.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return _r(Dr,Dr.current&1|2),s.child}i=i.sibling}A.tail!==null&&Ir()>Yc&&(s.flags|=128,g=!0,td(A,!1),s.lanes=4194304)}else{if(!g)if(i=ds(M),i!==null){if(s.flags|=128,g=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),td(A,!0),A.tail===null&&A.tailMode==="hidden"&&!M.alternate&&!Ie)return yi(s),null}else 2*Ir()-A.renderingStartTime>Yc&&u!==1073741824&&(s.flags|=128,g=!0,td(A,!1),s.lanes=4194304);A.isBackwards?(M.sibling=s.child,s.child=M):(u=A.last,u!==null?u.sibling=M:s.child=M,A.last=M)}return A.tail!==null?(s=A.tail,A.rendering=s,A.tail=s.sibling,A.renderingStartTime=Ir(),s.sibling=null,u=Dr.current,_r(Dr,g?u&1|2:u&1),s):(yi(s),null);case 22:case 23:return Jf(),g=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(s.flags|=8192),g&&(s.mode&1)!==0?(ps&1073741824)!==0&&(yi(s),s.subtreeFlags&6&&(s.flags|=8192)):yi(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function U5(i,s){switch(je(s),s.tag){case 1:return gi(s.type)&&Fc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ds(),yr(mi),yr(Mn),Qu(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Yu(s),null;case 13:if(yr(Dr),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));tt()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return yr(Dr),null;case 4:return Ds(),null;case 10:return zr(s.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var Qd=!1,wi=!1,z5=typeof WeakSet=="function"?WeakSet:Set,it=null;function Kc(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){gn(i,s,g)}else u.current=null}function Ff(i,s,u){try{u()}catch(g){gn(i,s,g)}}var Dg=!1;function q5(i,s){if(Yl=Ko,i=hn(),ls(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var b=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{u.nodeType,A.nodeType}catch{u=null;break e}var M=0,he=-1,ye=-1,Ce=0,ze=0,qe=i,Ue=null;t:for(;;){for(var Ze;qe!==u||b!==0&&qe.nodeType!==3||(he=M+b),qe!==A||g!==0&&qe.nodeType!==3||(ye=M+g),qe.nodeType===3&&(M+=qe.nodeValue.length),(Ze=qe.firstChild)!==null;)Ue=qe,qe=Ze;for(;;){if(qe===i)break t;if(Ue===u&&++Ce===b&&(he=M),Ue===A&&++ze===g&&(ye=M),(Ze=qe.nextSibling)!==null)break;qe=Ue,Ue=qe.parentNode}qe=Ze}u=he===-1||ye===-1?null:{start:he,end:ye}}else u=null}u=u||{start:0,end:0}}else u=null;for(No={focusedElem:i,selectionRange:u},Ko=!1,it=s;it!==null;)if(s=it,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,it=i;else for(;it!==null;){s=it;try{var lt=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ft=lt.memoizedProps,Sn=lt.memoizedState,Ae=s.stateNode,be=Ae.getSnapshotBeforeUpdate(s.elementType===s.type?ft:na(s.type,ft),Sn);Ae.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var Ee=s.stateNode.containerInfo;Ee.nodeType===1?Ee.textContent="":Ee.nodeType===9&&Ee.documentElement&&Ee.removeChild(Ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(We){gn(s,s.return,We)}if(i=s.sibling,i!==null){i.return=s.return,it=i;break}it=s.return}return lt=Dg,Dg=!1,lt}function rd(i,s,u){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&i)===i){var A=b.destroy;b.destroy=void 0,A!==void 0&&Ff(s,u,A)}b=b.next}while(b!==g)}}function Zd(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var g=u.create;u.destroy=g()}u=u.next}while(u!==s)}}function Mf(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Fg(i){var s=i.alternate;s!==null&&(i.alternate=null,Fg(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Is],delete s[ol],delete s[pi],delete s[_f],delete s[Sf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Mg(i){return i.tag===5||i.tag===3||i.tag===4}function Bg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Mg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bf(i,s,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=al));else if(g!==4&&(i=i.child,i!==null))for(Bf(i,s,u),i=i.sibling;i!==null;)Bf(i,s,u),i=i.sibling}function Uf(i,s,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Uf(i,s,u),i=i.sibling;i!==null;)Uf(i,s,u),i=i.sibling}var ii=null,ia=!1;function pl(i,s,u){for(u=u.child;u!==null;)Ug(i,s,u),u=u.sibling}function Ug(i,s,u){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Za,u)}catch{}switch(u.tag){case 5:wi||Kc(u,s);case 6:var g=ii,b=ia;ii=null,pl(i,s,u),ii=g,ia=b,ii!==null&&(ia?(i=ii,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):ii.removeChild(u.stateNode));break;case 18:ii!==null&&(ia?(i=ii,u=u.stateNode,i.nodeType===8?Gu(i.parentNode,u):i.nodeType===1&&Gu(i,u),ao(i)):Gu(ii,u.stateNode));break;case 4:g=ii,b=ia,ii=u.stateNode.containerInfo,ia=!0,pl(i,s,u),ii=g,ia=b;break;case 0:case 11:case 14:case 15:if(!wi&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var A=b,M=A.destroy;A=A.tag,M!==void 0&&((A&2)!==0||(A&4)!==0)&&Ff(u,s,M),b=b.next}while(b!==g)}pl(i,s,u);break;case 1:if(!wi&&(Kc(u,s),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(he){gn(u,s,he)}pl(i,s,u);break;case 21:pl(i,s,u);break;case 22:u.mode&1?(wi=(g=wi)||u.memoizedState!==null,pl(i,s,u),wi=g):pl(i,s,u);break;default:pl(i,s,u)}}function zg(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new z5),s.forEach(function(g){var b=X5.bind(null,i,g);u.has(g)||(u.add(g),g.then(b,b))})}}function sa(i,s){var u=s.deletions;if(u!==null)for(var g=0;g<u.length;g++){var b=u[g];try{var A=i,M=s,he=M;e:for(;he!==null;){switch(he.tag){case 5:ii=he.stateNode,ia=!1;break e;case 3:ii=he.stateNode.containerInfo,ia=!0;break e;case 4:ii=he.stateNode.containerInfo,ia=!0;break e}he=he.return}if(ii===null)throw Error(r(160));Ug(A,M,b),ii=null,ia=!1;var ye=b.alternate;ye!==null&&(ye.return=null),b.return=null}catch(Ce){gn(b,s,Ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qg(s,i),s=s.sibling}function qg(i,s){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(sa(s,i),Ba(i),g&4){try{rd(3,i,i.return),Zd(3,i)}catch(ft){gn(i,i.return,ft)}try{rd(5,i,i.return)}catch(ft){gn(i,i.return,ft)}}break;case 1:sa(s,i),Ba(i),g&512&&u!==null&&Kc(u,u.return);break;case 5:if(sa(s,i),Ba(i),g&512&&u!==null&&Kc(u,u.return),i.flags&32){var b=i.stateNode;try{kt(b,"")}catch(ft){gn(i,i.return,ft)}}if(g&4&&(b=i.stateNode,b!=null)){var A=i.memoizedProps,M=u!==null?u.memoizedProps:A,he=i.type,ye=i.updateQueue;if(i.updateQueue=null,ye!==null)try{he==="input"&&A.type==="radio"&&A.name!=null&&He(b,A),xt(he,M);var Ce=xt(he,A);for(M=0;M<ye.length;M+=2){var ze=ye[M],qe=ye[M+1];ze==="style"?zt(b,qe):ze==="dangerouslySetInnerHTML"?rt(b,qe):ze==="children"?kt(b,qe):P(b,ze,qe,Ce)}switch(he){case"input":St(b,A);break;case"textarea":ir(b,A);break;case"select":var Ue=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!A.multiple;var Ze=A.value;Ze!=null?Ye(b,!!A.multiple,Ze,!1):Ue!==!!A.multiple&&(A.defaultValue!=null?Ye(b,!!A.multiple,A.defaultValue,!0):Ye(b,!!A.multiple,A.multiple?[]:"",!1))}b[ol]=A}catch(ft){gn(i,i.return,ft)}}break;case 6:if(sa(s,i),Ba(i),g&4){if(i.stateNode===null)throw Error(r(162));b=i.stateNode,A=i.memoizedProps;try{b.nodeValue=A}catch(ft){gn(i,i.return,ft)}}break;case 3:if(sa(s,i),Ba(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{ao(s.containerInfo)}catch(ft){gn(i,i.return,ft)}break;case 4:sa(s,i),Ba(i);break;case 13:sa(s,i),Ba(i),b=i.child,b.flags&8192&&(A=b.memoizedState!==null,b.stateNode.isHidden=A,!A||b.alternate!==null&&b.alternate.memoizedState!==null||($f=Ir())),g&4&&zg(i);break;case 22:if(ze=u!==null&&u.memoizedState!==null,i.mode&1?(wi=(Ce=wi)||ze,sa(s,i),wi=Ce):sa(s,i),Ba(i),g&8192){if(Ce=i.memoizedState!==null,(i.stateNode.isHidden=Ce)&&!ze&&(i.mode&1)!==0)for(it=i,ze=i.child;ze!==null;){for(qe=it=ze;it!==null;){switch(Ue=it,Ze=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:rd(4,Ue,Ue.return);break;case 1:Kc(Ue,Ue.return);var lt=Ue.stateNode;if(typeof lt.componentWillUnmount=="function"){g=Ue,u=Ue.return;try{s=g,lt.props=s.memoizedProps,lt.state=s.memoizedState,lt.componentWillUnmount()}catch(ft){gn(g,u,ft)}}break;case 5:Kc(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){Vg(qe);continue}}Ze!==null?(Ze.return=Ue,it=Ze):Vg(qe)}ze=ze.sibling}e:for(ze=null,qe=i;;){if(qe.tag===5){if(ze===null){ze=qe;try{b=qe.stateNode,Ce?(A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(he=qe.stateNode,ye=qe.memoizedProps.style,M=ye!=null&&ye.hasOwnProperty("display")?ye.display:null,he.style.display=Qt("display",M))}catch(ft){gn(i,i.return,ft)}}}else if(qe.tag===6){if(ze===null)try{qe.stateNode.nodeValue=Ce?"":qe.memoizedProps}catch(ft){gn(i,i.return,ft)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===i)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===i)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===i)break e;ze===qe&&(ze=null),qe=qe.return}ze===qe&&(ze=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:sa(s,i),Ba(i),g&4&&zg(i);break;case 21:break;default:sa(s,i),Ba(i)}}function Ba(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(Mg(u)){var g=u;break e}u=u.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(kt(b,""),g.flags&=-33);var A=Bg(i);Uf(i,A,b);break;case 3:case 4:var M=g.stateNode.containerInfo,he=Bg(i);Bf(i,he,M);break;default:throw Error(r(161))}}catch(ye){gn(i,i.return,ye)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function $5(i,s,u){it=i,$g(i)}function $g(i,s,u){for(var g=(i.mode&1)!==0;it!==null;){var b=it,A=b.child;if(b.tag===22&&g){var M=b.memoizedState!==null||Qd;if(!M){var he=b.alternate,ye=he!==null&&he.memoizedState!==null||wi;he=Qd;var Ce=wi;if(Qd=M,(wi=ye)&&!Ce)for(it=b;it!==null;)M=it,ye=M.child,M.tag===22&&M.memoizedState!==null?Hg(b):ye!==null?(ye.return=M,it=ye):Hg(b);for(;A!==null;)it=A,$g(A),A=A.sibling;it=b,Qd=he,wi=Ce}Wg(i)}else(b.subtreeFlags&8772)!==0&&A!==null?(A.return=b,it=A):Wg(i)}}function Wg(i){for(;it!==null;){var s=it;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:wi||Zd(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!wi)if(u===null)g.componentDidMount();else{var b=s.elementType===s.type?u.memoizedProps:na(s.type,u.memoizedProps);g.componentDidUpdate(b,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var A=s.updateQueue;A!==null&&Ki(s,A,g);break;case 3:var M=s.updateQueue;if(M!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Ki(s,M,u)}break;case 5:var he=s.stateNode;if(u===null&&s.flags&4){u=he;var ye=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ye.autoFocus&&u.focus();break;case"img":ye.src&&(u.src=ye.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Ce=s.alternate;if(Ce!==null){var ze=Ce.memoizedState;if(ze!==null){var qe=ze.dehydrated;qe!==null&&ao(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}wi||s.flags&512&&Mf(s)}catch(Ue){gn(s,s.return,Ue)}}if(s===i){it=null;break}if(u=s.sibling,u!==null){u.return=s.return,it=u;break}it=s.return}}function Vg(i){for(;it!==null;){var s=it;if(s===i){it=null;break}var u=s.sibling;if(u!==null){u.return=s.return,it=u;break}it=s.return}}function Hg(i){for(;it!==null;){var s=it;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Zd(4,s)}catch(ye){gn(s,u,ye)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var b=s.return;try{g.componentDidMount()}catch(ye){gn(s,b,ye)}}var A=s.return;try{Mf(s)}catch(ye){gn(s,A,ye)}break;case 5:var M=s.return;try{Mf(s)}catch(ye){gn(s,M,ye)}}}catch(ye){gn(s,s.return,ye)}if(s===i){it=null;break}var he=s.sibling;if(he!==null){he.return=s.return,it=he;break}it=s.return}}var W5=Math.ceil,eh=O.ReactCurrentDispatcher,zf=O.ReactCurrentOwner,Bs=O.ReactCurrentBatchConfig,fr=0,Qn=null,Pn=null,si=0,ps=0,Jc=cs(0),Un=0,nd=null,rc=0,th=0,qf=0,id=null,Yi=null,$f=0,Yc=1/0,Lo=null,rh=!1,Wf=null,ml=null,nh=!1,gl=null,ih=0,sd=0,Vf=null,sh=-1,ah=0;function Ii(){return(fr&6)!==0?Ir():sh!==-1?sh:sh=Ir()}function vl(i){return(i.mode&1)===0?1:(fr&2)!==0&&si!==0?si&-si:rn.transition!==null?(ah===0&&(ah=Ol()),ah):(i=or,i!==0||(i=window.event,i=i===void 0?16:lo(i.type)),i)}function aa(i,s,u,g){if(50<sd)throw sd=0,Vf=null,Error(r(185));ro(i,u,g),((fr&2)===0||i!==Qn)&&(i===Qn&&((fr&2)===0&&(th|=u),Un===4&&yl(i,si)),Xi(i,g),u===1&&fr===0&&(s.mode&1)===0&&(Yc=Ir()+500,Ql&&L()))}function Xi(i,s){var u=i.callbackNode;wn(i,s);var g=to(i,i===Qn?si:0);if(g===0)u!==null&&Qa(u),i.callbackNode=null,i.callbackPriority=0;else if(s=g&-g,i.callbackPriority!==s){if(u!=null&&Qa(u),s===1)i.tag===0?S(Kg.bind(null,i)):y(Kg.bind(null,i)),xf(function(){(fr&6)===0&&L()}),u=null;else{switch(no(g)){case 1:u=zo;break;case 4:u=ki;break;case 16:u=Sa;break;case 536870912:u=qo;break;default:u=Sa}u=r0(u,Gg.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function Gg(i,s){if(sh=-1,ah=0,(fr&6)!==0)throw Error(r(327));var u=i.callbackNode;if(Xc()&&i.callbackNode!==u)return null;var g=to(i,i===Qn?si:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||s)s=oh(i,g);else{s=g;var b=fr;fr|=2;var A=Yg();(Qn!==i||si!==s)&&(Lo=null,Yc=Ir()+500,ic(i,s));do try{G5();break}catch(he){Jg(i,he)}while(!0);dr(),eh.current=A,fr=b,Pn!==null?s=0:(Qn=null,si=0,s=Un)}if(s!==0){if(s===2&&(b=ns(i),b!==0&&(g=b,s=Hf(i,b))),s===1)throw u=nd,ic(i,0),yl(i,g),Xi(i,Ir()),u;if(s===6)yl(i,g);else{if(b=i.current.alternate,(g&30)===0&&!V5(b)&&(s=oh(i,g),s===2&&(A=ns(i),A!==0&&(g=A,s=Hf(i,A))),s===1))throw u=nd,ic(i,0),yl(i,g),Xi(i,Ir()),u;switch(i.finishedWork=b,i.finishedLanes=g,s){case 0:case 1:throw Error(r(345));case 2:sc(i,Yi,Lo);break;case 3:if(yl(i,g),(g&130023424)===g&&(s=$f+500-Ir(),10<s)){if(to(i,0)!==0)break;if(b=i.suspendedLanes,(b&g)!==g){Ii(),i.pingedLanes|=i.suspendedLanes&b;break}i.timeoutHandle=Hu(sc.bind(null,i,Yi,Lo),s);break}sc(i,Yi,Lo);break;case 4:if(yl(i,g),(g&4194240)===g)break;for(s=i.eventTimes,b=-1;0<g;){var M=31-cn(g);A=1<<M,M=s[M],M>b&&(b=M),g&=~A}if(g=b,g=Ir()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*W5(g/1960))-g,10<g){i.timeoutHandle=Hu(sc.bind(null,i,Yi,Lo),g);break}sc(i,Yi,Lo);break;case 5:sc(i,Yi,Lo);break;default:throw Error(r(329))}}}return Xi(i,Ir()),i.callbackNode===u?Gg.bind(null,i):null}function Hf(i,s){var u=id;return i.current.memoizedState.isDehydrated&&(ic(i,s).flags|=256),i=oh(i,s),i!==2&&(s=Yi,Yi=u,s!==null&&Gf(s)),i}function Gf(i){Yi===null?Yi=i:Yi.push.apply(Yi,i)}function V5(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var b=u[g],A=b.getSnapshot;b=b.value;try{if(!Gr(A(),b))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yl(i,s){for(s&=~qf,s&=~th,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-cn(s),g=1<<u;i[u]=-1,s&=~g}}function Kg(i){if((fr&6)!==0)throw Error(r(327));Xc();var s=to(i,0);if((s&1)===0)return Xi(i,Ir()),null;var u=oh(i,s);if(i.tag!==0&&u===2){var g=ns(i);g!==0&&(s=g,u=Hf(i,g))}if(u===1)throw u=nd,ic(i,0),yl(i,s),Xi(i,Ir()),u;if(u===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,sc(i,Yi,Lo),Xi(i,Ir()),null}function Kf(i,s){var u=fr;fr|=1;try{return i(s)}finally{fr=u,fr===0&&(Yc=Ir()+500,Ql&&L())}}function nc(i){gl!==null&&gl.tag===0&&(fr&6)===0&&Xc();var s=fr;fr|=1;var u=Bs.transition,g=or;try{if(Bs.transition=null,or=1,i)return i()}finally{or=g,Bs.transition=u,fr=s,(fr&6)===0&&L()}}function Jf(){ps=Jc.current,yr(Jc)}function ic(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Bd(u)),Pn!==null)for(u=Pn.return;u!==null;){var g=u;switch(je(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Fc();break;case 3:Ds(),yr(mi),yr(Mn),Qu();break;case 5:Yu(g);break;case 4:Ds();break;case 13:yr(Dr);break;case 19:yr(Dr);break;case 10:zr(g.type._context);break;case 22:case 23:Jf()}u=u.return}if(Qn=i,Pn=i=wl(i.current,null),si=ps=s,Un=0,nd=null,qf=th=rc=0,Yi=id=null,jr!==null){for(s=0;s<jr.length;s++)if(u=jr[s],g=u.interleaved,g!==null){u.interleaved=null;var b=g.next,A=u.pending;if(A!==null){var M=A.next;A.next=b,g.next=M}u.pending=g}jr=null}return i}function Jg(i,s){do{var u=Pn;try{if(dr(),Mc.current=Kd,dl){for(var g=qr.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}dl=!1}if(Fs=0,on=mn=qr=null,ta=!1,hl=0,zf.current=null,u===null||u.return===null){Un=1,nd=s,Pn=null;break}e:{var A=i,M=u.return,he=u,ye=s;if(s=si,he.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ce=ye,ze=he,qe=ze.tag;if((ze.mode&1)===0&&(qe===0||qe===11||qe===15)){var Ue=ze.alternate;Ue?(ze.updateQueue=Ue.updateQueue,ze.memoizedState=Ue.memoizedState,ze.lanes=Ue.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Ze=xg(M);if(Ze!==null){Ze.flags&=-257,bg(Ze,M,he,A,s),Ze.mode&1&&wg(A,Ce,s),s=Ze,ye=Ce;var lt=s.updateQueue;if(lt===null){var ft=new Set;ft.add(ye),s.updateQueue=ft}else lt.add(ye);break e}else{if((s&1)===0){wg(A,Ce,s),Yf();break e}ye=Error(r(426))}}else if(Ie&&he.mode&1){var Sn=xg(M);if(Sn!==null){(Sn.flags&65536)===0&&(Sn.flags|=256),bg(Sn,M,he,A,s),Ge(Gc(ye,he));break e}}A=ye=Gc(ye,he),Un!==4&&(Un=2),id===null?id=[A]:id.push(A),A=M;do{switch(A.tag){case 3:A.flags|=65536,s&=-s,A.lanes|=s;var Ae=vg(A,ye,s);Cr(A,Ae);break e;case 1:he=ye;var be=A.type,Ee=A.stateNode;if((A.flags&128)===0&&(typeof be.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(ml===null||!ml.has(Ee)))){A.flags|=65536,s&=-s,A.lanes|=s;var We=yg(A,he,s);Cr(A,We);break e}}A=A.return}while(A!==null)}Qg(u)}catch(vt){s=vt,Pn===u&&u!==null&&(Pn=u=u.return);continue}break}while(!0)}function Yg(){var i=eh.current;return eh.current=Kd,i===null?Kd:i}function Yf(){(Un===0||Un===3||Un===2)&&(Un=4),Qn===null||(rc&268435455)===0&&(th&268435455)===0||yl(Qn,si)}function oh(i,s){var u=fr;fr|=2;var g=Yg();(Qn!==i||si!==s)&&(Lo=null,ic(i,s));do try{H5();break}catch(b){Jg(i,b)}while(!0);if(dr(),fr=u,eh.current=g,Pn!==null)throw Error(r(261));return Qn=null,si=0,Un}function H5(){for(;Pn!==null;)Xg(Pn)}function G5(){for(;Pn!==null&&!Uo();)Xg(Pn)}function Xg(i){var s=t0(i.alternate,i,ps);i.memoizedProps=i.pendingProps,s===null?Qg(i):Pn=s,zf.current=null}function Qg(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=B5(u,s,ps),u!==null){Pn=u;return}}else{if(u=U5(u,s),u!==null){u.flags&=32767,Pn=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Un=6,Pn=null;return}}if(s=s.sibling,s!==null){Pn=s;return}Pn=s=i}while(s!==null);Un===0&&(Un=5)}function sc(i,s,u){var g=or,b=Bs.transition;try{Bs.transition=null,or=1,K5(i,s,u,g)}finally{Bs.transition=b,or=g}return null}function K5(i,s,u,g){do Xc();while(gl!==null);if((fr&6)!==0)throw Error(r(327));u=i.finishedWork;var b=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var A=u.lanes|u.childLanes;if(As(i,A),i===Qn&&(Pn=Qn=null,si=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||nh||(nh=!0,r0(Sa,function(){return Xc(),null})),A=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||A){A=Bs.transition,Bs.transition=null;var M=or;or=1;var he=fr;fr|=4,zf.current=null,q5(i,u),qg(u,i),ql(No),Ko=!!Yl,No=Yl=null,i.current=u,$5(u),Ru(),fr=he,or=M,Bs.transition=A}else i.current=u;if(nh&&(nh=!1,gl=i,ih=b),A=i.pendingLanes,A===0&&(ml=null),kc(u.stateNode),Xi(i,Ir()),s!==null)for(g=i.onRecoverableError,u=0;u<s.length;u++)b=s[u],g(b.value,{componentStack:b.stack,digest:b.digest});if(rh)throw rh=!1,i=Wf,Wf=null,i;return(ih&1)!==0&&i.tag!==0&&Xc(),A=i.pendingLanes,(A&1)!==0?i===Vf?sd++:(sd=0,Vf=i):sd=0,L(),null}function Xc(){if(gl!==null){var i=no(ih),s=Bs.transition,u=or;try{if(Bs.transition=null,or=16>i?16:i,gl===null)var g=!1;else{if(i=gl,gl=null,ih=0,(fr&6)!==0)throw Error(r(331));var b=fr;for(fr|=4,it=i.current;it!==null;){var A=it,M=A.child;if((it.flags&16)!==0){var he=A.deletions;if(he!==null){for(var ye=0;ye<he.length;ye++){var Ce=he[ye];for(it=Ce;it!==null;){var ze=it;switch(ze.tag){case 0:case 11:case 15:rd(8,ze,A)}var qe=ze.child;if(qe!==null)qe.return=ze,it=qe;else for(;it!==null;){ze=it;var Ue=ze.sibling,Ze=ze.return;if(Fg(ze),ze===Ce){it=null;break}if(Ue!==null){Ue.return=Ze,it=Ue;break}it=Ze}}}var lt=A.alternate;if(lt!==null){var ft=lt.child;if(ft!==null){lt.child=null;do{var Sn=ft.sibling;ft.sibling=null,ft=Sn}while(ft!==null)}}it=A}}if((A.subtreeFlags&2064)!==0&&M!==null)M.return=A,it=M;else e:for(;it!==null;){if(A=it,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:rd(9,A,A.return)}var Ae=A.sibling;if(Ae!==null){Ae.return=A.return,it=Ae;break e}it=A.return}}var be=i.current;for(it=be;it!==null;){M=it;var Ee=M.child;if((M.subtreeFlags&2064)!==0&&Ee!==null)Ee.return=M,it=Ee;else e:for(M=be;it!==null;){if(he=it,(he.flags&2048)!==0)try{switch(he.tag){case 0:case 11:case 15:Zd(9,he)}}catch(vt){gn(he,he.return,vt)}if(he===M){it=null;break e}var We=he.sibling;if(We!==null){We.return=he.return,it=We;break e}it=he.return}}if(fr=b,L(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Za,i)}catch{}g=!0}return g}finally{or=u,Bs.transition=s}}return!1}function Zg(i,s,u){s=Gc(u,s),s=vg(i,s,1),i=sn(i,s,1),s=Ii(),i!==null&&(ro(i,1,s),Xi(i,s))}function gn(i,s,u){if(i.tag===3)Zg(i,i,u);else for(;s!==null;){if(s.tag===3){Zg(s,i,u);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ml===null||!ml.has(g))){i=Gc(u,i),i=yg(s,i,1),s=sn(s,i,1),i=Ii(),s!==null&&(ro(s,1,i),Xi(s,i));break}}s=s.return}}function J5(i,s,u){var g=i.pingCache;g!==null&&g.delete(s),s=Ii(),i.pingedLanes|=i.suspendedLanes&u,Qn===i&&(si&u)===u&&(Un===4||Un===3&&(si&130023424)===si&&500>Ir()-$f?ic(i,0):qf|=u),Xi(i,s)}function e0(i,s){s===0&&((i.mode&1)===0?s=1:(s=ji,ji<<=1,(ji&130023424)===0&&(ji=4194304)));var u=Ii();i=Er(i,s),i!==null&&(ro(i,s,u),Xi(i,u))}function Y5(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),e0(i,u)}function X5(i,s){var u=0;switch(i.tag){case 13:var g=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(s),e0(i,u)}var t0;t0=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||mi.current)Ji=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return Ji=!1,M5(i,s,u);Ji=(i.flags&131072)!==0}else Ji=!1,Ie&&(s.flags&1048576)!==0&&Ne(s,H,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;Xd(i,s),i=s.pendingProps;var b=cl(s,Mn.current);Yr(s,u),b=Zl(null,s,g,i,b,u);var A=Ms();return s.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,gi(g)?(A=!0,jo(s)):A=!1,s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Bn(s),b.updater=Jd,s.stateNode=b,b._reactInternals=s,jf(s,g,i,u),s=Pf(null,s,g,!0,A,u)):(s.tag=0,Ie&&A&&Oe(s),Ri(null,s,b,u),s=s.child),s;case 16:g=s.elementType;e:{switch(Xd(i,s),i=s.pendingProps,b=g._init,g=b(g._payload),s.type=g,b=s.tag=Z5(g),i=na(g,i),b){case 0:s=Lf(null,s,g,i,u);break e;case 1:s=jg(null,s,g,i,u);break e;case 11:s=_g(null,s,g,i,u);break e;case 14:s=Sg(null,s,g,na(g.type,i),u);break e}throw Error(r(306,g,""))}return s;case 0:return g=s.type,b=s.pendingProps,b=s.elementType===g?b:na(g,b),Lf(i,s,g,b,u);case 1:return g=s.type,b=s.pendingProps,b=s.elementType===g?b:na(g,b),jg(i,s,g,b,u);case 3:e:{if(Eg(s),i===null)throw Error(r(387));g=s.pendingProps,A=s.memoizedState,b=A.element,vi(i,s),Xn(s,g,null,u);var M=s.memoizedState;if(g=M.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},s.updateQueue.baseState=A,s.memoizedState=A,s.flags&256){b=Gc(Error(r(423)),s),s=Cg(i,s,g,u,b);break e}else if(g!==b){b=Gc(Error(r(424)),s),s=Cg(i,s,g,u,b);break e}else for(Te=ni(s.stateNode.containerInfo.firstChild),Le=s,Ie=!0,Fe=null,u=Vr(s,null,g,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(tt(),g===b){s=Co(i,s,u);break e}Ri(i,s,g,u)}s=s.child}return s;case 5:return $d(s),i===null&&at(s),g=s.type,b=s.pendingProps,A=i!==null?i.memoizedProps:null,M=b.children,Vu(g,b)?M=null:A!==null&&Vu(g,A)&&(s.flags|=32),Ag(i,s),Ri(i,s,M,u),s.child;case 6:return i===null&&at(s),null;case 13:return Lg(i,s,u);case 4:return ul(s,s.stateNode.containerInfo),g=s.pendingProps,i===null?s.child=fn(s,null,g,u):Ri(i,s,g,u),s.child;case 11:return g=s.type,b=s.pendingProps,b=s.elementType===g?b:na(g,b),_g(i,s,g,b,u);case 7:return Ri(i,s,s.pendingProps,u),s.child;case 8:return Ri(i,s,s.pendingProps.children,u),s.child;case 12:return Ri(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(g=s.type._context,b=s.pendingProps,A=s.memoizedProps,M=b.value,_r(bn,g._currentValue),g._currentValue=M,A!==null)if(Gr(A.value,M)){if(A.children===b.children&&!mi.current){s=Co(i,s,u);break e}}else for(A=s.child,A!==null&&(A.return=s);A!==null;){var he=A.dependencies;if(he!==null){M=A.child;for(var ye=he.firstContext;ye!==null;){if(ye.context===g){if(A.tag===1){ye=nn(-1,u&-u),ye.tag=2;var Ce=A.updateQueue;if(Ce!==null){Ce=Ce.shared;var ze=Ce.pending;ze===null?ye.next=ye:(ye.next=ze.next,ze.next=ye),Ce.pending=ye}}A.lanes|=u,ye=A.alternate,ye!==null&&(ye.lanes|=u),hr(A.return,u,s),he.lanes|=u;break}ye=ye.next}}else if(A.tag===10)M=A.type===s.type?null:A.child;else if(A.tag===18){if(M=A.return,M===null)throw Error(r(341));M.lanes|=u,he=M.alternate,he!==null&&(he.lanes|=u),hr(M,u,s),M=A.sibling}else M=A.child;if(M!==null)M.return=A;else for(M=A;M!==null;){if(M===s){M=null;break}if(A=M.sibling,A!==null){A.return=M.return,M=A;break}M=M.return}A=M}Ri(i,s,b.children,u),s=s.child}return s;case 9:return b=s.type,g=s.pendingProps.children,Yr(s,u),b=Xr(b),g=g(b),s.flags|=1,Ri(i,s,g,u),s.child;case 14:return g=s.type,b=na(g,s.pendingProps),b=na(g.type,b),Sg(i,s,g,b,u);case 15:return Ng(i,s,s.type,s.pendingProps,u);case 17:return g=s.type,b=s.pendingProps,b=s.elementType===g?b:na(g,b),Xd(i,s),s.tag=1,gi(g)?(i=!0,jo(s)):i=!1,Yr(s,u),mg(s,g,b),jf(s,g,b,u),Pf(null,s,g,!0,i,u);case 19:return Tg(i,s,u);case 22:return kg(i,s,u)}throw Error(r(156,s.tag))};function r0(i,s){return Xa(i,s)}function Q5(i,s,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Us(i,s,u,g){return new Q5(i,s,u,g)}function Xf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Z5(i){if(typeof i=="function")return Xf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===W)return 11;if(i===oe)return 14}return 2}function wl(i,s){var u=i.alternate;return u===null?(u=Us(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function lh(i,s,u,g,b,A){var M=2;if(g=i,typeof i=="function")Xf(i)&&(M=1);else if(typeof i=="string")M=5;else e:switch(i){case q:return ac(u.children,b,A,s);case G:M=8,b|=8;break;case K:return i=Us(12,u,s,b|2),i.elementType=K,i.lanes=A,i;case ae:return i=Us(13,u,s,b),i.elementType=ae,i.lanes=A,i;case ie:return i=Us(19,u,s,b),i.elementType=ie,i.lanes=A,i;case ee:return ch(u,b,A,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case pe:M=10;break e;case I:M=9;break e;case W:M=11;break e;case oe:M=14;break e;case V:M=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return s=Us(M,u,s,b),s.elementType=i,s.type=g,s.lanes=A,s}function ac(i,s,u,g){return i=Us(7,i,g,s),i.lanes=u,i}function ch(i,s,u,g){return i=Us(22,i,g,s),i.elementType=ee,i.lanes=u,i.stateNode={isHidden:!1},i}function Qf(i,s,u){return i=Us(6,i,null,s),i.lanes=u,i}function Zf(i,s,u){return s=Us(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function ew(i,s,u,g,b){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function ep(i,s,u,g,b,A,M,he,ye){return i=new ew(i,s,u,he,ye),s===1?(s=1,A===!0&&(s|=8)):s=0,A=Us(3,null,null,s),i.current=A,A.stateNode=i,A.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bn(A),i}function tw(i,s,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:g==null?null:""+g,children:i,containerInfo:s,implementation:u}}function n0(i){if(!i)return Da;i=i._reactInternals;e:{if(In(i)!==i||i.tag!==1)throw Error(r(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(i.tag===1){var u=i.type;if(gi(u))return Ju(i,u,s)}return s}function i0(i,s,u,g,b,A,M,he,ye){return i=ep(u,g,!0,i,b,A,M,he,ye),i.context=n0(null),u=i.current,g=Ii(),b=vl(u),A=nn(g,b),A.callback=s??null,sn(u,A,b),i.current.lanes=b,ro(i,b,g),Xi(i,g),i}function uh(i,s,u,g){var b=s.current,A=Ii(),M=vl(b);return u=n0(u),s.context===null?s.context=u:s.pendingContext=u,s=nn(A,M),s.payload={element:i},g=g===void 0?null:g,g!==null&&(s.callback=g),i=sn(b,s,M),i!==null&&(aa(i,b,M,A),Yn(i,b,M)),M}function dh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function s0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function tp(i,s){s0(i,s),(i=i.alternate)&&s0(i,s)}function rw(){return null}var a0=typeof reportError=="function"?reportError:function(i){console.error(i)};function rp(i){this._internalRoot=i}hh.prototype.render=rp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));uh(i,s,null,null)},hh.prototype.unmount=rp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;nc(function(){uh(null,i,null,null)}),s[Kn]=null}};function hh(i){this._internalRoot=i}hh.prototype.unstable_scheduleHydration=function(i){if(i){var s=jc();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Es.length&&s!==0&&s<Es[u].priority;u++);Es.splice(u,0,i),u===0&&Cc(i)}};function np(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function fh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function o0(){}function nw(i,s,u,g,b){if(b){if(typeof g=="function"){var A=g;g=function(){var Ce=dh(M);A.call(Ce)}}var M=i0(s,g,i,0,null,!1,!1,"",o0);return i._reactRootContainer=M,i[Kn]=M.current,_o(i.nodeType===8?i.parentNode:i),nc(),M}for(;b=i.lastChild;)i.removeChild(b);if(typeof g=="function"){var he=g;g=function(){var Ce=dh(ye);he.call(Ce)}}var ye=ep(i,0,!1,null,null,!1,!1,"",o0);return i._reactRootContainer=ye,i[Kn]=ye.current,_o(i.nodeType===8?i.parentNode:i),nc(function(){uh(s,ye,u,g)}),ye}function ph(i,s,u,g,b){var A=u._reactRootContainer;if(A){var M=A;if(typeof b=="function"){var he=b;b=function(){var ye=dh(M);he.call(ye)}}uh(s,M,i,b)}else M=nw(u,s,i,b,g);return dh(M)}Na=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=ks(s.pendingLanes);u!==0&&(Wo(s,u|1),Xi(s,Ir()),(fr&6)===0&&(Yc=Ir()+500,L()))}break;case 13:nc(function(){var g=Er(i,1);if(g!==null){var b=Ii();aa(g,i,1,b)}}),tp(i,1)}},Il=function(i){if(i.tag===13){var s=Er(i,134217728);if(s!==null){var u=Ii();aa(s,i,134217728,u)}tp(i,134217728)}},Ac=function(i){if(i.tag===13){var s=vl(i),u=Er(i,s);if(u!==null){var g=Ii();aa(u,i,s,g)}tp(i,s)}},jc=function(){return or},Vo=function(i,s){var u=or;try{return or=i,s()}finally{or=u}},Tt=function(i,s,u){switch(s){case"input":if(St(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var g=u[s];if(g!==i&&g.form===i.form){var b=Xl(g);if(!b)throw Error(r(90));Me(g),St(g,b)}}}break;case"textarea":ir(i,u);break;case"select":s=u.value,s!=null&&Ye(i,!!u.multiple,s,!1)}},rr=Kf,Mr=nc;var iw={usingClientEntryPoint:!1,Events:[ll,ko,Xl,Je,kr,Kf]},ad={findFiberByHostInstance:Ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sw={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=rs(i),i===null?null:i.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance||rw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Za=mh.inject(sw),Ai=mh}catch{}}return Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iw,Qi.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(s))throw Error(r(200));return tw(i,s,null,u)},Qi.createRoot=function(i,s){if(!np(i))throw Error(r(299));var u=!1,g="",b=a0;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=ep(i,1,!1,null,null,u,!1,g,b),i[Kn]=s.current,_o(i.nodeType===8?i.parentNode:i),new rp(s)},Qi.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=rs(s),i=i===null?null:i.stateNode,i},Qi.flushSync=function(i){return nc(i)},Qi.hydrate=function(i,s,u){if(!fh(s))throw Error(r(200));return ph(null,i,s,!0,u)},Qi.hydrateRoot=function(i,s,u){if(!np(i))throw Error(r(405));var g=u!=null&&u.hydratedSources||null,b=!1,A="",M=a0;if(u!=null&&(u.unstable_strictMode===!0&&(b=!0),u.identifierPrefix!==void 0&&(A=u.identifierPrefix),u.onRecoverableError!==void 0&&(M=u.onRecoverableError)),s=i0(s,null,i,1,u??null,b,!1,A,M),i[Kn]=s.current,_o(i),g)for(i=0;i<g.length;i++)u=g[i],b=u._getVersion,b=b(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,b]:s.mutableSourceEagerHydrationData.push(u,b);return new hh(s)},Qi.render=function(i,s,u){if(!fh(s))throw Error(r(200));return ph(null,i,s,!1,u)},Qi.unmountComponentAtNode=function(i){if(!fh(i))throw Error(r(40));return i._reactRootContainer?(nc(function(){ph(null,null,i,!1,function(){i._reactRootContainer=null,i[Kn]=null})}),!0):!1},Qi.unstable_batchedUpdates=Kf,Qi.unstable_renderSubtreeIntoContainer=function(i,s,u,g){if(!fh(u))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return ph(i,s,u,!1,g)},Qi.version="18.3.1-next-f1338f8080-20240426",Qi}var m0;function Vv(){if(m0)return ap.exports;m0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ap.exports=mw(),ap.exports}var g0;function gw(){if(g0)return gh;g0=1;var t=Vv();return gh.createRoot=t.createRoot,gh.hydrateRoot=t.hydrateRoot,gh}var vw=gw(),Q=Rm();const Ve=Wv(Q),yw=cw({__proto__:null,default:Ve},[Q]);var $a=function(){return $a=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},$a.apply(this,arguments)};function ju(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function ww(t,e,r,n){function a(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function c(v){try{p(n.next(v))}catch(w){l(w)}}function d(v){try{p(n.throw(v))}catch(w){l(w)}}function p(v){v.done?o(v.value):a(v.value).then(c,d)}p((n=n.apply(t,e||[])).next())})}function xw(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}const bw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Im extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class _w extends Im{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class v0 extends Im{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class y0 extends Im{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xp||(Xp={}));class Sw{constructor(e,{headers:r={},customFetch:n,region:a=Xp.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=bw(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ww(this,arguments,void 0,function*(r,n={}){var a;let o,l;try{const{headers:c,method:d,body:p,signal:v,timeout:w}=n;let N={},{region:h}=n;h||(h=this.region);const k=new URL(`${this.url}/${r}`);h&&h!=="any"&&(N["x-region"]=h,k.searchParams.set("forceFunctionRegion",h));let _;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(N["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(N["Content-Type"]="application/json",_=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?_=JSON.stringify(p):_=p;let C=v;w&&(l=new AbortController,o=setTimeout(()=>l.abort(),w),v?(C=l.signal,v.addEventListener("abort",()=>l.abort())):C=l.signal);const E=yield this.fetch(k.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),c),body:_,signal:C}).catch(U=>{throw new _w(U)}),j=E.headers.get("x-relay-error");if(j&&j==="true")throw new v0(E);if(!E.ok)throw new y0(E);let P=((a=E.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),O;return P==="application/json"?O=yield E.json():P==="application/octet-stream"||P==="application/pdf"?O=yield E.blob():P==="text/event-stream"?O=E:P==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(c){return{data:null,error:c,response:c instanceof y0||c instanceof v0?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var Nw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},kw=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,c=null,d=null,p=o.status,v=o.statusText;if(o.ok){var w,N;if(r.method!=="HEAD"){var h;const E=await o.text();E===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?c=E:c=JSON.parse(E))}const _=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),C=(N=o.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");_&&C&&C.length>1&&(d=parseInt(C[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,p=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var k;const _=await o.text();try{l=JSON.parse(_),Array.isArray(l)&&o.status===404&&(c=[],l=null,p=200,v="OK")}catch{o.status===404&&_===""?(p=204,v="No Content"):l={message:_}}if(l&&r.isMaybeSingle&&(!(l==null||(k=l.details)===null||k===void 0)&&k.includes("0 rows"))&&(l=null,p=200,v="OK"),l&&r.shouldThrowOnError)throw new Nw(l)}return{error:l,data:c,count:d,status:p,statusText:v}});return this.shouldThrowOnError||(a=a.catch(o=>{var l;let c="";const d=o==null?void 0:o.cause;if(d){var p,v,w,N;const k=(p=d==null?void 0:d.message)!==null&&p!==void 0?p:"",_=(v=d==null?void 0:d.code)!==null&&v!==void 0?v:"";c=`${(w=o==null?void 0:o.name)!==null&&w!==void 0?w:"FetchError"}: ${o==null?void 0:o.message}`,c+=`

Caused by: ${(N=d==null?void 0:d.name)!==null&&N!==void 0?N:"Error"}: ${k}`,_&&(c+=` (${_})`),d!=null&&d.stack&&(c+=`
${d.stack}`)}else{var h;c=(h=o==null?void 0:o.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},Aw=class extends kw{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const w0=new RegExp("[,()]");var du=class extends Aw{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&w0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&w0.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},jw=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(p=>/\s/.test(p)&&!o?"":(p==='"'&&(o=!o),p)).join(""),{url:c,headers:d}=this.cloneRequestState();return c.searchParams.set("select",l),n&&d.append("Prefer",`count=${n}`),new du({method:a,url:c,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),r||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(c.length>0){const d=[...new Set(c)].map(p=>`"${p}"`);o.searchParams.set("columns",d.join(","))}}return new du({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var o;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),a||d.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(p.length>0){const v=[...new Set(p)].map(w=>`"${w}"`);c.searchParams.set("columns",v.join(","))}}return new du({method:l,url:c,headers:d,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:a,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new du({method:n,url:a,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new du({method:r,url:n,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Ew=class Hv{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Hv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${e}`);let p;const v=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(v)),w=n&&Object.values(r).some(v);w?(c="POST",p=r):n||a?(c=n?"HEAD":"GET",Object.entries(r).filter(([h,k])=>k!==void 0).map(([h,k])=>[h,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([h,k])=>{d.searchParams.append(h,k)})):(c="POST",p=r);const N=new Headers(this.headers);return w?N.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&N.set("Prefer",`count=${o}`),new du({method:c,url:d,headers:N,schema:this.schemaName,body:p,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class Cw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Lw="2.90.1",Pw=`realtime-js/${Lw}`,Gv="1.0.0",Tw="2.0.0",x0=Gv,Qp=1e4,Ow=1e3,Rw=100;var kl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kl||(kl={}));var $n;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($n||($n={}));var da;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(da||(da={}));var Zp;(function(t){t.websocket="websocket"})(Zp||(Zp={}));var hc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hc||(hc={}));class Iw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,r,n){var a,o;const l=e.topic,c=(a=e.ref)!==null&&a!==void 0?a:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+p.length+w.length,h=new ArrayBuffer(this.HEADER_LENGTH+N);let k=new DataView(h),_=0;k.setUint8(_++,this.KINDS.userBroadcastPush),k.setUint8(_++,d.length),k.setUint8(_++,c.length),k.setUint8(_++,l.length),k.setUint8(_++,p.length),k.setUint8(_++,w.length),k.setUint8(_++,r),Array.from(d,E=>k.setUint8(_++,E.charCodeAt(0))),Array.from(c,E=>k.setUint8(_++,E.charCodeAt(0))),Array.from(l,E=>k.setUint8(_++,E.charCodeAt(0))),Array.from(p,E=>k.setUint8(_++,E.charCodeAt(0))),Array.from(w,E=>k.setUint8(_++,E.charCodeAt(0)));var C=new Uint8Array(h.byteLength+n.byteLength);return C.set(new Uint8Array(h),0),C.set(new Uint8Array(n),h.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,o,l,c,d]=n;return r({join_ref:a,ref:o,topic:l,event:c,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),o=r.getUint8(2),l=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const p=n.decode(e.slice(d,d+a));d=d+a;const v=n.decode(e.slice(d,d+o));d=d+o;const w=n.decode(e.slice(d,d+l));d=d+l;const N=e.slice(d,e.byteLength),h=c===this.JSON_ENCODING?JSON.parse(n.decode(N)):N,k={type:this.BROADCAST_EVENT,event:v,payload:h};return l>0&&(k.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Kv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $r;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($r||($r={}));const b0=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=Dw(l,t,e,a),o),{}):{}},Dw=(t,e,r,n)=>{const a=e.find(c=>c.name===t),o=a==null?void 0:a.type,l=r[t];return o&&!n.includes(o)?Jv(o,l):em(l)},Jv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Uw(e,r)}switch(t){case $r.bool:return Fw(e);case $r.float4:case $r.float8:case $r.int2:case $r.int4:case $r.int8:case $r.numeric:case $r.oid:return Mw(e);case $r.json:case $r.jsonb:return Bw(e);case $r.timestamp:return zw(e);case $r.abstime:case $r.date:case $r.daterange:case $r.int4range:case $r.int8range:case $r.money:case $r.reltime:case $r.text:case $r.time:case $r.timestamptz:case $r.timetz:case $r.tsrange:case $r.tstzrange:return em(e);default:return em(e)}},em=t=>t,Fw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Mw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Uw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const l=t.slice(1,r);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>Jv(e,c))}return t},zw=t=>typeof t=="string"?t.replace(" ","T"):t,Yv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cp{constructor(e,r,n={},a=Qp){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_0||(_0={}));class pd{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pd.syncState(this.state,a,o,l),this.pendingDiffs.forEach(d=>{this.state=pd.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=pd.syncDiff(this.state,a,o,l),c())}),this.onJoin((a,o,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:l})}),this.onLeave((a,o,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const o=this.cloneDeep(e),l=this.transformState(r),c={},d={};return this.map(o,(p,v)=>{l[p]||(d[p]=v)}),this.map(l,(p,v)=>{const w=o[p];if(w){const N=v.map(C=>C.presence_ref),h=w.map(C=>C.presence_ref),k=v.filter(C=>h.indexOf(C.presence_ref)<0),_=w.filter(C=>N.indexOf(C.presence_ref)<0);k.length>0&&(c[p]=k),_.length>0&&(d[p]=_)}else c[p]=v}),this.syncDiff(o,{joins:c,leaves:d},n,a)}static syncDiff(e,r,n,a){const{joins:o,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(c,d)=>{var p;const v=(p=e[c])!==null&&p!==void 0?p:[];if(e[c]=this.cloneDeep(d),v.length>0){const w=e[c].map(h=>h.presence_ref),N=v.filter(h=>w.indexOf(h.presence_ref)<0);e[c].unshift(...N)}n(c,v,d)}),this.map(l,(c,d)=>{let p=e[c];if(!p)return;const v=d.map(w=>w.presence_ref);p=p.filter(w=>v.indexOf(w.presence_ref)<0),e[c]=p,a(c,p,d),p.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var S0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(S0||(S0={}));var md;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(md||(md={}));var Ro;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ro||(Ro={}));class gu{constructor(e,r={config:{}},n){var a,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=$n.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cp(this,da.join,this.params,this.timeout),this.rejoinTimer=new Kv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$n.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$n.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=$n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=$n.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new pd(this),this.broadcastEndpointURL=Yv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==$n.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,p=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[md.PRESENCE]&&this.bindings[md.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,w={},N={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:v}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Ro.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ro.CLOSED)),this.updateJoinPayload(Object.assign({config:N},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){e==null||e(Ro.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,C=(k=_==null?void 0:_.length)!==null&&k!==void 0?k:0,E=[];for(let j=0;j<C;j++){const P=_[j],{filter:{event:O,schema:U,table:le,filter:q}}=P,G=h&&h[j];if(G&&G.event===O&&gu.isFilterValueEqual(G.schema,U)&&gu.isFilterValueEqual(G.table,le)&&gu.isFilterValueEqual(G.filter,q))E.push(Object.assign(Object.assign({},P),{id:G.id}));else{this.unsubscribe(),this.state=$n.errored,e==null||e(Ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Ro.SUBSCRIBED);return}}).receive("error",h=>{this.state=$n.errored,e==null||e(Ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===$n.joined&&e===md.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const p=await c.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=$n.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new cp(this,da.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$n.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cp(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Rw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,o;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:p,join:v}=da;if(n&&[c,d,p,v].indexOf(l)>=0&&n!==this._joinRef())return;let N=this._onMessage(l,r,n);if(r&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var k,_,C;return((k=h.filter)===null||k===void 0?void 0:k.event)==="*"||((C=(_=h.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(h=>h.callback(N,n)):(o=this.bindings[l])===null||o===void 0||o.filter(h=>{var k,_,C,E,j,P,O,U;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in h){const le=h.id,q=(k=h.filter)===null||k===void 0?void 0:k.event;return le&&((_=r.ids)===null||_===void 0?void 0:_.includes(le))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))&&(!(!((E=h.filter)===null||E===void 0)&&E.table)||h.filter.table===((j=r.data)===null||j===void 0?void 0:j.table))}else{const le=(O=(P=h==null?void 0:h.filter)===null||P===void 0?void 0:P.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return le==="*"||le===((U=r==null?void 0:r.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===l}).map(h=>{if(typeof N=="object"&&"ids"in N){const k=N.data,{schema:_,table:C,commit_timestamp:E,type:j,errors:P}=k;N=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:E,eventType:j,new:{},old:{},errors:P}),this._getPayloadRecords(k))}h.callback(N,n)})}_isClosed(){return this.state===$n.closed}_isJoined(){return this.state===$n.joined}_isJoining(){return this.state===$n.joining}_isLeaving(){return this.state===$n.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&gu.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(da.close,{},e)}_onError(e){this._on(da.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$n.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=b0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=b0(e.columns,e.old_record)),r}}const up=()=>{},vh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qw=[1e3,2e3,5e3,1e4],$w=1e4,Ww=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vw{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qp,this.transport=null,this.heartbeatIntervalMs=vh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=up,this.ref=0,this.reconnectTimer=null,this.vsn=x0,this.logger=up,this.conn=null,this.sendBuffer=[],this.serializer=new Iw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Zp.websocket}`,this.httpEndpoint=Yv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kl.connecting:return hc.Connecting;case kl.open:return hc.Open;case kl.closing:return hc.Closing;default:return hc.Closed}}isConnected(){return this.connectionState()===hc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new gu(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:a,ref:o}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ow,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:o,ref:l}=r,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${n} ${a} ${c}`.trim(),o),this.channels.filter(p=>p._isMember(n)).forEach(p=>p._trigger(a,o,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===kl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===kl.open||this.conn.readyState===kl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(da.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Ww],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const o={access_token:r,version:Pw};r&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(da.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Kv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,o,l,c,d,p,v,w,N,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Qp,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:vh.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:up,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:x0,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(k=>qw[k-1]||$w),this.vsn){case Gv:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((k,_)=>_(JSON.stringify(k))),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:((k,_)=>_(JSON.parse(k)));break;case Tw:this.encode=(N=e==null?void 0:e.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var yd=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Hw(t,e,r){const n=new URL(e,t);if(r)for(const[a,o]of Object.entries(r))o!==void 0&&n.searchParams.set(a,o);return n.toString()}async function Gw(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Kw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:o,headers:l}){const c=Hw(t.baseUrl,n,a),d=await Gw(t.auth),p=await e(c,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),v=await p.text(),w=(p.headers.get("content-type")||"").includes("application/json"),N=w&&v?JSON.parse(v):v;if(!p.ok){const h=w?N:void 0,k=h==null?void 0:h.error;throw new yd((k==null?void 0:k.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:h})}return{status:p.status,headers:p.headers,data:N}}}}function yh(t){return t.join("")}var Jw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:yh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yh(t.namespace)}`}),!0}catch(e){if(e instanceof yd&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof yd&&r.status===409)return;throw r}}};function Qc(t){return t.join("")}var Yw=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qc(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof yd&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof yd&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Xw=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Kw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Jw(this.client,e),this.tableOps=new Yw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},af=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ln(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Qw=class extends af{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tm=class extends af{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Dm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Zw=()=>Response,rm=t=>{if(Array.isArray(t))return t.map(r=>rm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=rm(n)}),e},ex=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tx=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function rx(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nx(t){var e=rx(t,"string");return wd(e)=="symbol"?e:e+""}function ix(t,e,r){return(e=nx(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(r),!0).forEach(function(n){ix(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const dp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},sx=async(t,e,r)=>{t instanceof await Zw()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const a=t.status||500,o=(n==null?void 0:n.statusCode)||a+"";e(new Qw(dp(n),a,o))}).catch(n=>{e(new tm(dp(n),n))}):e(new tm(dp(t),t))},ax=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(ex(n)?(a.headers=Pt({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Pt(Pt({},a),r))};async function Pd(t,e,r,n,a,o){return new Promise((l,c)=>{t(r,ax(e,n,a,o)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>sx(d,c,n))})}async function xd(t,e,r,n){return Pd(t,"GET",e,r,n)}async function ua(t,e,r,n,a){return Pd(t,"POST",e,n,a,r)}async function nm(t,e,r,n,a){return Pd(t,"PUT",e,n,a,r)}async function ox(t,e,r,n){return Pd(t,"HEAD",e,Pt(Pt({},r),{},{noResolveJson:!0}),n)}async function Fm(t,e,r,n,a){return Pd(t,"DELETE",e,n,a,r)}var lx=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ln(e))return{data:null,error:e};throw e}}};let Xv;Xv=Symbol.toStringTag;var cx=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Xv]="BlobDownloadBuilder",this.promise=null}asStream(){return new lx(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ln(e))return{data:null,error:e};throw e}}};const ux={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var dx=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Dm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let o;const l=Pt(Pt({},k0),n);let c=Pt(Pt({},a.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",a.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",a.encodeMetadata(d))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(c=Pt(Pt({},c),n.headers));const p=a._removeEmptyFolders(e),v=a._getFinalPath(p),w=await(t=="PUT"?nm:ua)(a.fetch,`${a.url}/object/${v}`,o,Pt({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:w.Id,fullPath:w.Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(ln(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const o=a._removeEmptyFolders(t),l=a._getFinalPath(o),c=new URL(a.url+`/object/upload/sign/${l}`);c.searchParams.set("token",e);try{let d;const p=Pt({upsert:k0.upsert},n),v=Pt(Pt({},a.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{data:{path:o,fullPath:(await nm(a.fetch,c.toString(),d,{headers:v})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(ln(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=Pt({},r.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const o=await ua(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+o.url),c=l.searchParams.get("token");if(!c)throw new af("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await ua(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ln(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await ua(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ln(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),o=await ua(n.fetch,`${n.url}/object/sign/${a}`,Pt({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ln(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await ua(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Pt(Pt({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${o}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ln(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=n?`?${n}`:"",o=this._getFinalPath(t),l=()=>xd(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new cx(l,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:rm(await xd(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await ox(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ln(n)&&n instanceof tm){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}async remove(t){var e=this;try{return{data:await Fm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=Pt(Pt(Pt({},ux),e),{},{prefix:t||""});return{data:await ua(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ln(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=Pt({},t);return{data:await ua(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Qv="2.90.1",Zv={"X-Client-Info":`storage-js/${Qv}`};var hx=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Pt(Pt({},Zv),e),this.fetch=Dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await xd(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await xd(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await ua(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await nm(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ln(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await ua(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Fm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},fx=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pt(Pt({},Zv),e),this.fetch=Dm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ua(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await xd(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Fm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ln(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!tx(t))throw new af("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Xw({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const l=a[o];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(a,c),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const Mm={"X-Client-Info":`storage-js/${Qv}`,"Content-Type":"application/json"};var e2=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ys(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var hp=class extends e2{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},px=class extends e2{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Bm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},A0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gx=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new hp(A0(o),n,l))}).catch(()=>{const o=n+"";e(new hp(a.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new hp(a.statusText||`HTTP ${n} error`,n,o))}}else e(new px(A0(t),t))},vx=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(mx(n)?(a.headers=Pt({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,Pt(Pt({},a),r)):a};async function yx(t,e,r,n,a,o){return new Promise((l,c)=>{t(r,vx(e,n,a,o)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>gx(d,c,n))})}async function ws(t,e,r,n,a){return yx(t,"POST",e,n,a,r)}var wx=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pt(Pt({},Mm),e),this.fetch=Bm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await ws(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ys(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await ws(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ys(n))return{data:null,error:n};throw n}}},xx=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pt(Pt({},Mm),e),this.fetch=Bm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ws(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ws(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ws(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}},bx=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Pt(Pt({},Mm),e),this.fetch=Bm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await ws(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ws(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ys(r))return{data:null,error:r};throw r}}},_x=class extends bx{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Sx(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Sx=class extends wx{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Pt(Pt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Pt(Pt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Nx(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Nx=class extends xx{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Pt(Pt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Pt(Pt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Pt(Pt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Pt(Pt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Pt(Pt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},kx=class extends hx{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new dx(this.url,this.headers,t,this.fetch)}get vectors(){return new _x(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fx(this.url+"/iceberg",this.headers,this.fetch)}};const t2="2.90.1",hu=30*1e3,im=3,fp=im*hu,Ax="http://localhost:9999",jx="supabase.auth.token",Ex={"X-Client-Info":`gotrue-js/${t2}`},sm="X-Supabase-Api-Version",r2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lx=600*1e3;class bd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Px extends bd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Tx(t){return _t(t)&&t.name==="AuthApiError"}class fc extends bd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bo extends bd{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class gs extends Bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ox(t){return _t(t)&&t.name==="AuthSessionMissingError"}class Zc extends Bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wh extends Bo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xh extends Bo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rx(t){return _t(t)&&t.name==="AuthImplicitGrantRedirectError"}class j0 extends Bo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ix extends Bo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class am extends Bo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function pp(t){return _t(t)&&t.name==="AuthRetryableFetchError"}class E0 extends Bo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class om extends Bo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),C0=` 	
\r=`.split(""),Dx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<C0.length;e+=1)t[C0[e].charCodeAt(0)]=-2;for(let e=0;e<Gh.length;e+=1)t[Gh[e].charCodeAt(0)]=e;return t})();function L0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Gh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Gh[n]),e.queuedBits-=6}}function n2(t,e,r){const n=Dx[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function P0(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=l=>{Bx(l,n,r)};for(let l=0;l<t.length;l+=1)n2(t.charCodeAt(l),a,o);return e.join("")}function Fx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Mx(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Fx(n,e)}}function Bx(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function yu(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)n2(t.charCodeAt(a),r,n);return new Uint8Array(e)}function Ux(t){const e=[];return Mx(t,r=>e.push(r)),new Uint8Array(e)}function mc(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>L0(a,r,n)),L0(null,r,n),e.join("")}function zx(t){return Math.round(Date.now()/1e3)+t}function qx(){return Symbol("auth-callback")}const oi=()=>typeof window<"u"&&typeof document<"u",oc={tested:!1,writable:!1},i2=()=>{if(!oi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oc.tested)return oc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),oc.tested=!0,oc.writable=!0}catch{oc.tested=!0,oc.writable=!1}return oc.writable};function $x(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const s2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Wx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},lc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ai=async(t,e)=>{await t.removeItem(e)};class of{constructor(){this.promise=new of.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}of.promiseConstructor=Promise;function mp(t){const e=t.split(".");if(e.length!==3)throw new om("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Cx.test(e[n]))throw new om("JWT not in base64url format");return{header:JSON.parse(P0(e[0])),payload:JSON.parse(P0(e[1])),signature:yu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hx(t,e){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){a(l);return}}})()})}function Gx(t){return("0"+t.toString(16)).substr(-2)}function Kx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Gx).join("")}async function Jx(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function Yx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Jx(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eu(t,e,r=!1){const n=Kx();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await fu(t,`${e}-code-verifier`,a);const o=await Yx(n);return[o,n===o?"plain":"s256"]}const Xx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qx(t){const e=t.headers.get(sm);if(!e||!e.match(Xx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Zx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function eb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tu(t){if(!tb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rb(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function T0(t){return JSON.parse(JSON.stringify(t))}const uc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nb=[502,503,504];async function O0(t){var e;if(!Wx(t))throw new am(uc(t),0);if(nb.includes(t.status))throw new am(uc(t),t.status);let r;try{r=await t.json()}catch(o){throw new fc(uc(o),o)}let n;const a=Qx(t);if(a&&a.getTime()>=r2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new E0(uc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new E0(uc(r),t.status,r.weak_password.reasons);throw new Px(uc(r),t.status||500,n)}const ib=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Lt(t,e,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[sm]||(o[sm]=r2["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await sb(t,e,r+c,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function sb(t,e,r,n,a,o){const l=ib(e,n,a,o);let c;try{c=await t(r,Object.assign({},l))}catch(d){throw console.error(d),new am(uc(d),0)}if(c.ok||await O0(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(d){await O0(d)}}function la(t){var e;let r=null;lb(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=zx(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function R0(t){const e=la(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Al(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ab(t){return{data:t,error:null}}function ob(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=t,l=ju(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function I0(t){return t}function lb(t){return t.access_token&&t.refresh_token&&t.expires_in}const vp=["global","local","others"];class cb{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=s2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=vp[0]){if(vp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vp.join(", ")}`);try{return await Lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Al})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ju(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ob,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(_t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Al})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,o,l,c,d;try{const p={nextPage:null,lastPage:0,total:0},v=await Lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:I0});if(v.error)throw v.error;const w=await v.json(),N=(l=v.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(d=(c=v.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return h.length>0&&(h.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);p[`${C}Page`]=_}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(_t(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){tu(e);try{return await Lt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Al})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){tu(e);try{return await Lt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Al})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){tu(e);try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Al})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){tu(e.userId);try{const{data:r,error:n}=await Lt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _deleteFactor(e){tu(e.userId),tu(e.id);try{return{data:await Lt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,o,l,c,d;try{const p={nextPage:null,lastPage:0,total:0},v=await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:I0});if(v.error)throw v.error;const w=await v.json(),N=(l=v.headers.get("x-total-count"))!==null&&l!==void 0?l:0,h=(d=(c=v.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return h.length>0&&(h.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(k.split(";")[1].split("=")[1]);p[`${C}Page`]=_}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(_t(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}}function D0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ru={debug:!!(globalThis&&i2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ub extends a2{}async function db(t,e,r){ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ru.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw ru.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ub(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ru.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function hb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function o2(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function fb(t){return parseInt(t,16)}function pb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function mb(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:o=new Date,nonce:l,notBefore:c,requestId:d,resources:p,scheme:v,uri:w,version:N}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=o2(t.address),k=v?`${v}://${n}`:n,_=t.statement?`${t.statement}
`:"",C=`${k} wants you to sign in with your Ethereum account:
${h}

${_}`;let E=`URI: ${w}
Version: ${N}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(a&&(E+=`
Expiration Time: ${a.toISOString()}`),c&&(E+=`
Not Before: ${c.toISOString()}`),d&&(E+=`
Request ID: ${d}`),p){let j=`
Resources:`;for(const P of p){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);j+=`
- ${P}`}E+=j}return`${C}
${E}`}class Tn extends Error{constructor({message:e,code:r,cause:n,name:a}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=a??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Kh extends Tn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function gb({error:t,options:e}){var r,n,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Tn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Tn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Tn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Tn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Tn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Tn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Tn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(l2(l)){if(o.rp.id!==l)return new Tn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Tn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Tn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function vb({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Tn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Tn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(l2(n)){if(r.rpId!==n)return new Tn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Tn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class yb{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const wb=new yb;function xb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=ju(t,["challenge","user","excludeCredentials"]),o=yu(e).buffer,l=Object.assign(Object.assign({},r),{id:yu(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:o,user:l});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:yu(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function bb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ju(t,["challenge","allowCredentials"]),a=yu(e).buffer,o=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.allowCredentials[l]=Object.assign(Object.assign({},c),{id:yu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function _b(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:mc(new Uint8Array(t.response.attestationObject)),clientDataJSON:mc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sb(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mc(new Uint8Array(a.authenticatorData)),clientDataJSON:mc(new Uint8Array(a.clientDataJSON)),signature:mc(new Uint8Array(a.signature)),userHandle:a.userHandle?mc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function l2(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function F0(){var t,e;return!!(oi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Nb(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Kh("Browser returned unexpected credential type",e)}:{data:null,error:new Kh("Empty credential response",e)}}catch(e){return{data:null,error:gb({error:e,options:t})}}}async function kb(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Kh("Browser returned unexpected credential type",e)}:{data:null,error:new Kh("Empty credential response",e)}}catch(e){return{data:null,error:vb({error:e,options:t})}}}const Ab={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Jh(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const o in a){const l=a[o];if(l!==void 0)if(Array.isArray(l))n[o]=l;else if(r(l))n[o]=l;else if(e(l)){const c=n[o];e(c)?n[o]=Jh(c,l):n[o]=Jh(l)}else n[o]=l}return n}function Eb(t,e){return Jh(Ab,t,e||{})}function Cb(t,e){return Jh(jb,t,e||{})}class Lb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},o){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:c};const d=a??wb.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${n}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{const p=Eb(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:v,error:w}=await Nb({publicKey:p,signal:d});return v?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const p=Cb(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:v,error:w}=await kb(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:d}));return v?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(l){return _t(l)?{data:null,error:l}:{data:null,error:new fc("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new bd("rpId is required for WebAuthn authentication")};try{if(!F0())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:o});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return _t(l)?{data:null,error:l}:{data:null,error:new fc("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new bd("rpId is required for WebAuthn registration")};try{if(!F0())return{data:null,error:new fc("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===e&&N.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:c};const{data:d,error:p}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(l){return _t(l)?{data:null,error:l}:{data:null,error:new fc("Unexpected error in register",l)}}}}hb();const Pb={url:Ax,storageKey:jx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ex,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function M0(t,e,r){return await r()}const nu={};class _d{get jwks(){var e,r;return(r=(e=nu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){nu[this.storageKey]=Object.assign(Object.assign({},nu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=nu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){nu[this.storageKey]=Object.assign(Object.assign({},nu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Pb),e);if(this.storageKey=o.storageKey,this.instanceID=(r=_d.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,_d.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&oi()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new cb({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=s2(o.fetch),this.lock=o.lock||M0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&oi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=db:this.lock=M0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Lb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:i2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=D0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=D0(this.memoryStorage)),oi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${t2}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(oi()&&(r=$x(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),oi()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Rx(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _t(r)?this._returnResult({error:r}):this._returnResult({error:new fc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const o=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:la}),{data:l,error:c}=o;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,a;try{let o;if("email"in e){const{email:v,password:w,options:N}=e;let h=null,k=null;this.flowType==="pkce"&&([h,k]=await eu(this.storage,this.storageKey)),o=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:v,password:w,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:h,code_challenge_method:k},xform:la})}else if("phone"in e){const{phone:v,password:w,options:N}=e;o=await Lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(n=N==null?void 0:N.data)!==null&&n!==void 0?n:{},channel:(a=N==null?void 0:N.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:la})}else throw new wh("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return await ai(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(o){if(await ai(this.storage,`${this.storageKey}-code-verifier`),_t(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:l,options:c}=e;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:R0})}else if("phone"in e){const{phone:o,password:l,options:c}=e;r=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:R0})}else throw new wh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const o=new Zc;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,o,l,c,d,p,v,w,N;let h,k;if("message"in e)h=e.message,k=e.signature;else{const{chain:_,wallet:C,statement:E,options:j}=e;let P;if(oi())if(typeof C=="object")P=C;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")P=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=C}const O=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href),U=await P.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const le=o2(U[0]);let q=(n=j==null?void 0:j.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!q){const K=await P.request({method:"eth_chainId"});q=fb(K)}const G={domain:O.host,address:le,statement:E,uri:O.href,version:"1",chainId:q,nonce:(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(o=j==null?void 0:j.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=j==null?void 0:j.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=j==null?void 0:j.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=j==null?void 0:j.signInWithEthereum)===null||v===void 0?void 0:v.resources};h=mb(G),k=await P.request({method:"personal_sign",params:[pb(h),le]})}try{const{data:_,error:C}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:k},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:la});if(C)throw C;if(!_||!_.session||!_.user){const E=new Zc;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:C})}catch(_){if(_t(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,n,a,o,l,c,d,p,v,w,N,h;let k,_;if("message"in e)k=e.message,_=e.signature;else{const{chain:C,wallet:E,statement:j,options:P}=e;let O;if(oi())if(typeof E=="object")O=E;else{const le=window;if("solana"in le&&typeof le.solana=="object"&&("signIn"in le.solana&&typeof le.solana.signIn=="function"||"signMessage"in le.solana&&typeof le.solana.signMessage=="function"))O=le.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const U=new URL((r=P==null?void 0:P.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const le=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),j?{statement:j}:null));let q;if(Array.isArray(le)&&le[0]&&typeof le[0]=="object")q=le[0];else if(le&&typeof le=="object"&&"signedMessage"in le&&"signature"in le)q=le;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)k=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),_=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${U.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(a=(n=P==null?void 0:P.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((w=(v=P==null?void 0:P.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...P.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const le=await O.signMessage(new TextEncoder().encode(k),"utf8");if(!le||!(le instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=le}}try{const{data:C,error:E}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:mc(_)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:la});if(E)throw E;if(!C||!C.session||!C.user){const j=new Zc;return this._returnResult({data:{user:null,session:null},error:j})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:E})}catch(C){if(_t(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await lc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Ix;const{data:o,error:l}=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:la});if(await ai(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const c=new Zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:l})}catch(o){if(await ai(this.storage,`${this.storageKey}-code-verifier`),_t(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:o,nonce:l}=e,c=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:la}),{data:d,error:p}=c;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const v=new Zc;return this._returnResult({data:{user:null,session:null},error:v})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,o,l;try{if("email"in e){const{email:c,options:d}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await eu(this.storage,this.storageKey));const{error:w}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:c,options:d}=e,{data:p,error:v}=await Lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new wh("You must provide either an email or phone number.")}catch(c){if(await ai(this.storage,`${this.storageKey}-code-verifier`),_t(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await Lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:la});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,p=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(a){if(_t(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,o,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await eu(this.storage,this.storageKey));const p=await Lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:ab});return!((o=p.data)===null||o===void 0)&&o.url&&oi()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(c){if(await ai(this.storage,`${this.storageKey}-code-verifier`),_t(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new gs;const{error:a}=await Lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(_t(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:o}=e,{error:l}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:n,type:a,options:o}=e,{data:l,error:c}=await Lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new wh("You must provide either an email or phone number and a type")}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<fp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await lc(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=gp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=rb(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Al}):await this._useSession(async r=>{var n,a,o;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gs}:await Lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Al})})}catch(r){if(_t(r))return Ox(r)&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new gs;const l=a.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await eu(this.storage,this.storageKey));const{data:p,error:v}=await Lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Al});if(v)throw v;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await ai(this.storage,`${this.storageKey}-code-verifier`),_t(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gs;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:l}=mp(e.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(_t(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:c}=r;if(c)throw c;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gs;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!oi())throw new xh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new xh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new j0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new j0("No code detected.");const{data:j,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:p}=e;if(!o||!c||!l||!p)throw new xh("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(c);let N=v+w;d&&(N=parseInt(d));const h=N-v;h*1e3<=hu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${w}s`);const k=N-w;v-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,N,v):v-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,N,v);const{data:_,error:C}=await this._getUser(o);if(C)throw C;const E={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:w,expires_at:N,refresh_token:l,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(n){if(_t(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await lc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({error:o});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(Tx(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=qx(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await eu(this.storage,this.storageKey,!0));try{return await Lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await ai(this.storage,`${this.storageKey}-code-verifier`),_t(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var l,c,d,p,v;const{data:w,error:N}=o;if(N)throw N;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Lt(this.fetch,"GET",h,{headers:this.headers,jwt:(v=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return oi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(_t(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:l,provider:c,token:d,access_token:p,nonce:v}=e,w=await Lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:la}),{data:N,error:h}=w;return h?this._returnResult({data:{user:null,session:null},error:h}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new Zc}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:h}))}catch(a){if(await ai(this.storage,`${this.storageKey}-code-verifier`),_t(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:o,error:l}=r;if(l)throw l;return await Lt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Hx(async a=>(a>0&&await Vx(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:la})),(a,o)=>{const l=200*Math.pow(2,a);return o&&pp(o)&&Date.now()+l-n<hu})}catch(n){if(this._debug(r,"error",n),_t(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),oi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await lc(this.storage,this.storageKey);if(a&&this.userStorage){let l=await lc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await fu(this.userStorage,this.storageKey+"-user",l)),a.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:gp()}else if(a&&!a.user&&!a.user){const l=await lc(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await ai(this.storage,this.storageKey+"-user"),await fu(this.storage,this.storageKey,a)):a.user=gp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fp;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${fp}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),pp(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(a.access_token);!c&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new of;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new gs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(a,"error",o),_t(o)){const l={data:null,error:o};return pp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ai(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=T0(a);await fu(this.storage,this.storageKey,o)}else{const a=T0(r);await fu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ai(this.storage,this.storageKey),await ai(this.storage,this.storageKey+"-code-verifier"),await ai(this.storage,this.storageKey+"-user"),this.userStorage&&await ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&oi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/hu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${hu}ms, refresh threshold is ${im} ticks`),a<=im&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof a2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!oi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await eu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await Lt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:p}=await Lt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?_b(e.webauthn.credential_response):Sb(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await Lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=await Lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:xb(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:bb(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mp(n.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const p=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new gs})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new gs});const l=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&oi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new gs});const l=await Lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&oi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new gs})})}catch(e){if(_t(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gs})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+Lx>a)return n;const{data:o,error:l}=await Lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:k}=await this.getSession();if(k||!h.session)return this._returnResult({data:null,error:k});n=h.session.access_token}const{header:a,payload:o,signature:l,raw:{header:c,payload:d}}=mp(n);r!=null&&r.allowExpired||Zx(o.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:o,header:a,signature:l},error:null}}const v=eb(a.alg),w=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,l,Ux(`${c}.${d}`)))throw new om("Invalid JWT signature");return{data:{claims:o,header:a,signature:l},error:null}}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}}_d.nextInstanceID={};const Tb=_d,Ob="2.90.1";let hd="";typeof Deno<"u"?hd="deno":typeof document<"u"?hd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hd="react-native":hd="node";const Rb={"X-Client-Info":`supabase-js-${hd}/${Ob}`},Ib={headers:Rb},Db={schema:"public"},Fb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mb={};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function Bb(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ub(t){var e=Bb(t,"string");return Sd(e)=="symbol"?e:e+""}function zb(t,e,r){return(e=Ub(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B0(Object(r),!0).forEach(function(n){zb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B0(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const qb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$b=()=>Headers,Wb=(t,e,r)=>{const n=qb(r),a=$b();return async(o,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:t;let p=new a(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),n(o,yn(yn({},l),{},{headers:p}))}};function Vb(t){return t.endsWith("/")?t:t+"/"}function Hb(t,e){var r,n;const{db:a,auth:o,realtime:l,global:c}=t,{db:d,auth:p,realtime:v,global:w}=e,N={db:yn(yn({},d),a),auth:yn(yn({},p),o),realtime:yn(yn({},v),l),storage:{},global:yn(yn(yn({},w),c),{},{headers:yn(yn({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?N.accessToken=t.accessToken:delete N.accessToken,N}function Gb(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Kb=class extends Tb{constructor(t){super(t)}},Jb=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const o=Gb(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Db,realtime:Mb,auth:yn(yn({},Fb),{},{storageKey:l}),global:Ib},d=Hb(r??{},c);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=d.auth)!==null&&p!==void 0?p:{},this.headers,d.global.fetch)}this.fetch=Wb(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(yn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Ew(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new kx(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Sw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:p},v,w){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kb({url:this.authUrl.href,headers:yn(yn({},N),v),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:c,debug:d,throwOnError:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Vw(this.realtimeUrl.href,yn(yn({},t),{},{params:yn(yn({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Yb=(t,e,r)=>new Jb(t,e,r);function Xb(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Xb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Um="jaivoyyymoaugslnxfeb",c2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImphaXZveXl5bW9hdWdzbG54ZmViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4ODc3NTYsImV4cCI6MjA4MzQ2Mzc1Nn0.W5hUxmzmdvlfU4RDzYX4xLu5FO2jgtGJyGuCOLHiiX8",u2=Q.createContext(void 0),ld=Yb(`https://${Um}.supabase.co`,c2),Qb=({children:t})=>{const[e,r]=Q.useState(null),[n,a]=Q.useState(null),[o,l]=Q.useState(!0);Q.useEffect(()=>{(async()=>{try{console.log("Checking for existing session...");const{data:{session:N},error:h}=await ld.auth.getSession();if(h&&console.log("Error getting session:",h),N){console.log("Session found, user:",N.user.email),console.log("Access token present:",!!N.access_token),console.log("Token expires at:",new Date(N.expires_at*1e3).toLocaleString());const k=N.expires_at*1e3,_=Date.now(),C=300*1e3;if(k-_<C){console.log("Token is about to expire, refreshing...");const{data:{session:E},error:j}=await ld.auth.refreshSession();E?(console.log("Token refreshed successfully"),r(E.user),a(E.access_token)):(console.log("Token refresh failed:",j),r(N.user),a(N.access_token))}else r(N.user),a(N.access_token)}else console.log("No active session found")}catch(N){console.log("Session check error:",N)}finally{l(!1)}})();const{data:{subscription:w}}=ld.auth.onAuthStateChange((N,h)=>{var k;console.log("Auth state changed:",N),console.log("New session user:",((k=h==null?void 0:h.user)==null?void 0:k.email)||"none"),console.log("Access token present:",!!(h!=null&&h.access_token)),r((h==null?void 0:h.user)??null),a((h==null?void 0:h.access_token)??null)});return()=>w.unsubscribe()},[]);const c=async(v,w,N,h)=>{try{const k=await fetch(`https://${Um}.supabase.co/functions/v1/server/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c2}`},body:JSON.stringify({email:v,password:w,name:N,companyName:h})}),_=await k.json();if(!k.ok){let C=_.error||"Aanmelden mislukt";throw C.includes("already registered")||C.includes("already exists")?C="Dit e-mailadres is al in gebruik. Probeer in te loggen.":C.includes("password")&&(C="Wachtwoord moet minimaal 6 tekens bevatten."),new Error(C)}await d(v,w)}catch(k){throw console.error("Sign up error:",k),k}},d=async(v,w)=>{var N;try{const{data:h,error:k}=await ld.auth.signInWithPassword({email:v,password:w});if(k)throw k.message.includes("Invalid login credentials")?new Error("Ongeldige inloggegevens. Controleer je e-mail en wachtwoord, of maak eerst een account aan."):new Error(k.message);r(h.user),a(((N=h.session)==null?void 0:N.access_token)??null)}catch(h){throw console.error("Sign in error:",h),h}},p=async()=>{try{await ld.auth.signOut(),r(null),a(null)}catch(v){throw console.error("Sign out error:",v),v}};return m.jsx(u2.Provider,{value:{user:e,accessToken:n,loading:o,signUp:c,signIn:d,signOut:p},children:t})},Ss=()=>{const t=Q.useContext(u2);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function U0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function d2(...t){return e=>{let r=!1;const n=t.map(a=>{const o=U0(a,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():U0(t[a],null)}}}}function li(...t){return Q.useCallback(d2(...t),t)}var ku=Q.forwardRef((t,e)=>{const{children:r,...n}=t,a=Q.Children.toArray(r),o=a.find(e_);if(o){const l=o.props.children,c=a.map(d=>d===o?Q.Children.count(l)>1?Q.Children.only(null):Q.isValidElement(l)?l.props.children:null:d);return m.jsx(lm,{...n,ref:e,children:Q.isValidElement(l)?Q.cloneElement(l,void 0,c):null})}return m.jsx(lm,{...n,ref:e,children:r})});ku.displayName="Slot";var lm=Q.forwardRef((t,e)=>{const{children:r,...n}=t;if(Q.isValidElement(r)){const a=r_(r),o=t_(n,r.props);return r.type!==Q.Fragment&&(o.ref=e?d2(e,a):a),Q.cloneElement(r,o)}return Q.Children.count(r)>1?Q.Children.only(null):null});lm.displayName="SlotClone";var Zb=({children:t})=>m.jsx(m.Fragment,{children:t});function e_(t){return Q.isValidElement(t)&&t.type===Zb}function t_(t,e){const r={...e};for(const n in e){const a=t[n],o=e[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...c)=>{o(...c),a(...c)}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...t,...r}}function r_(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function h2(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=h2(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function f2(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=h2(t))&&(n&&(n+=" "),n+=e);return n}const z0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,q0=f2,n_=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return q0(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=e,l=Object.keys(a).map(p=>{const v=r==null?void 0:r[p],w=o==null?void 0:o[p];if(v===null)return null;const N=z0(v)||z0(w);return a[p][N]}),c=r&&Object.entries(r).reduce((p,v)=>{let[w,N]=v;return N===void 0||(p[w]=N),p},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,v)=>{let{class:w,className:N,...h}=v;return Object.entries(h).every(k=>{let[_,C]=k;return Array.isArray(C)?C.includes({...o,...c}[_]):{...o,...c}[_]===C})?[...p,w,N]:p},[]);return q0(t,l,d,r==null?void 0:r.class,r==null?void 0:r.className)},zm="-",i_=t=>{const e=a_(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const c=l.split(zm);return c[0]===""&&c.length!==1&&c.shift(),p2(c,e)||s_(l)},getConflictingClassGroupIds:(l,c)=>{const d=r[l]||[];return c&&n[l]?[...d,...n[l]]:d}}},p2=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?p2(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const o=t.join(zm);return(l=e.validators.find(({validator:c})=>c(o)))==null?void 0:l.classGroupId},$0=/^\[(.+)\]$/,s_=t=>{if($0.test(t)){const e=$0.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},a_=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const a in r)cm(r[a],n,a,e);return n},cm=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const o=a===""?e:W0(e,a);o.classGroupId=r;return}if(typeof a=="function"){if(o_(a)){cm(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,l])=>{cm(l,W0(e,o),r,n)})})},W0=(t,e)=>{let r=t;return e.split(zm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},o_=t=>t.isThemeGetter,l_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(o,l)=>{r.set(o,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return a(o,l),l},set(o,l){r.has(o)?r.set(o,l):a(o,l)}}},um="!",dm=":",c_=dm.length,u_=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const o=[];let l=0,c=0,d=0,p;for(let k=0;k<a.length;k++){let _=a[k];if(l===0&&c===0){if(_===dm){o.push(a.slice(d,k)),d=k+c_;continue}if(_==="/"){p=k;continue}}_==="["?l++:_==="]"?l--:_==="("?c++:_===")"&&c--}const v=o.length===0?a:a.substring(d),w=d_(v),N=w!==v,h=p&&p>d?p-d:void 0;return{modifiers:o,hasImportantModifier:N,baseClassName:w,maybePostfixModifierPosition:h}};if(e){const a=e+dm,o=n;n=l=>l.startsWith(a)?o(l.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=o=>r({className:o,parseClassName:a})}return n},d_=t=>t.endsWith(um)?t.substring(0,t.length-1):t.startsWith(um)?t.substring(1):t,h_=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let o=[];return n.forEach(l=>{l[0]==="["||e[l]?(a.push(...o.sort(),l),o=[]):o.push(l)}),a.push(...o.sort()),a}},f_=t=>({cache:l_(t.cacheSize),parseClassName:u_(t),sortModifiers:h_(t),...i_(t)}),p_=/\s+/,m_=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:o}=e,l=[],c=t.trim().split(p_);let d="";for(let p=c.length-1;p>=0;p-=1){const v=c[p],{isExternal:w,modifiers:N,hasImportantModifier:h,baseClassName:k,maybePostfixModifierPosition:_}=r(v);if(w){d=v+(d.length>0?" "+d:d);continue}let C=!!_,E=n(C?k.substring(0,_):k);if(!E){if(!C){d=v+(d.length>0?" "+d:d);continue}if(E=n(k),!E){d=v+(d.length>0?" "+d:d);continue}C=!1}const j=o(N).join(":"),P=h?j+um:j,O=P+E;if(l.includes(O))continue;l.push(O);const U=a(E,C);for(let le=0;le<U.length;++le){const q=U[le];l.push(P+q)}d=v+(d.length>0?" "+d:d)}return d};function g_(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=m2(e))&&(n&&(n+=" "),n+=r);return n}const m2=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=m2(t[n]))&&(r&&(r+=" "),r+=e);return r};function v_(t,...e){let r,n,a,o=l;function l(d){const p=e.reduce((v,w)=>w(v),t());return r=f_(p),n=r.cache.get,a=r.cache.set,o=c,c(d)}function c(d){const p=n(d);if(p)return p;const v=m_(d,r);return a(d,v),v}return function(){return o(g_.apply(null,arguments))}}const zn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},g2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,v2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,y_=/^\d+\/\d+$/,w_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,__=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,iu=t=>y_.test(t),Xt=t=>!!t&&!Number.isNaN(Number(t)),bl=t=>!!t&&Number.isInteger(Number(t)),yp=t=>t.endsWith("%")&&Xt(t.slice(0,-1)),Po=t=>w_.test(t),N_=()=>!0,k_=t=>x_.test(t)&&!b_.test(t),y2=()=>!1,A_=t=>__.test(t),j_=t=>S_.test(t),E_=t=>!ct(t)&&!ut(t),C_=t=>Eu(t,b2,y2),ct=t=>g2.test(t),cc=t=>Eu(t,_2,k_),wp=t=>Eu(t,R_,Xt),V0=t=>Eu(t,w2,y2),L_=t=>Eu(t,x2,j_),bh=t=>Eu(t,S2,A_),ut=t=>v2.test(t),cd=t=>Cu(t,_2),P_=t=>Cu(t,I_),H0=t=>Cu(t,w2),T_=t=>Cu(t,b2),O_=t=>Cu(t,x2),_h=t=>Cu(t,S2,!0),Eu=(t,e,r)=>{const n=g2.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Cu=(t,e,r=!1)=>{const n=v2.exec(t);return n?n[1]?e(n[1]):r:!1},w2=t=>t==="position"||t==="percentage",x2=t=>t==="image"||t==="url",b2=t=>t==="length"||t==="size"||t==="bg-size",_2=t=>t==="length",R_=t=>t==="number",I_=t=>t==="family-name",S2=t=>t==="shadow",D_=()=>{const t=zn("color"),e=zn("font"),r=zn("text"),n=zn("font-weight"),a=zn("tracking"),o=zn("leading"),l=zn("breakpoint"),c=zn("container"),d=zn("spacing"),p=zn("radius"),v=zn("shadow"),w=zn("inset-shadow"),N=zn("text-shadow"),h=zn("drop-shadow"),k=zn("blur"),_=zn("perspective"),C=zn("aspect"),E=zn("ease"),j=zn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...O(),ut,ct],le=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],G=()=>[ut,ct,d],K=()=>[iu,"full","auto",...G()],pe=()=>[bl,"none","subgrid",ut,ct],I=()=>["auto",{span:["full",bl,ut,ct]},bl,ut,ct],W=()=>[bl,"auto",ut,ct],ae=()=>["auto","min","max","fr",ut,ct],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...G()],ee=()=>[iu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...G()],F=()=>[t,ut,ct],ce=()=>[...O(),H0,V0,{position:[ut,ct]}],we=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",T_,C_,{size:[ut,ct]}],T=()=>[yp,cd,cc],$=()=>["","none","full",p,ut,ct],X=()=>["",Xt,cd,cc],ue=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Xt,yp,H0,V0],fe=()=>["","none",k,ut,ct],ge=()=>["none",Xt,ut,ct],_e=()=>["none",Xt,ut,ct],Pe=()=>[Xt,ut,ct],Me=()=>[iu,"full",...G()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Po],breakpoint:[Po],color:[N_],container:[Po],"drop-shadow":[Po],ease:["in","out","in-out"],font:[E_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Po],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Po],shadow:[Po],spacing:["px",Xt],text:[Po],"text-shadow":[Po],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",iu,ct,ut,C]}],container:["container"],columns:[{columns:[Xt,ct,ut,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[bl,"auto",ut,ct]}],basis:[{basis:[iu,"full","auto",c,...G()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Xt,iu,"auto","initial","none",ct]}],grow:[{grow:["",Xt,ut,ct]}],shrink:[{shrink:["",Xt,ut,ct]}],order:[{order:[bl,"first","last","none",ut,ct]}],"grid-cols":[{"grid-cols":pe()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":pe()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:G()}],"gap-x":[{"gap-x":G()}],"gap-y":[{"gap-y":G()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:G()}],px:[{px:G()}],py:[{py:G()}],ps:[{ps:G()}],pe:[{pe:G()}],pt:[{pt:G()}],pr:[{pr:G()}],pb:[{pb:G()}],pl:[{pl:G()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":G()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":G()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[c,"screen",...ee()]}],"min-w":[{"min-w":[c,"screen","none",...ee()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ee()]}],h:[{h:["screen",...ee()]}],"min-h":[{"min-h":["screen","none",...ee()]}],"max-h":[{"max-h":["screen",...ee()]}],"font-size":[{text:["base",r,cd,cc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ut,wp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yp,ct]}],"font-family":[{font:[P_,ct,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ut,ct]}],"line-clamp":[{"line-clamp":[Xt,"none",ut,wp]}],leading:[{leading:[o,...G()]}],"list-image":[{"list-image":["none",ut,ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ut,ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[Xt,"from-font","auto",ut,cc]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Xt,"auto",ut,ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut,ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut,ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:we()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bl,ut,ct],radial:["",ut,ct],conic:[bl,ut,ct]},O_,L_]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Xt,ut,ct]}],"outline-w":[{outline:["",Xt,cd,cc]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",v,_h,bh]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",w,_h,bh]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Xt,cc]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",N,_h,bh]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Xt,ut,ct]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Xt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[ut,ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Xt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:we()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ut,ct]}],filter:[{filter:["","none",ut,ct]}],blur:[{blur:fe()}],brightness:[{brightness:[Xt,ut,ct]}],contrast:[{contrast:[Xt,ut,ct]}],"drop-shadow":[{"drop-shadow":["","none",h,_h,bh]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Xt,ut,ct]}],"hue-rotate":[{"hue-rotate":[Xt,ut,ct]}],invert:[{invert:["",Xt,ut,ct]}],saturate:[{saturate:[Xt,ut,ct]}],sepia:[{sepia:["",Xt,ut,ct]}],"backdrop-filter":[{"backdrop-filter":["","none",ut,ct]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[Xt,ut,ct]}],"backdrop-contrast":[{"backdrop-contrast":[Xt,ut,ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Xt,ut,ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Xt,ut,ct]}],"backdrop-invert":[{"backdrop-invert":["",Xt,ut,ct]}],"backdrop-opacity":[{"backdrop-opacity":[Xt,ut,ct]}],"backdrop-saturate":[{"backdrop-saturate":[Xt,ut,ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Xt,ut,ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":G()}],"border-spacing-x":[{"border-spacing-x":G()}],"border-spacing-y":[{"border-spacing-y":G()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ut,ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Xt,"initial",ut,ct]}],ease:[{ease:["linear","initial",E,ut,ct]}],delay:[{delay:[Xt,ut,ct]}],animate:[{animate:["none",j,ut,ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ut,ct]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[ut,ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut,ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut,ct]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Xt,cd,cc,wp]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},F_=v_(D_);function Fi(...t){return F_(f2(t))}const M_=n_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function pt({className:t,variant:e,size:r,asChild:n=!1,...a}){const o=n?ku:"button";return m.jsx(o,{"data-slot":"button",className:Fi(M_({variant:e,size:r,className:t})),...a})}const B_=({onSignUp:t,onSignIn:e})=>m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex flex-col",children:[m.jsxs("header",{className:"p-6 flex justify-between items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:"OfferteApp"}),m.jsxs("div",{className:"space-x-4",children:[m.jsx(pt,{variant:"ghost",onClick:e,children:"Inloggen"}),m.jsx(pt,{onClick:t,children:"Aanmelden"})]})]}),m.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-4 text-center",children:[m.jsxs("div",{className:"max-w-3xl",children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Maak professionele offertes in minuten"}),m.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"Een eenvoudige tool voor Nederlandse ZZP'ers om snel offertes te maken. Geen ingewikkelde boekhouding, gewoon simpel en effectief."}),m.jsx(pt,{size:"lg",onClick:t,className:"text-lg px-8 py-6",children:"Gratis Beginnen"})]}),m.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl",children:[m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("div",{className:"text-3xl mb-3",children:""}),m.jsx("h3",{className:"font-semibold mb-2",children:"Snel Offertes Maken"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Vul eenvoudig de gegevens in en genereer direct een professionele offerte"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("div",{className:"text-3xl mb-3",children:""}),m.jsx("h3",{className:"font-semibold mb-2",children:"Professioneel PDF"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Download je offertes als nette PDF-bestanden om te versturen naar klanten"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[m.jsx("div",{className:"text-3xl mb-3",children:""}),m.jsx("h3",{className:"font-semibold mb-2",children:"Overzicht"}),m.jsx("p",{className:"text-gray-600 text-sm",children:"Houd al je offertes bij met een duidelijk overzicht en statusbeheer"})]})]})]}),m.jsx("footer",{className:"p-6 text-center text-gray-600 text-sm",children:m.jsx("p",{children:" 2026 OfferteApp - Voor Nederlandse ZZP'ers"})})]});function lr({className:t,type:e,...r}){return m.jsx("input",{type:e,"data-slot":"input",className:Fi("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var Td=Vv();const N2=Wv(Td);var U_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jn=U_.reduce((t,e)=>{const r=Q.forwardRef((n,a)=>{const{asChild:o,...l}=n,c=o?ku:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function z_(t,e){t&&Td.flushSync(()=>t.dispatchEvent(e))}var q_="Label",k2=Q.forwardRef((t,e)=>m.jsx(jn.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));k2.displayName=q_;var $_=k2;function Vt({className:t,...e}){return m.jsx($_,{"data-slot":"label",className:Fi("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Ht({className:t,...e}){return m.jsx("div",{"data-slot":"card",className:Fi("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function Wn({className:t,...e}){return m.jsx("div",{"data-slot":"card-header",className:Fi("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Vn({className:t,...e}){return m.jsx("h4",{"data-slot":"card-title",className:Fi("leading-none",t),...e})}function Di({className:t,...e}){return m.jsx("p",{"data-slot":"card-description",className:Fi("text-muted-foreground",t),...e})}function nr({className:t,...e}){return m.jsx("div",{"data-slot":"card-content",className:Fi("px-6 [&:last-child]:pb-6",t),...e})}const W_=({mode:t,onModeChange:e,onBack:r})=>{const{signIn:n,signUp:a}=Ss(),[o,l]=Q.useState(""),[c,d]=Q.useState(""),[p,v]=Q.useState(""),[w,N]=Q.useState(""),[h,k]=Q.useState(""),[_,C]=Q.useState(!1),E=async j=>{j.preventDefault(),k(""),C(!0);try{t==="signin"?await n(o,c):await a(o,c,p,w)}catch(P){k(P.message||"Er is een fout opgetreden")}finally{C(!1)}};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center p-4",children:m.jsxs(Ht,{className:"w-full max-w-md",children:[m.jsxs(Wn,{children:[m.jsx(pt,{variant:"ghost",onClick:r,className:"w-fit mb-2",children:" Terug"}),m.jsx(Vn,{children:t==="signin"?"Inloggen":"Account Aanmaken"}),m.jsx(Di,{children:t==="signin"?"Log in met je account om verder te gaan":"Maak een gratis account aan om te beginnen"})]}),m.jsxs(nr,{children:[m.jsxs("form",{onSubmit:E,className:"space-y-4",children:[t==="signup"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"name",children:"Naam"}),m.jsx(lr,{id:"name",type:"text",value:p,onChange:j=>v(j.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"companyName",children:"Bedrijfsnaam"}),m.jsx(lr,{id:"companyName",type:"text",value:w,onChange:j=>N(j.target.value),required:!0})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"email",children:"E-mail"}),m.jsx(lr,{id:"email",type:"email",value:o,onChange:j=>l(j.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"password",children:"Wachtwoord"}),m.jsx(lr,{id:"password",type:"password",value:c,onChange:j=>d(j.target.value),required:!0})]}),h&&m.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:h}),m.jsx(pt,{type:"submit",className:"w-full",disabled:_,children:_?"Bezig...":t==="signin"?"Inloggen":"Account Aanmaken"})]}),m.jsx("div",{className:"mt-4 text-center text-sm",children:t==="signin"?m.jsxs("p",{children:["Nog geen account?"," ",m.jsx("button",{type:"button",onClick:()=>e("signup"),className:"text-blue-600 hover:underline",children:"Aanmelden"})]}):m.jsxs("p",{children:["Al een account?"," ",m.jsx("button",{type:"button",onClick:()=>e("signin"),className:"text-blue-600 hover:underline",children:"Inloggen"})]})})]})]})})},V_=`https://${Um}.supabase.co/functions/v1/server`;async function qn(t,e,r={}){const{headers:n={},...a}=r,o=await fetch(`${V_}${t}`,{...a,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,...n}});if(!o.ok){const l=await o.json().catch(()=>({}));throw new Error(l.error||`HTTP ${o.status}`)}return o.json()}const Nr={getQuotations:t=>qn("/quotations",t),getQuotation:(t,e)=>qn(`/quotations/${e}`,t),createQuotation:(t,e)=>qn("/quotations",t,{method:"POST",body:JSON.stringify(e)}),updateQuotation:(t,e,r)=>qn(`/quotations/${e}`,t,{method:"PUT",body:JSON.stringify(r)}),deleteQuotation:(t,e)=>qn(`/quotations/${e}`,t,{method:"DELETE"}),getProfile:t=>qn("/profile",t),updateProfile:(t,e)=>qn("/profile",t,{method:"PUT",body:JSON.stringify(e)}),getInvoices:t=>qn("/invoices",t),getInvoice:(t,e)=>qn(`/invoices/${e}`,t),createInvoice:(t,e)=>qn("/invoices",t,{method:"POST",body:JSON.stringify(e)}),updateInvoice:(t,e,r)=>qn(`/invoices/${e}`,t,{method:"PUT",body:JSON.stringify(r)}),deleteInvoice:(t,e)=>qn(`/invoices/${e}`,t,{method:"DELETE"}),convertQuotationToInvoice:(t,e)=>qn(`/quotations/${e}/convert-to-invoice`,t,{method:"POST"}),getClients:t=>qn("/clients",t),getClient:(t,e)=>qn(`/clients/${e}`,t),createClient:(t,e)=>qn("/clients",t,{method:"POST",body:JSON.stringify(e)}),updateClient:(t,e,r)=>qn(`/clients/${e}`,t,{method:"PUT",body:JSON.stringify(r)}),deleteClient:(t,e)=>qn(`/clients/${e}`,t,{method:"DELETE"}),getClientHistory:(t,e)=>qn(`/clients/${e}/history`,t)},Nd=t=>{switch(t){case"draft":return"Concept";case"sent":return"Verstuurd";case"accepted":return"Geaccepteerd";default:return t}},kd=t=>{switch(t){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},H_=t=>({draft:"Concept",sent:"Verstuurd",paid:"Betaald",overdue:"Vervallen"})[t]||t,G_=t=>({draft:"bg-gray-100 text-gray-800",sent:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",G0=({onNavigate:t})=>{const{user:e,signOut:r,accessToken:n}=Ss(),[a,o]=Q.useState({total:0,draft:0,sent:0,accepted:0}),[l,c]=Q.useState({total:0,totalValue:0,paidValue:0,openValue:0,draft:0,sent:0,paid:0,overdue:0}),[d,p]=Q.useState(0),[v,w]=Q.useState([]),[N,h]=Q.useState([]),[k,_]=Q.useState(!0);Q.useEffect(()=>{C()},[n]);const C=async()=>{if(n)try{const[j,P,O]=await Promise.all([Nr.getQuotations(n),Nr.getInvoices(n),Nr.getClients(n)]);p((O.clients||[]).length);const U=j.quotations||[],le=P.invoices||[],q=new Date,G=le.map(I=>I.status==="sent"&&I.dueDate&&new Date(I.dueDate)<q?{...I,status:"overdue"}:I),K={total:U.length,draft:U.filter(I=>I.status==="draft").length,sent:U.filter(I=>I.status==="sent").length,accepted:U.filter(I=>I.status==="accepted").length},pe={total:G.length,totalValue:G.reduce((I,W)=>I+(W.price||0),0),paidValue:G.filter(I=>I.status==="paid").reduce((I,W)=>I+(W.price||0),0),openValue:G.filter(I=>I.status==="sent"||I.status==="overdue").reduce((I,W)=>I+(W.price||0),0),draft:G.filter(I=>I.status==="draft").length,sent:G.filter(I=>I.status==="sent").length,paid:G.filter(I=>I.status==="paid").length,overdue:G.filter(I=>I.status==="overdue").length};o(K),c(pe),w(U.slice(0,5)),h(G.slice(0,5))}catch(j){console.error("Error fetching dashboard data:",j)}finally{_(!1)}},E=async()=>{try{await r()}catch(j){console.error("Sign out error:",j)}};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs(pt,{variant:"ghost",onClick:()=>t("clients"),children:["Klanten (",d,")"]}),m.jsx(pt,{variant:"ghost",onClick:()=>t("settings"),children:"Instellingen"}),m.jsx(pt,{variant:"outline",onClick:E,children:"Uitloggen"})]})]})})}),m.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("h2",{className:"text-xl mb-4",children:["Welkom, ",e==null?void 0:e.email]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[m.jsx(Ht,{children:m.jsxs(Wn,{className:"pb-2",children:[m.jsx(Di,{children:"Totaal Offertes"}),m.jsx(Vn,{className:"text-3xl",children:a.total})]})}),m.jsx(Ht,{children:m.jsxs(Wn,{className:"pb-2",children:[m.jsx(Di,{children:"Concept"}),m.jsx(Vn,{className:"text-3xl",children:a.draft})]})}),m.jsx(Ht,{children:m.jsxs(Wn,{className:"pb-2",children:[m.jsx(Di,{children:"Verstuurd"}),m.jsx(Vn,{className:"text-3xl",children:a.sent})]})}),m.jsx(Ht,{children:m.jsxs(Wn,{className:"pb-2",children:[m.jsx(Di,{children:"Geaccepteerd"}),m.jsx(Vn,{className:"text-3xl",children:a.accepted})]})})]}),m.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.jsx(pt,{size:"lg",onClick:()=>t("create-quotation"),children:"+ Nieuwe Offerte"}),m.jsx(pt,{size:"lg",variant:"outline",onClick:()=>t("quotations"),children:"Bekijk Alle Offertes"})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Facturen Overzicht"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[m.jsx(Ht,{children:m.jsxs(Wn,{className:"pb-2",children:[m.jsx(Di,{children:"Totaal Facturen"}),m.jsx(Vn,{className:"text-3xl",children:l.total})]})}),m.jsx(Ht,{children:m.jsxs(Wn,{className:"pb-2",children:[m.jsx(Di,{children:"Betaald"}),m.jsxs(Vn,{className:"text-3xl text-green-600",children:["",l.paidValue.toFixed(0)]})]})}),m.jsx(Ht,{children:m.jsxs(Wn,{className:"pb-2",children:[m.jsx(Di,{children:"Open"}),m.jsxs(Vn,{className:"text-3xl text-yellow-600",children:["",l.openValue.toFixed(0)]})]})}),m.jsx(Ht,{children:m.jsxs(Wn,{className:"pb-2",children:[m.jsx(Di,{children:"Vervallen"}),m.jsx(Vn,{className:`text-3xl ${l.overdue>0?"text-red-600":"text-gray-400"}`,children:l.overdue})]})})]}),m.jsxs("div",{className:"flex flex-wrap gap-4",children:[m.jsx(pt,{size:"lg",onClick:()=>t("create-invoice"),className:"bg-green-600 hover:bg-green-700",children:"+ Nieuwe Factuur"}),m.jsx(pt,{size:"lg",variant:"outline",onClick:()=>t("invoices"),children:"Bekijk Alle Facturen"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs(Ht,{children:[m.jsxs(Wn,{children:[m.jsx(Vn,{children:"Recente Offertes"}),m.jsx(Di,{children:"Je laatste 5 offertes"})]}),m.jsx(nr,{children:k?m.jsx("p",{children:"Laden..."}):v.length===0?m.jsx("p",{className:"text-gray-500",children:"Nog geen offertes. Maak je eerste offerte aan!"}):m.jsx("div",{className:"space-y-3",children:v.map(j=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>t(`quotation-detail-${j.id}`),children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:j.clientName}),m.jsx("p",{className:"text-sm text-gray-600",children:j.quotationNumber})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-medium",children:["",j.price.toFixed(2)]}),m.jsx("span",{className:`text-xs px-2 py-1 rounded ${kd(j.status)}`,children:Nd(j.status)})]})]},j.id))})})]}),m.jsxs(Ht,{children:[m.jsxs(Wn,{children:[m.jsx(Vn,{children:"Recente Facturen"}),m.jsx(Di,{children:"Je laatste 5 facturen"})]}),m.jsx(nr,{children:k?m.jsx("p",{children:"Laden..."}):N.length===0?m.jsx("p",{className:"text-gray-500",children:"Nog geen facturen. Maak je eerste factuur aan!"}):m.jsx("div",{className:"space-y-3",children:N.map(j=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>t(`invoice-detail-${j.id}`),children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:j.clientName}),m.jsx("p",{className:"text-sm text-gray-600",children:j.invoiceNumber})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-medium",children:["",j.price.toFixed(2)]}),m.jsx("span",{className:`text-xs px-2 py-1 rounded ${G_(j.status)}`,children:H_(j.status)})]})]},j.id))})})]})]})]})]})};function Ad({className:t,...e}){return m.jsx("textarea",{"data-slot":"textarea",className:Fi("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function K0(t,[e,r]){return Math.min(r,Math.max(e,t))}function On(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function qm(t,e=[]){let r=[];function n(o,l){const c=Q.createContext(l),d=r.length;r=[...r,l];const p=w=>{var E;const{scope:N,children:h,...k}=w,_=((E=N==null?void 0:N[t])==null?void 0:E[d])||c,C=Q.useMemo(()=>k,Object.values(k));return m.jsx(_.Provider,{value:C,children:h})};p.displayName=o+"Provider";function v(w,N){var _;const h=((_=N==null?void 0:N[t])==null?void 0:_[d])||c,k=Q.useContext(h);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${o}\``)}return[p,v]}const a=()=>{const o=r.map(l=>Q.createContext(l));return function(c){const d=(c==null?void 0:c[t])||o;return Q.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return a.scopeName=t,[n,K_(a,...e)]}function K_(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=n.reduce((c,{useScope:d,scopeName:p})=>{const w=d(o)[`__scope${p}`];return{...c,...w}},{});return Q.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return r.scopeName=e.scopeName,r}function J_(t){const e=t+"CollectionProvider",[r,n]=qm(e),[a,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),l=h=>{const{scope:k,children:_}=h,C=Ve.useRef(null),E=Ve.useRef(new Map).current;return m.jsx(a,{scope:k,itemMap:E,collectionRef:C,children:_})};l.displayName=e;const c=t+"CollectionSlot",d=Ve.forwardRef((h,k)=>{const{scope:_,children:C}=h,E=o(c,_),j=li(k,E.collectionRef);return m.jsx(ku,{ref:j,children:C})});d.displayName=c;const p=t+"CollectionItemSlot",v="data-radix-collection-item",w=Ve.forwardRef((h,k)=>{const{scope:_,children:C,...E}=h,j=Ve.useRef(null),P=li(k,j),O=o(p,_);return Ve.useEffect(()=>(O.itemMap.set(j,{ref:j,...E}),()=>void O.itemMap.delete(j))),m.jsx(ku,{[v]:"",ref:P,children:C})});w.displayName=p;function N(h){const k=o(t+"CollectionConsumer",h);return Ve.useCallback(()=>{const C=k.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((O,U)=>E.indexOf(O.ref.current)-E.indexOf(U.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:l,Slot:d,ItemSlot:w},N,n]}var Y_=Q.createContext(void 0);function X_(t){const e=Q.useContext(Y_);return t||e||"ltr"}function Do(t){const e=Q.useRef(t);return Q.useEffect(()=>{e.current=t}),Q.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Q_(t,e=globalThis==null?void 0:globalThis.document){const r=Do(t);Q.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Z_="DismissableLayer",hm="dismissableLayer.update",e4="dismissableLayer.pointerDownOutside",t4="dismissableLayer.focusOutside",J0,A2=Q.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),j2=Q.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=t,p=Q.useContext(A2),[v,w]=Q.useState(null),N=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=Q.useState({}),k=li(e,q=>w(q)),_=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(C),j=v?_.indexOf(v):-1,P=p.layersWithOutsidePointerEventsDisabled.size>0,O=j>=E,U=i4(q=>{const G=q.target,K=[...p.branches].some(pe=>pe.contains(G));!O||K||(a==null||a(q),l==null||l(q),q.defaultPrevented||c==null||c())},N),le=s4(q=>{const G=q.target;[...p.branches].some(pe=>pe.contains(G))||(o==null||o(q),l==null||l(q),q.defaultPrevented||c==null||c())},N);return Q_(q=>{j===p.layers.size-1&&(n==null||n(q),!q.defaultPrevented&&c&&(q.preventDefault(),c()))},N),Q.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(J0=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Y0(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=J0)}},[v,N,r,p]),Q.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Y0())},[v,p]),Q.useEffect(()=>{const q=()=>h({});return document.addEventListener(hm,q),()=>document.removeEventListener(hm,q)},[]),m.jsx(jn.div,{...d,ref:k,style:{pointerEvents:P?O?"auto":"none":void 0,...t.style},onFocusCapture:On(t.onFocusCapture,le.onFocusCapture),onBlurCapture:On(t.onBlurCapture,le.onBlurCapture),onPointerDownCapture:On(t.onPointerDownCapture,U.onPointerDownCapture)})});j2.displayName=Z_;var r4="DismissableLayerBranch",n4=Q.forwardRef((t,e)=>{const r=Q.useContext(A2),n=Q.useRef(null),a=li(e,n);return Q.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),m.jsx(jn.div,{...t,ref:a})});n4.displayName=r4;function i4(t,e=globalThis==null?void 0:globalThis.document){const r=Do(t),n=Q.useRef(!1),a=Q.useRef(()=>{});return Q.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let d=function(){E2(e4,r,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function s4(t,e=globalThis==null?void 0:globalThis.document){const r=Do(t),n=Q.useRef(!1);return Q.useEffect(()=>{const a=o=>{o.target&&!n.current&&E2(t4,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Y0(){const t=new CustomEvent(hm);document.dispatchEvent(t)}function E2(t,e,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?z_(a,o):a.dispatchEvent(o)}var xp=0;function a4(){Q.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??X0()),document.body.insertAdjacentElement("beforeend",t[1]??X0()),xp++,()=>{xp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),xp--}},[])}function X0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bp="focusScope.autoFocusOnMount",_p="focusScope.autoFocusOnUnmount",Q0={bubbles:!1,cancelable:!0},o4="FocusScope",C2=Q.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...l}=t,[c,d]=Q.useState(null),p=Do(a),v=Do(o),w=Q.useRef(null),N=li(e,_=>d(_)),h=Q.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Q.useEffect(()=>{if(n){let _=function(P){if(h.paused||!c)return;const O=P.target;c.contains(O)?w.current=O:Nl(w.current,{select:!0})},C=function(P){if(h.paused||!c)return;const O=P.relatedTarget;O!==null&&(c.contains(O)||Nl(w.current,{select:!0}))},E=function(P){if(document.activeElement===document.body)for(const U of P)U.removedNodes.length>0&&Nl(c)};document.addEventListener("focusin",_),document.addEventListener("focusout",C);const j=new MutationObserver(E);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C),j.disconnect()}}},[n,c,h.paused]),Q.useEffect(()=>{if(c){e1.add(h);const _=document.activeElement;if(!c.contains(_)){const E=new CustomEvent(bp,Q0);c.addEventListener(bp,p),c.dispatchEvent(E),E.defaultPrevented||(l4(f4(L2(c)),{select:!0}),document.activeElement===_&&Nl(c))}return()=>{c.removeEventListener(bp,p),setTimeout(()=>{const E=new CustomEvent(_p,Q0);c.addEventListener(_p,v),c.dispatchEvent(E),E.defaultPrevented||Nl(_??document.body,{select:!0}),c.removeEventListener(_p,v),e1.remove(h)},0)}}},[c,p,v,h]);const k=Q.useCallback(_=>{if(!r&&!n||h.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(C&&E){const j=_.currentTarget,[P,O]=c4(j);P&&O?!_.shiftKey&&E===O?(_.preventDefault(),r&&Nl(P,{select:!0})):_.shiftKey&&E===P&&(_.preventDefault(),r&&Nl(O,{select:!0})):E===j&&_.preventDefault()}},[r,n,h.paused]);return m.jsx(jn.div,{tabIndex:-1,...l,ref:N,onKeyDown:k})});C2.displayName=o4;function l4(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Nl(n,{select:e}),document.activeElement!==r)return}function c4(t){const e=L2(t),r=Z0(e,t),n=Z0(e.reverse(),t);return[r,n]}function L2(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Z0(t,e){for(const r of t)if(!u4(r,{upTo:e}))return r}function u4(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function d4(t){return t instanceof HTMLInputElement&&"select"in t}function Nl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&d4(t)&&e&&t.select()}}var e1=h4();function h4(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=t1(t,e),t.unshift(e)},remove(e){var r;t=t1(t,e),(r=t[0])==null||r.resume()}}}function t1(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function f4(t){return t.filter(e=>e.tagName!=="A")}var _s=globalThis!=null&&globalThis.document?Q.useLayoutEffect:()=>{},p4=yw.useId||(()=>{}),m4=0;function $m(t){const[e,r]=Q.useState(p4());return _s(()=>{r(n=>n??String(m4++))},[t]),t||(e?`radix-${e}`:"")}const g4=["top","right","bottom","left"],El=Math.min,vs=Math.max,Yh=Math.round,Sh=Math.floor,Ha=t=>({x:t,y:t}),v4={left:"right",right:"left",bottom:"top",top:"bottom"},y4={start:"end",end:"start"};function fm(t,e,r){return vs(t,El(e,r))}function Fo(t,e){return typeof t=="function"?t(e):t}function Mo(t){return t.split("-")[0]}function Lu(t){return t.split("-")[1]}function Wm(t){return t==="x"?"y":"x"}function Vm(t){return t==="y"?"height":"width"}const w4=new Set(["top","bottom"]);function Wa(t){return w4.has(Mo(t))?"y":"x"}function Hm(t){return Wm(Wa(t))}function x4(t,e,r){r===void 0&&(r=!1);const n=Lu(t),a=Hm(t),o=Vm(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Xh(l)),[l,Xh(l)]}function b4(t){const e=Xh(t);return[pm(t),e,pm(e)]}function pm(t){return t.replace(/start|end/g,e=>y4[e])}const r1=["left","right"],n1=["right","left"],_4=["top","bottom"],S4=["bottom","top"];function N4(t,e,r){switch(t){case"top":case"bottom":return r?e?n1:r1:e?r1:n1;case"left":case"right":return e?_4:S4;default:return[]}}function k4(t,e,r,n){const a=Lu(t);let o=N4(Mo(t),r==="start",n);return a&&(o=o.map(l=>l+"-"+a),e&&(o=o.concat(o.map(pm)))),o}function Xh(t){return t.replace(/left|right|bottom|top/g,e=>v4[e])}function A4(t){return{top:0,right:0,bottom:0,left:0,...t}}function P2(t){return typeof t!="number"?A4(t):{top:t,right:t,bottom:t,left:t}}function Qh(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function i1(t,e,r){let{reference:n,floating:a}=t;const o=Wa(e),l=Hm(e),c=Vm(l),d=Mo(e),p=o==="y",v=n.x+n.width/2-a.width/2,w=n.y+n.height/2-a.height/2,N=n[c]/2-a[c]/2;let h;switch(d){case"top":h={x:v,y:n.y-a.height};break;case"bottom":h={x:v,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:w};break;case"left":h={x:n.x-a.width,y:w};break;default:h={x:n.x,y:n.y}}switch(Lu(e)){case"start":h[l]-=N*(r&&p?-1:1);break;case"end":h[l]+=N*(r&&p?-1:1);break}return h}const j4=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:l}=r,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:t,floating:e,strategy:a}),{x:v,y:w}=i1(p,n,d),N=n,h={},k=0;for(let _=0;_<c.length;_++){const{name:C,fn:E}=c[_],{x:j,y:P,data:O,reset:U}=await E({x:v,y:w,initialPlacement:n,placement:N,strategy:a,middlewareData:h,rects:p,platform:l,elements:{reference:t,floating:e}});v=j??v,w=P??w,h={...h,[C]:{...h[C],...O}},U&&k<=50&&(k++,typeof U=="object"&&(U.placement&&(N=U.placement),U.rects&&(p=U.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:a}):U.rects),{x:v,y:w}=i1(p,N,d)),_=-1)}return{x:v,y:w,placement:N,strategy:a,middlewareData:h}};async function jd(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:o,rects:l,elements:c,strategy:d}=t,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:N=!1,padding:h=0}=Fo(e,t),k=P2(h),C=c[N?w==="floating"?"reference":"floating":w],E=Qh(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(C)))==null||r?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:v,strategy:d})),j=w==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),O=await(o.isElement==null?void 0:o.isElement(P))?await(o.getScale==null?void 0:o.getScale(P))||{x:1,y:1}:{x:1,y:1},U=Qh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:P,strategy:d}):j);return{top:(E.top-U.top+k.top)/O.y,bottom:(U.bottom-E.bottom+k.bottom)/O.y,left:(E.left-U.left+k.left)/O.x,right:(U.right-E.right+k.right)/O.x}}const E4=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:o,platform:l,elements:c,middlewareData:d}=e,{element:p,padding:v=0}=Fo(t,e)||{};if(p==null)return{};const w=P2(v),N={x:r,y:n},h=Hm(a),k=Vm(h),_=await l.getDimensions(p),C=h==="y",E=C?"top":"left",j=C?"bottom":"right",P=C?"clientHeight":"clientWidth",O=o.reference[k]+o.reference[h]-N[h]-o.floating[k],U=N[h]-o.reference[h],le=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let q=le?le[P]:0;(!q||!await(l.isElement==null?void 0:l.isElement(le)))&&(q=c.floating[P]||o.floating[k]);const G=O/2-U/2,K=q/2-_[k]/2-1,pe=El(w[E],K),I=El(w[j],K),W=pe,ae=q-_[k]-I,ie=q/2-_[k]/2+G,oe=fm(W,ie,ae),V=!d.arrow&&Lu(a)!=null&&ie!==oe&&o.reference[k]/2-(ie<W?pe:I)-_[k]/2<0,ee=V?ie<W?ie-W:ie-ae:0;return{[h]:N[h]+ee,data:{[h]:oe,centerOffset:ie-oe-ee,...V&&{alignmentOffset:ee}},reset:V}}}),C4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:p}=e,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:N,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:_=!0,...C}=Fo(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const E=Mo(a),j=Wa(c),P=Mo(c)===c,O=await(d.isRTL==null?void 0:d.isRTL(p.floating)),U=N||(P||!_?[Xh(c)]:b4(c)),le=k!=="none";!N&&le&&U.push(...k4(c,_,k,O));const q=[c,...U],G=await jd(e,C),K=[];let pe=((n=o.flip)==null?void 0:n.overflows)||[];if(v&&K.push(G[E]),w){const ie=x4(a,l,O);K.push(G[ie[0]],G[ie[1]])}if(pe=[...pe,{placement:a,overflows:K}],!K.every(ie=>ie<=0)){var I,W;const ie=(((I=o.flip)==null?void 0:I.index)||0)+1,oe=q[ie];if(oe&&(!(w==="alignment"?j!==Wa(oe):!1)||pe.every(F=>Wa(F.placement)===j?F.overflows[0]>0:!0)))return{data:{index:ie,overflows:pe},reset:{placement:oe}};let V=(W=pe.filter(ee=>ee.overflows[0]<=0).sort((ee,F)=>ee.overflows[1]-F.overflows[1])[0])==null?void 0:W.placement;if(!V)switch(h){case"bestFit":{var ae;const ee=(ae=pe.filter(F=>{if(le){const ce=Wa(F.placement);return ce===j||ce==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ce=>ce>0).reduce((ce,we)=>ce+we,0)]).sort((F,ce)=>F[1]-ce[1])[0])==null?void 0:ae[0];ee&&(V=ee);break}case"initialPlacement":V=c;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function s1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function a1(t){return g4.some(e=>t[e]>=0)}const L4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=Fo(t,e);switch(n){case"referenceHidden":{const o=await jd(e,{...a,elementContext:"reference"}),l=s1(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:a1(l)}}}case"escaped":{const o=await jd(e,{...a,altBoundary:!0}),l=s1(o,r.floating);return{data:{escapedOffsets:l,escaped:a1(l)}}}default:return{}}}}},T2=new Set(["left","top"]);async function P4(t,e){const{placement:r,platform:n,elements:a}=t,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=Mo(r),c=Lu(r),d=Wa(r)==="y",p=T2.has(l)?-1:1,v=o&&d?-1:1,w=Fo(e,t);let{mainAxis:N,crossAxis:h,alignmentAxis:k}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return c&&typeof k=="number"&&(h=c==="end"?k*-1:k),d?{x:h*v,y:N*p}:{x:N*p,y:h*v}}const T4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:o,placement:l,middlewareData:c}=e,d=await P4(e,t);return l===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:l}}}}},O4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:E,y:j}=C;return{x:E,y:j}}},...d}=Fo(t,e),p={x:r,y:n},v=await jd(e,d),w=Wa(Mo(a)),N=Wm(w);let h=p[N],k=p[w];if(o){const C=N==="y"?"top":"left",E=N==="y"?"bottom":"right",j=h+v[C],P=h-v[E];h=fm(j,h,P)}if(l){const C=w==="y"?"top":"left",E=w==="y"?"bottom":"right",j=k+v[C],P=k-v[E];k=fm(j,k,P)}const _=c.fn({...e,[N]:h,[w]:k});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[N]:o,[w]:l}}}}}},R4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:o,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:p=!0}=Fo(t,e),v={x:r,y:n},w=Wa(a),N=Wm(w);let h=v[N],k=v[w];const _=Fo(c,e),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const P=N==="y"?"height":"width",O=o.reference[N]-o.floating[P]+C.mainAxis,U=o.reference[N]+o.reference[P]-C.mainAxis;h<O?h=O:h>U&&(h=U)}if(p){var E,j;const P=N==="y"?"width":"height",O=T2.has(Mo(a)),U=o.reference[w]-o.floating[P]+(O&&((E=l.offset)==null?void 0:E[w])||0)+(O?0:C.crossAxis),le=o.reference[w]+o.reference[P]+(O?0:((j=l.offset)==null?void 0:j[w])||0)-(O?C.crossAxis:0);k<U?k=U:k>le&&(k=le)}return{[N]:h,[w]:k}}}},I4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...p}=Fo(t,e),v=await jd(e,p),w=Mo(a),N=Lu(a),h=Wa(a)==="y",{width:k,height:_}=o.floating;let C,E;w==="top"||w==="bottom"?(C=w,E=N===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(E=w,C=N==="end"?"top":"bottom");const j=_-v.top-v.bottom,P=k-v.left-v.right,O=El(_-v[C],j),U=El(k-v[E],P),le=!e.middlewareData.shift;let q=O,G=U;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(G=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(q=j),le&&!N){const pe=vs(v.left,0),I=vs(v.right,0),W=vs(v.top,0),ae=vs(v.bottom,0);h?G=k-2*(pe!==0||I!==0?pe+I:vs(v.left,v.right)):q=_-2*(W!==0||ae!==0?W+ae:vs(v.top,v.bottom))}await d({...e,availableWidth:G,availableHeight:q});const K=await l.getDimensions(c.floating);return k!==K.width||_!==K.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function Pu(t){return O2(t)?(t.nodeName||"").toLowerCase():"#document"}function bs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ka(t){var e;return(e=(O2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function O2(t){return lf()?t instanceof Node||t instanceof bs(t).Node:!1}function ga(t){return lf()?t instanceof Element||t instanceof bs(t).Element:!1}function Ga(t){return lf()?t instanceof HTMLElement||t instanceof bs(t).HTMLElement:!1}function o1(t){return!lf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bs(t).ShadowRoot}const D4=new Set(["inline","contents"]);function Od(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=va(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!D4.has(a)}const F4=new Set(["table","td","th"]);function M4(t){return F4.has(Pu(t))}const B4=[":popover-open",":modal"];function cf(t){return B4.some(e=>{try{return t.matches(e)}catch{return!1}})}const U4=["transform","translate","scale","rotate","perspective"],z4=["transform","translate","scale","rotate","perspective","filter"],q4=["paint","layout","strict","content"];function Gm(t){const e=Km(),r=ga(t)?va(t):t;return U4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||z4.some(n=>(r.willChange||"").includes(n))||q4.some(n=>(r.contain||"").includes(n))}function $4(t){let e=Cl(t);for(;Ga(e)&&!Au(e);){if(Gm(e))return e;if(cf(e))return null;e=Cl(e)}return null}function Km(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const W4=new Set(["html","body","#document"]);function Au(t){return W4.has(Pu(t))}function va(t){return bs(t).getComputedStyle(t)}function uf(t){return ga(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cl(t){if(Pu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||o1(t)&&t.host||Ka(t);return o1(e)?e.host:e}function R2(t){const e=Cl(t);return Au(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ga(e)&&Od(e)?e:R2(e)}function Ed(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=R2(t),o=a===((n=t.ownerDocument)==null?void 0:n.body),l=bs(a);if(o){const c=mm(l);return e.concat(l,l.visualViewport||[],Od(a)?a:[],c&&r?Ed(c):[])}return e.concat(a,Ed(a,[],r))}function mm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function I2(t){const e=va(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Ga(t),o=a?t.offsetWidth:r,l=a?t.offsetHeight:n,c=Yh(r)!==o||Yh(n)!==l;return c&&(r=o,n=l),{width:r,height:n,$:c}}function Jm(t){return ga(t)?t:t.contextElement}function wu(t){const e=Jm(t);if(!Ga(e))return Ha(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:o}=I2(e);let l=(o?Yh(r.width):r.width)/n,c=(o?Yh(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const V4=Ha(0);function D2(t){const e=bs(t);return!Km()||!e.visualViewport?V4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function H4(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==bs(t)?!1:e}function vc(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),o=Jm(t);let l=Ha(1);e&&(n?ga(n)&&(l=wu(n)):l=wu(t));const c=H4(o,r,n)?D2(o):Ha(0);let d=(a.left+c.x)/l.x,p=(a.top+c.y)/l.y,v=a.width/l.x,w=a.height/l.y;if(o){const N=bs(o),h=n&&ga(n)?bs(n):n;let k=N,_=mm(k);for(;_&&n&&h!==k;){const C=wu(_),E=_.getBoundingClientRect(),j=va(_),P=E.left+(_.clientLeft+parseFloat(j.paddingLeft))*C.x,O=E.top+(_.clientTop+parseFloat(j.paddingTop))*C.y;d*=C.x,p*=C.y,v*=C.x,w*=C.y,d+=P,p+=O,k=bs(_),_=mm(k)}}return Qh({width:v,height:w,x:d,y:p})}function df(t,e){const r=uf(t).scrollLeft;return e?e.left+r:vc(Ka(t)).left+r}function F2(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-df(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function G4(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const o=a==="fixed",l=Ka(n),c=e?cf(e.floating):!1;if(n===l||c&&o)return r;let d={scrollLeft:0,scrollTop:0},p=Ha(1);const v=Ha(0),w=Ga(n);if((w||!w&&!o)&&((Pu(n)!=="body"||Od(l))&&(d=uf(n)),Ga(n))){const h=vc(n);p=wu(n),v.x=h.x+n.clientLeft,v.y=h.y+n.clientTop}const N=l&&!w&&!o?F2(l,d):Ha(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-d.scrollLeft*p.x+v.x+N.x,y:r.y*p.y-d.scrollTop*p.y+v.y+N.y}}function K4(t){return Array.from(t.getClientRects())}function J4(t){const e=Ka(t),r=uf(t),n=t.ownerDocument.body,a=vs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=vs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+df(t);const c=-r.scrollTop;return va(n).direction==="rtl"&&(l+=vs(e.clientWidth,n.clientWidth)-a),{width:a,height:o,x:l,y:c}}const l1=25;function Y4(t,e){const r=bs(t),n=Ka(t),a=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,d=0;if(a){o=a.width,l=a.height;const v=Km();(!v||v&&e==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const p=df(n);if(p<=0){const v=n.ownerDocument,w=v.body,N=getComputedStyle(w),h=v.compatMode==="CSS1Compat"&&parseFloat(N.marginLeft)+parseFloat(N.marginRight)||0,k=Math.abs(n.clientWidth-w.clientWidth-h);k<=l1&&(o-=k)}else p<=l1&&(o+=p);return{width:o,height:l,x:c,y:d}}const X4=new Set(["absolute","fixed"]);function Q4(t,e){const r=vc(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,o=Ga(t)?wu(t):Ha(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,d=a*o.x,p=n*o.y;return{width:l,height:c,x:d,y:p}}function c1(t,e,r){let n;if(e==="viewport")n=Y4(t,r);else if(e==="document")n=J4(Ka(t));else if(ga(e))n=Q4(e,r);else{const a=D2(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Qh(n)}function M2(t,e){const r=Cl(t);return r===e||!ga(r)||Au(r)?!1:va(r).position==="fixed"||M2(r,e)}function Z4(t,e){const r=e.get(t);if(r)return r;let n=Ed(t,[],!1).filter(c=>ga(c)&&Pu(c)!=="body"),a=null;const o=va(t).position==="fixed";let l=o?Cl(t):t;for(;ga(l)&&!Au(l);){const c=va(l),d=Gm(l);!d&&c.position==="fixed"&&(a=null),(o?!d&&!a:!d&&c.position==="static"&&!!a&&X4.has(a.position)||Od(l)&&!d&&M2(t,l))?n=n.filter(v=>v!==l):a=c,l=Cl(l)}return e.set(t,n),n}function e3(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const l=[...r==="clippingAncestors"?cf(e)?[]:Z4(e,this._c):[].concat(r),n],c=l[0],d=l.reduce((p,v)=>{const w=c1(e,v,a);return p.top=vs(w.top,p.top),p.right=El(w.right,p.right),p.bottom=El(w.bottom,p.bottom),p.left=vs(w.left,p.left),p},c1(e,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function t3(t){const{width:e,height:r}=I2(t);return{width:e,height:r}}function r3(t,e,r){const n=Ga(e),a=Ka(e),o=r==="fixed",l=vc(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=Ha(0);function p(){d.x=df(a)}if(n||!n&&!o)if((Pu(e)!=="body"||Od(a))&&(c=uf(e)),n){const h=vc(e,!0,o,e);d.x=h.x+e.clientLeft,d.y=h.y+e.clientTop}else a&&p();o&&!n&&a&&p();const v=a&&!n&&!o?F2(a,c):Ha(0),w=l.left+c.scrollLeft-d.x-v.x,N=l.top+c.scrollTop-d.y-v.y;return{x:w,y:N,width:l.width,height:l.height}}function Sp(t){return va(t).position==="static"}function u1(t,e){if(!Ga(t)||va(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ka(t)===r&&(r=r.ownerDocument.body),r}function B2(t,e){const r=bs(t);if(cf(t))return r;if(!Ga(t)){let a=Cl(t);for(;a&&!Au(a);){if(ga(a)&&!Sp(a))return a;a=Cl(a)}return r}let n=u1(t,e);for(;n&&M4(n)&&Sp(n);)n=u1(n,e);return n&&Au(n)&&Sp(n)&&!Gm(n)?r:n||$4(t)||r}const n3=async function(t){const e=this.getOffsetParent||B2,r=this.getDimensions,n=await r(t.floating);return{reference:r3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function i3(t){return va(t).direction==="rtl"}const s3={convertOffsetParentRelativeRectToViewportRelativeRect:G4,getDocumentElement:Ka,getClippingRect:e3,getOffsetParent:B2,getElementRects:n3,getClientRects:K4,getDimensions:t3,getScale:wu,isElement:ga,isRTL:i3};function U2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function a3(t,e){let r=null,n;const a=Ka(t);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const p=t.getBoundingClientRect(),{left:v,top:w,width:N,height:h}=p;if(c||e(),!N||!h)return;const k=Sh(w),_=Sh(a.clientWidth-(v+N)),C=Sh(a.clientHeight-(w+h)),E=Sh(v),P={rootMargin:-k+"px "+-_+"px "+-C+"px "+-E+"px",threshold:vs(0,El(1,d))||1};let O=!0;function U(le){const q=le[0].intersectionRatio;if(q!==d){if(!O)return l();q?l(!1,q):n=setTimeout(()=>{l(!1,1e-7)},1e3)}q===1&&!U2(p,t.getBoundingClientRect())&&l(),O=!1}try{r=new IntersectionObserver(U,{...P,root:a.ownerDocument})}catch{r=new IntersectionObserver(U,P)}r.observe(t)}return l(!0),o}function o3(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=Jm(t),v=a||o?[...p?Ed(p):[],...Ed(e)]:[];v.forEach(E=>{a&&E.addEventListener("scroll",r,{passive:!0}),o&&E.addEventListener("resize",r)});const w=p&&c?a3(p,r):null;let N=-1,h=null;l&&(h=new ResizeObserver(E=>{let[j]=E;j&&j.target===p&&h&&(h.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var P;(P=h)==null||P.observe(e)})),r()}),p&&!d&&h.observe(p),h.observe(e));let k,_=d?vc(t):null;d&&C();function C(){const E=vc(t);_&&!U2(_,E)&&r(),_=E,k=requestAnimationFrame(C)}return r(),()=>{var E;v.forEach(j=>{a&&j.removeEventListener("scroll",r),o&&j.removeEventListener("resize",r)}),w==null||w(),(E=h)==null||E.disconnect(),h=null,d&&cancelAnimationFrame(k)}}const l3=T4,c3=O4,u3=C4,d3=I4,h3=L4,d1=E4,f3=R4,p3=(t,e,r)=>{const n=new Map,a={platform:s3,...r},o={...a.platform,_c:n};return j4(t,e,{...a,platform:o})};var m3=typeof document<"u",g3=function(){},Mh=m3?Q.useLayoutEffect:g3;function Zh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Zh(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&t.$$typeof)&&!Zh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function z2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function h1(t,e){const r=z2(t);return Math.round(e*r)/r}function Np(t){const e=Q.useRef(t);return Mh(()=>{e.current=t}),e}function v3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:p}=t,[v,w]=Q.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[N,h]=Q.useState(n);Zh(N,n)||h(n);const[k,_]=Q.useState(null),[C,E]=Q.useState(null),j=Q.useCallback(F=>{F!==le.current&&(le.current=F,_(F))},[]),P=Q.useCallback(F=>{F!==q.current&&(q.current=F,E(F))},[]),O=o||k,U=l||C,le=Q.useRef(null),q=Q.useRef(null),G=Q.useRef(v),K=d!=null,pe=Np(d),I=Np(a),W=Np(p),ae=Q.useCallback(()=>{if(!le.current||!q.current)return;const F={placement:e,strategy:r,middleware:N};I.current&&(F.platform=I.current),p3(le.current,q.current,F).then(ce=>{const we={...ce,isPositioned:W.current!==!1};ie.current&&!Zh(G.current,we)&&(G.current=we,Td.flushSync(()=>{w(we)}))})},[N,e,r,I,W]);Mh(()=>{p===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,w(F=>({...F,isPositioned:!1})))},[p]);const ie=Q.useRef(!1);Mh(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Mh(()=>{if(O&&(le.current=O),U&&(q.current=U),O&&U){if(pe.current)return pe.current(O,U,ae);ae()}},[O,U,ae,pe,K]);const oe=Q.useMemo(()=>({reference:le,floating:q,setReference:j,setFloating:P}),[j,P]),V=Q.useMemo(()=>({reference:O,floating:U}),[O,U]),ee=Q.useMemo(()=>{const F={position:r,left:0,top:0};if(!V.floating)return F;const ce=h1(V.floating,v.x),we=h1(V.floating,v.y);return c?{...F,transform:"translate("+ce+"px, "+we+"px)",...z2(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ce,top:we}},[r,c,V.floating,v.x,v.y]);return Q.useMemo(()=>({...v,update:ae,refs:oe,elements:V,floatingStyles:ee}),[v,ae,oe,V,ee])}const y3=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?d1({element:n.current,padding:a}).fn(r):{}:n?d1({element:n,padding:a}).fn(r):{}}}},w3=(t,e)=>({...l3(t),options:[t,e]}),x3=(t,e)=>({...c3(t),options:[t,e]}),b3=(t,e)=>({...f3(t),options:[t,e]}),_3=(t,e)=>({...u3(t),options:[t,e]}),S3=(t,e)=>({...d3(t),options:[t,e]}),N3=(t,e)=>({...h3(t),options:[t,e]}),k3=(t,e)=>({...y3(t),options:[t,e]});var A3="Arrow",q2=Q.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...o}=t;return m.jsx(jn.svg,{...o,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});q2.displayName=A3;var j3=q2;function E3(t){const[e,r]=Q.useState(void 0);return _s(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,c=p.blockSize}else l=t.offsetWidth,c=t.offsetHeight;r({width:l,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ym="Popper",[$2,W2]=qm(Ym),[C3,V2]=$2(Ym),H2=t=>{const{__scopePopper:e,children:r}=t,[n,a]=Q.useState(null);return m.jsx(C3,{scope:e,anchor:n,onAnchorChange:a,children:r})};H2.displayName=Ym;var G2="PopperAnchor",K2=Q.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,o=V2(G2,r),l=Q.useRef(null),c=li(e,l);return Q.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:m.jsx(jn.div,{...a,ref:c})});K2.displayName=G2;var Xm="PopperContent",[L3,P3]=$2(Xm),J2=Q.forwardRef((t,e)=>{var ne,fe,ge,_e,Pe,Me;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:N=!1,updatePositionStrategy:h="optimized",onPlaced:k,..._}=t,C=V2(Xm,r),[E,j]=Q.useState(null),P=li(e,$e=>j($e)),[O,U]=Q.useState(null),le=E3(O),q=(le==null?void 0:le.width)??0,G=(le==null?void 0:le.height)??0,K=n+(o!=="center"?"-"+o:""),pe=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},I=Array.isArray(p)?p:[p],W=I.length>0,ae={padding:pe,boundary:I.filter(O3),altBoundary:W},{refs:ie,floatingStyles:oe,placement:V,isPositioned:ee,middlewareData:F}=v3({strategy:"fixed",placement:K,whileElementsMounted:(...$e)=>o3(...$e,{animationFrame:h==="always"}),elements:{reference:C.anchor},middleware:[w3({mainAxis:a+G,alignmentAxis:l}),d&&x3({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?b3():void 0,...ae}),d&&_3({...ae}),S3({...ae,apply:({elements:$e,rects:Ke,availableWidth:Z,availableHeight:He})=>{const{width:St,height:yt}=Ke.reference,De=$e.floating.style;De.setProperty("--radix-popper-available-width",`${Z}px`),De.setProperty("--radix-popper-available-height",`${He}px`),De.setProperty("--radix-popper-anchor-width",`${St}px`),De.setProperty("--radix-popper-anchor-height",`${yt}px`)}}),O&&k3({element:O,padding:c}),R3({arrowWidth:q,arrowHeight:G}),N&&N3({strategy:"referenceHidden",...ae})]}),[ce,we]=Q2(V),J=Do(k);_s(()=>{ee&&(J==null||J())},[ee,J]);const T=(ne=F.arrow)==null?void 0:ne.x,$=(fe=F.arrow)==null?void 0:fe.y,X=((ge=F.arrow)==null?void 0:ge.centerOffset)!==0,[ue,de]=Q.useState();return _s(()=>{E&&de(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ee?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(_e=F.transformOrigin)==null?void 0:_e.x,(Pe=F.transformOrigin)==null?void 0:Pe.y].join(" "),...((Me=F.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(L3,{scope:r,placedSide:ce,onArrowChange:U,arrowX:T,arrowY:$,shouldHideArrow:X,children:m.jsx(jn.div,{"data-side":ce,"data-align":we,..._,ref:P,style:{..._.style,animation:ee?void 0:"none"}})})})});J2.displayName=Xm;var Y2="PopperArrow",T3={top:"bottom",right:"left",bottom:"top",left:"right"},X2=Q.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,o=P3(Y2,n),l=T3[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(j3,{...a,ref:r,style:{...a.style,display:"block"}})})});X2.displayName=Y2;function O3(t){return t!==null}var R3=t=>({name:"transformOrigin",options:t,fn(e){var C,E,j;const{placement:r,rects:n,middlewareData:a}=e,l=((C=a.arrow)==null?void 0:C.centerOffset)!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[p,v]=Q2(r),w={start:"0%",center:"50%",end:"100%"}[v],N=(((E=a.arrow)==null?void 0:E.x)??0)+c/2,h=(((j=a.arrow)==null?void 0:j.y)??0)+d/2;let k="",_="";return p==="bottom"?(k=l?w:`${N}px`,_=`${-d}px`):p==="top"?(k=l?w:`${N}px`,_=`${n.floating.height+d}px`):p==="right"?(k=`${-d}px`,_=l?w:`${h}px`):p==="left"&&(k=`${n.floating.width+d}px`,_=l?w:`${h}px`),{data:{x:k,y:_}}}});function Q2(t){const[e,r="center"]=t.split("-");return[e,r]}var I3=H2,D3=K2,F3=J2,M3=X2,B3="Portal",Z2=Q.forwardRef((t,e)=>{var c;const{container:r,...n}=t,[a,o]=Q.useState(!1);_s(()=>o(!0),[]);const l=r||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?N2.createPortal(m.jsx(jn.div,{...n,ref:e}),l):null});Z2.displayName=B3;function f1({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,a]=U3({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:n,c=Do(r),d=Q.useCallback(p=>{if(o){const w=typeof p=="function"?p(t):p;w!==t&&c(w)}else a(p)},[o,t,a,c]);return[l,d]}function U3({defaultProp:t,onChange:e}){const r=Q.useState(t),[n]=r,a=Q.useRef(n),o=Do(e);return Q.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),r}function z3(t){const e=Q.useRef({value:t,previous:t});return Q.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var q3="VisuallyHidden",ey=Q.forwardRef((t,e)=>m.jsx(jn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ey.displayName=q3;var $3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},su=new WeakMap,Nh=new WeakMap,kh={},kp=0,ty=function(t){return t&&(t.host||ty(t.parentNode))},W3=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=ty(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},V3=function(t,e,r,n){var a=W3(e,Array.isArray(t)?t:[t]);kh[r]||(kh[r]=new WeakMap);var o=kh[r],l=[],c=new Set,d=new Set(a),p=function(w){!w||c.has(w)||(c.add(w),p(w.parentNode))};a.forEach(p);var v=function(w){!w||d.has(w)||Array.prototype.forEach.call(w.children,function(N){if(c.has(N))v(N);else try{var h=N.getAttribute(n),k=h!==null&&h!=="false",_=(su.get(N)||0)+1,C=(o.get(N)||0)+1;su.set(N,_),o.set(N,C),l.push(N),_===1&&k&&Nh.set(N,!0),C===1&&N.setAttribute(r,"true"),k||N.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",N,E)}})};return v(e),c.clear(),kp++,function(){l.forEach(function(w){var N=su.get(w)-1,h=o.get(w)-1;su.set(w,N),o.set(w,h),N||(Nh.has(w)||w.removeAttribute(n),Nh.delete(w)),h||w.removeAttribute(r)}),kp--,kp||(su=new WeakMap,su=new WeakMap,Nh=new WeakMap,kh={})}},H3=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=$3(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),V3(n,a,r,"aria-hidden")):function(){return null}},Bh="right-scroll-bar-position",Uh="width-before-scroll-bar",G3="with-scroll-bars-hidden",K3="--removed-body-scroll-bar-size";function Ap(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function J3(t,e){var r=Q.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var Y3=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,p1=new WeakMap;function X3(t,e){var r=J3(null,function(n){return t.forEach(function(a){return Ap(a,n)})});return Y3(function(){var n=p1.get(r);if(n){var a=new Set(n),o=new Set(t),l=r.current;a.forEach(function(c){o.has(c)||Ap(c,null)}),o.forEach(function(c){a.has(c)||Ap(c,l)})}p1.set(r,t)},[t]),r}function Q3(t){return t}function Z3(t,e){e===void 0&&(e=Q3);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var l=e(o,n);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(o),l=r}var d=function(){var v=l;l=[],v.forEach(o)},p=function(){return Promise.resolve().then(d)};p(),r={push:function(v){l.push(v),p()},filter:function(v){return l=l.filter(v),r}}}};return a}function eS(t){t===void 0&&(t={});var e=Z3(null);return e.options=$a({async:!0,ssr:!1},t),e}var ry=function(t){var e=t.sideCar,r=ju(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return Q.createElement(n,$a({},r))};ry.isSideCarExport=!0;function tS(t,e){return t.useMedium(e),ry}var ny=eS(),jp=function(){},hf=Q.forwardRef(function(t,e){var r=Q.useRef(null),n=Q.useState({onScrollCapture:jp,onWheelCapture:jp,onTouchMoveCapture:jp}),a=n[0],o=n[1],l=t.forwardProps,c=t.children,d=t.className,p=t.removeScrollBar,v=t.enabled,w=t.shards,N=t.sideCar,h=t.noRelative,k=t.noIsolation,_=t.inert,C=t.allowPinchZoom,E=t.as,j=E===void 0?"div":E,P=t.gapMode,O=ju(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=N,le=X3([r,e]),q=$a($a({},O),a);return Q.createElement(Q.Fragment,null,v&&Q.createElement(U,{sideCar:ny,removeScrollBar:p,shards:w,noRelative:h,noIsolation:k,inert:_,setCallbacks:o,allowPinchZoom:!!C,lockRef:r,gapMode:P}),l?Q.cloneElement(Q.Children.only(c),$a($a({},q),{ref:le})):Q.createElement(j,$a({},q,{className:d,ref:le}),c))});hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hf.classNames={fullWidth:Uh,zeroRight:Bh};var rS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nS(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rS();return e&&t.setAttribute("nonce",e),t}function iS(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function sS(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var aS=function(){var t=0,e=null;return{add:function(r){t==0&&(e=nS())&&(iS(e,r),sS(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},oS=function(){var t=aS();return function(e,r){Q.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},iy=function(){var t=oS(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},lS={left:0,top:0,right:0,gap:0},Ep=function(t){return parseInt(t||"",10)||0},cS=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[Ep(r),Ep(n),Ep(a)]},uS=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lS;var e=cS(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},dS=iy(),xu="data-scroll-locked",hS=function(t,e,r,n){var a=t.left,o=t.top,l=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(G3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(xu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bh,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Uh,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Bh," .").concat(Bh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Uh," .").concat(Uh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xu,`] {
    `).concat(K3,": ").concat(c,`px;
  }
`)},m1=function(){var t=parseInt(document.body.getAttribute(xu)||"0",10);return isFinite(t)?t:0},fS=function(){Q.useEffect(function(){return document.body.setAttribute(xu,(m1()+1).toString()),function(){var t=m1()-1;t<=0?document.body.removeAttribute(xu):document.body.setAttribute(xu,t.toString())}},[])},pS=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;fS();var o=Q.useMemo(function(){return uS(a)},[a]);return Q.createElement(dS,{styles:hS(o,!e,a,r?"":"!important")})},gm=!1;if(typeof window<"u")try{var Ah=Object.defineProperty({},"passive",{get:function(){return gm=!0,!0}});window.addEventListener("test",Ah,Ah),window.removeEventListener("test",Ah,Ah)}catch{gm=!1}var au=gm?{passive:!1}:!1,mS=function(t){return t.tagName==="TEXTAREA"},sy=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!mS(t)&&r[e]==="visible")},gS=function(t){return sy(t,"overflowY")},vS=function(t){return sy(t,"overflowX")},g1=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=ay(t,n);if(a){var o=oy(t,n),l=o[1],c=o[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},yS=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},wS=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},ay=function(t,e){return t==="v"?gS(e):vS(e)},oy=function(t,e){return t==="v"?yS(e):wS(e)},xS=function(t,e){return t==="h"&&e==="rtl"?-1:1},bS=function(t,e,r,n,a){var o=xS(t,window.getComputedStyle(e).direction),l=o*n,c=r.target,d=e.contains(c),p=!1,v=l>0,w=0,N=0;do{if(!c)break;var h=oy(t,c),k=h[0],_=h[1],C=h[2],E=_-C-o*k;(k||E)&&ay(t,c)&&(w+=E,N+=k);var j=c.parentNode;c=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(v&&Math.abs(w)<1||!v&&Math.abs(N)<1)&&(p=!0),p},jh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},v1=function(t){return[t.deltaX,t.deltaY]},y1=function(t){return t&&"current"in t?t.current:t},_S=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SS=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NS=0,ou=[];function kS(t){var e=Q.useRef([]),r=Q.useRef([0,0]),n=Q.useRef(),a=Q.useState(NS++)[0],o=Q.useState(iy)[0],l=Q.useRef(t);Q.useEffect(function(){l.current=t},[t]),Q.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var _=xw([t.lockRef.current],(t.shards||[]).map(y1),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var c=Q.useCallback(function(_,C){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var E=jh(_),j=r.current,P="deltaX"in _?_.deltaX:j[0]-E[0],O="deltaY"in _?_.deltaY:j[1]-E[1],U,le=_.target,q=Math.abs(P)>Math.abs(O)?"h":"v";if("touches"in _&&q==="h"&&le.type==="range")return!1;var G=window.getSelection(),K=G&&G.anchorNode,pe=K?K===le||K.contains(le):!1;if(pe)return!1;var I=g1(q,le);if(!I)return!0;if(I?U=q:(U=q==="v"?"h":"v",I=g1(q,le)),!I)return!1;if(!n.current&&"changedTouches"in _&&(P||O)&&(n.current=U),!U)return!0;var W=n.current||U;return bS(W,C,_,W==="h"?P:O)},[]),d=Q.useCallback(function(_){var C=_;if(!(!ou.length||ou[ou.length-1]!==o)){var E="deltaY"in C?v1(C):jh(C),j=e.current.filter(function(U){return U.name===C.type&&(U.target===C.target||C.target===U.shadowParent)&&_S(U.delta,E)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var P=(l.current.shards||[]).map(y1).filter(Boolean).filter(function(U){return U.contains(C.target)}),O=P.length>0?c(C,P[0]):!l.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),p=Q.useCallback(function(_,C,E,j){var P={name:_,delta:C,target:E,should:j,shadowParent:AS(E)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(O){return O!==P})},1)},[]),v=Q.useCallback(function(_){r.current=jh(_),n.current=void 0},[]),w=Q.useCallback(function(_){p(_.type,v1(_),_.target,c(_,t.lockRef.current))},[]),N=Q.useCallback(function(_){p(_.type,jh(_),_.target,c(_,t.lockRef.current))},[]);Q.useEffect(function(){return ou.push(o),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:N}),document.addEventListener("wheel",d,au),document.addEventListener("touchmove",d,au),document.addEventListener("touchstart",v,au),function(){ou=ou.filter(function(_){return _!==o}),document.removeEventListener("wheel",d,au),document.removeEventListener("touchmove",d,au),document.removeEventListener("touchstart",v,au)}},[]);var h=t.removeScrollBar,k=t.inert;return Q.createElement(Q.Fragment,null,k?Q.createElement(o,{styles:SS(a)}):null,h?Q.createElement(pS,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function AS(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jS=tS(ny,kS);var ly=Q.forwardRef(function(t,e){return Q.createElement(hf,$a({},t,{ref:e,sideCar:jS}))});ly.classNames=hf.classNames;var ES=[" ","Enter","ArrowUp","ArrowDown"],CS=[" ","Enter"],Rd="Select",[ff,pf,LS]=J_(Rd),[Tu]=qm(Rd,[LS,W2]),mf=W2(),[PS,Pl]=Tu(Rd),[TS,OS]=Tu(Rd),cy=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:p,name:v,autoComplete:w,disabled:N,required:h,form:k}=t,_=mf(e),[C,E]=Q.useState(null),[j,P]=Q.useState(null),[O,U]=Q.useState(!1),le=X_(p),[q=!1,G]=f1({prop:n,defaultProp:a,onChange:o}),[K,pe]=f1({prop:l,defaultProp:c,onChange:d}),I=Q.useRef(null),W=C?k||!!C.closest("form"):!0,[ae,ie]=Q.useState(new Set),oe=Array.from(ae).map(V=>V.props.value).join(";");return m.jsx(I3,{..._,children:m.jsxs(PS,{required:h,scope:e,trigger:C,onTriggerChange:E,valueNode:j,onValueNodeChange:P,valueNodeHasChildren:O,onValueNodeHasChildrenChange:U,contentId:$m(),value:K,onValueChange:pe,open:q,onOpenChange:G,dir:le,triggerPointerDownPosRef:I,disabled:N,children:[m.jsx(ff.Provider,{scope:e,children:m.jsx(TS,{scope:t.__scopeSelect,onNativeOptionAdd:Q.useCallback(V=>{ie(ee=>new Set(ee).add(V))},[]),onNativeOptionRemove:Q.useCallback(V=>{ie(ee=>{const F=new Set(ee);return F.delete(V),F})},[]),children:r})}),W?m.jsxs(Ty,{"aria-hidden":!0,required:h,tabIndex:-1,name:v,autoComplete:w,value:K,onChange:V=>pe(V.target.value),disabled:N,form:k,children:[K===void 0?m.jsx("option",{value:""}):null,Array.from(ae)]},oe):null]})})};cy.displayName=Rd;var uy="SelectTrigger",dy=Q.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,o=mf(r),l=Pl(uy,r),c=l.disabled||n,d=li(e,l.onTriggerChange),p=pf(r),v=Q.useRef("touch"),[w,N,h]=Oy(_=>{const C=p().filter(P=>!P.disabled),E=C.find(P=>P.value===l.value),j=Ry(C,_,E);j!==void 0&&l.onValueChange(j.value)}),k=_=>{c||(l.onOpenChange(!0),h()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return m.jsx(D3,{asChild:!0,...o,children:m.jsx(jn.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Py(l.value)?"":void 0,...a,ref:d,onClick:On(a.onClick,_=>{_.currentTarget.focus(),v.current!=="mouse"&&k(_)}),onPointerDown:On(a.onPointerDown,_=>{v.current=_.pointerType;const C=_.target;C.hasPointerCapture(_.pointerId)&&C.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(k(_),_.preventDefault())}),onKeyDown:On(a.onKeyDown,_=>{const C=w.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&N(_.key),!(C&&_.key===" ")&&ES.includes(_.key)&&(k(),_.preventDefault())})})})});dy.displayName=uy;var hy="SelectValue",fy=Q.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:l="",...c}=t,d=Pl(hy,r),{onValueNodeHasChildrenChange:p}=d,v=o!==void 0,w=li(e,d.onValueNodeChange);return _s(()=>{p(v)},[p,v]),m.jsx(jn.span,{...c,ref:w,style:{pointerEvents:"none"},children:Py(d.value)?m.jsx(m.Fragment,{children:l}):o})});fy.displayName=hy;var RS="SelectIcon",py=Q.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return m.jsx(jn.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});py.displayName=RS;var IS="SelectPortal",my=t=>m.jsx(Z2,{asChild:!0,...t});my.displayName=IS;var yc="SelectContent",gy=Q.forwardRef((t,e)=>{const r=Pl(yc,t.__scopeSelect),[n,a]=Q.useState();if(_s(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?Td.createPortal(m.jsx(vy,{scope:t.__scopeSelect,children:m.jsx(ff.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),o):null}return m.jsx(yy,{...t,ref:e})});gy.displayName=yc;var ca=10,[vy,Tl]=Tu(yc),DS="SelectContentImpl",yy=Q.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:N,collisionPadding:h,sticky:k,hideWhenDetached:_,avoidCollisions:C,...E}=t,j=Pl(yc,r),[P,O]=Q.useState(null),[U,le]=Q.useState(null),q=li(e,ne=>O(ne)),[G,K]=Q.useState(null),[pe,I]=Q.useState(null),W=pf(r),[ae,ie]=Q.useState(!1),oe=Q.useRef(!1);Q.useEffect(()=>{if(P)return H3(P)},[P]),a4();const V=Q.useCallback(ne=>{const[fe,...ge]=W().map(Me=>Me.ref.current),[_e]=ge.slice(-1),Pe=document.activeElement;for(const Me of ne)if(Me===Pe||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===fe&&U&&(U.scrollTop=0),Me===_e&&U&&(U.scrollTop=U.scrollHeight),Me==null||Me.focus(),document.activeElement!==Pe))return},[W,U]),ee=Q.useCallback(()=>V([G,P]),[V,G,P]);Q.useEffect(()=>{ae&&ee()},[ae,ee]);const{onOpenChange:F,triggerPointerDownPosRef:ce}=j;Q.useEffect(()=>{if(P){let ne={x:0,y:0};const fe=_e=>{var Pe,Me;ne={x:Math.abs(Math.round(_e.pageX)-(((Pe=ce.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Me=ce.current)==null?void 0:Me.y)??0))}},ge=_e=>{ne.x<=10&&ne.y<=10?_e.preventDefault():P.contains(_e.target)||F(!1),document.removeEventListener("pointermove",fe),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",ge,{capture:!0})}}},[P,F,ce]),Q.useEffect(()=>{const ne=()=>F(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[F]);const[we,J]=Oy(ne=>{const fe=W().filter(Pe=>!Pe.disabled),ge=fe.find(Pe=>Pe.ref.current===document.activeElement),_e=Ry(fe,ne,ge);_e&&setTimeout(()=>_e.ref.current.focus())}),T=Q.useCallback((ne,fe,ge)=>{const _e=!oe.current&&!ge;(j.value!==void 0&&j.value===fe||_e)&&(K(ne),_e&&(oe.current=!0))},[j.value]),$=Q.useCallback(()=>P==null?void 0:P.focus(),[P]),X=Q.useCallback((ne,fe,ge)=>{const _e=!oe.current&&!ge;(j.value!==void 0&&j.value===fe||_e)&&I(ne)},[j.value]),ue=n==="popper"?vm:wy,de=ue===vm?{side:c,sideOffset:d,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:N,collisionPadding:h,sticky:k,hideWhenDetached:_,avoidCollisions:C}:{};return m.jsx(vy,{scope:r,content:P,viewport:U,onViewportChange:le,itemRefCallback:T,selectedItem:G,onItemLeave:$,itemTextRefCallback:X,focusSelectedItem:ee,selectedItemText:pe,position:n,isPositioned:ae,searchRef:we,children:m.jsx(ly,{as:ku,allowPinchZoom:!0,children:m.jsx(C2,{asChild:!0,trapped:j.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:On(a,ne=>{var fe;(fe=j.trigger)==null||fe.focus({preventScroll:!0}),ne.preventDefault()}),children:m.jsx(j2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:m.jsx(ue,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ne=>ne.preventDefault(),...E,...de,onPlaced:()=>ie(!0),ref:q,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:On(E.onKeyDown,ne=>{const fe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!fe&&ne.key.length===1&&J(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let _e=W().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Pe=ne.target,Me=_e.indexOf(Pe);_e=_e.slice(Me+1)}setTimeout(()=>V(_e)),ne.preventDefault()}})})})})})})});yy.displayName=DS;var FS="SelectItemAlignedPosition",wy=Q.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,o=Pl(yc,r),l=Tl(yc,r),[c,d]=Q.useState(null),[p,v]=Q.useState(null),w=li(e,q=>v(q)),N=pf(r),h=Q.useRef(!1),k=Q.useRef(!0),{viewport:_,selectedItem:C,selectedItemText:E,focusSelectedItem:j}=l,P=Q.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&p&&_&&C&&E){const q=o.trigger.getBoundingClientRect(),G=p.getBoundingClientRect(),K=o.valueNode.getBoundingClientRect(),pe=E.getBoundingClientRect();if(o.dir!=="rtl"){const Pe=pe.left-G.left,Me=K.left-Pe,$e=q.left-Me,Ke=q.width+$e,Z=Math.max(Ke,G.width),He=window.innerWidth-ca,St=K0(Me,[ca,Math.max(ca,He-Z)]);c.style.minWidth=Ke+"px",c.style.left=St+"px"}else{const Pe=G.right-pe.right,Me=window.innerWidth-K.right-Pe,$e=window.innerWidth-q.right-Me,Ke=q.width+$e,Z=Math.max(Ke,G.width),He=window.innerWidth-ca,St=K0(Me,[ca,Math.max(ca,He-Z)]);c.style.minWidth=Ke+"px",c.style.right=St+"px"}const I=N(),W=window.innerHeight-ca*2,ae=_.scrollHeight,ie=window.getComputedStyle(p),oe=parseInt(ie.borderTopWidth,10),V=parseInt(ie.paddingTop,10),ee=parseInt(ie.borderBottomWidth,10),F=parseInt(ie.paddingBottom,10),ce=oe+V+ae+F+ee,we=Math.min(C.offsetHeight*5,ce),J=window.getComputedStyle(_),T=parseInt(J.paddingTop,10),$=parseInt(J.paddingBottom,10),X=q.top+q.height/2-ca,ue=W-X,de=C.offsetHeight/2,ne=C.offsetTop+de,fe=oe+V+ne,ge=ce-fe;if(fe<=X){const Pe=I.length>0&&C===I[I.length-1].ref.current;c.style.bottom="0px";const Me=p.clientHeight-_.offsetTop-_.offsetHeight,$e=Math.max(ue,de+(Pe?$:0)+Me+ee),Ke=fe+$e;c.style.height=Ke+"px"}else{const Pe=I.length>0&&C===I[0].ref.current;c.style.top="0px";const $e=Math.max(X,oe+_.offsetTop+(Pe?T:0)+de)+ge;c.style.height=$e+"px",_.scrollTop=fe-X+_.offsetTop}c.style.margin=`${ca}px 0`,c.style.minHeight=we+"px",c.style.maxHeight=W+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[N,o.trigger,o.valueNode,c,p,_,C,E,o.dir,n]);_s(()=>P(),[P]);const[O,U]=Q.useState();_s(()=>{p&&U(window.getComputedStyle(p).zIndex)},[p]);const le=Q.useCallback(q=>{q&&k.current===!0&&(P(),j==null||j(),k.current=!1)},[P,j]);return m.jsx(BS,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:h,onScrollButtonChange:le,children:m.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:m.jsx(jn.div,{...a,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});wy.displayName=FS;var MS="SelectPopperPosition",vm=Q.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ca,...o}=t,l=mf(r);return m.jsx(F3,{...l,...o,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vm.displayName=MS;var[BS,Qm]=Tu(yc,{}),ym="SelectViewport",xy=Q.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,o=Tl(ym,r),l=Qm(ym,r),c=li(e,o.onViewportChange),d=Q.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),m.jsx(ff.Slot,{scope:r,children:m.jsx(jn.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:On(a.onScroll,p=>{const v=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:N}=l;if(N!=null&&N.current&&w){const h=Math.abs(d.current-v.scrollTop);if(h>0){const k=window.innerHeight-ca*2,_=parseFloat(w.style.minHeight),C=parseFloat(w.style.height),E=Math.max(_,C);if(E<k){const j=E+h,P=Math.min(k,j),O=j-P;w.style.height=P+"px",w.style.bottom==="0px"&&(v.scrollTop=O>0?O:0,w.style.justifyContent="flex-end")}}}d.current=v.scrollTop})})})]})});xy.displayName=ym;var by="SelectGroup",[US,zS]=Tu(by),qS=Q.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=$m();return m.jsx(US,{scope:r,id:a,children:m.jsx(jn.div,{role:"group","aria-labelledby":a,...n,ref:e})})});qS.displayName=by;var _y="SelectLabel",$S=Q.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=zS(_y,r);return m.jsx(jn.div,{id:a.id,...n,ref:e})});$S.displayName=_y;var ef="SelectItem",[WS,Sy]=Tu(ef),Ny=Q.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...l}=t,c=Pl(ef,r),d=Tl(ef,r),p=c.value===n,[v,w]=Q.useState(o??""),[N,h]=Q.useState(!1),k=li(e,j=>{var P;return(P=d.itemRefCallback)==null?void 0:P.call(d,j,n,a)}),_=$m(),C=Q.useRef("touch"),E=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(WS,{scope:r,value:n,disabled:a,textId:_,isSelected:p,onItemTextChange:Q.useCallback(j=>{w(P=>P||((j==null?void 0:j.textContent)??"").trim())},[]),children:m.jsx(ff.ItemSlot,{scope:r,value:n,disabled:a,textValue:v,children:m.jsx(jn.div,{role:"option","aria-labelledby":_,"data-highlighted":N?"":void 0,"aria-selected":p&&N,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:k,onFocus:On(l.onFocus,()=>h(!0)),onBlur:On(l.onBlur,()=>h(!1)),onClick:On(l.onClick,()=>{C.current!=="mouse"&&E()}),onPointerUp:On(l.onPointerUp,()=>{C.current==="mouse"&&E()}),onPointerDown:On(l.onPointerDown,j=>{C.current=j.pointerType}),onPointerMove:On(l.onPointerMove,j=>{var P;C.current=j.pointerType,a?(P=d.onItemLeave)==null||P.call(d):C.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:On(l.onPointerLeave,j=>{var P;j.currentTarget===document.activeElement&&((P=d.onItemLeave)==null||P.call(d))}),onKeyDown:On(l.onKeyDown,j=>{var O;((O=d.searchRef)==null?void 0:O.current)!==""&&j.key===" "||(CS.includes(j.key)&&E(),j.key===" "&&j.preventDefault())})})})})});Ny.displayName=ef;var fd="SelectItemText",ky=Q.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...o}=t,l=Pl(fd,r),c=Tl(fd,r),d=Sy(fd,r),p=OS(fd,r),[v,w]=Q.useState(null),N=li(e,E=>w(E),d.onItemTextChange,E=>{var j;return(j=c.itemTextRefCallback)==null?void 0:j.call(c,E,d.value,d.disabled)}),h=v==null?void 0:v.textContent,k=Q.useMemo(()=>m.jsx("option",{value:d.value,disabled:d.disabled,children:h},d.value),[d.disabled,d.value,h]),{onNativeOptionAdd:_,onNativeOptionRemove:C}=p;return _s(()=>(_(k),()=>C(k)),[_,C,k]),m.jsxs(m.Fragment,{children:[m.jsx(jn.span,{id:d.textId,...o,ref:N}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Td.createPortal(o.children,l.valueNode):null]})});ky.displayName=fd;var Ay="SelectItemIndicator",jy=Q.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Sy(Ay,r).isSelected?m.jsx(jn.span,{"aria-hidden":!0,...n,ref:e}):null});jy.displayName=Ay;var wm="SelectScrollUpButton",Ey=Q.forwardRef((t,e)=>{const r=Tl(wm,t.__scopeSelect),n=Qm(wm,t.__scopeSelect),[a,o]=Q.useState(!1),l=li(e,n.onScrollButtonChange);return _s(()=>{if(r.viewport&&r.isPositioned){let c=function(){const p=d.scrollTop>0;o(p)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?m.jsx(Ly,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Ey.displayName=wm;var xm="SelectScrollDownButton",Cy=Q.forwardRef((t,e)=>{const r=Tl(xm,t.__scopeSelect),n=Qm(xm,t.__scopeSelect),[a,o]=Q.useState(!1),l=li(e,n.onScrollButtonChange);return _s(()=>{if(r.viewport&&r.isPositioned){let c=function(){const p=d.scrollHeight-d.clientHeight,v=Math.ceil(d.scrollTop)<p;o(v)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?m.jsx(Ly,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Cy.displayName=xm;var Ly=Q.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,o=Tl("SelectScrollButton",r),l=Q.useRef(null),c=pf(r),d=Q.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return Q.useEffect(()=>()=>d(),[d]),_s(()=>{var v;const p=c().find(w=>w.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[c]),m.jsx(jn.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:On(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:On(a.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:On(a.onPointerLeave,()=>{d()})})}),VS="SelectSeparator",HS=Q.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return m.jsx(jn.div,{"aria-hidden":!0,...n,ref:e})});HS.displayName=VS;var bm="SelectArrow",GS=Q.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=mf(r),o=Pl(bm,r),l=Tl(bm,r);return o.open&&l.position==="popper"?m.jsx(M3,{...a,...n,ref:e}):null});GS.displayName=bm;function Py(t){return t===""||t===void 0}var Ty=Q.forwardRef((t,e)=>{const{value:r,...n}=t,a=Q.useRef(null),o=li(e,a),l=z3(r);return Q.useEffect(()=>{const c=a.current,d=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==r&&v){const w=new Event("change",{bubbles:!0});v.call(c,r),c.dispatchEvent(w)}},[l,r]),m.jsx(ey,{asChild:!0,children:m.jsx("select",{...n,ref:o,defaultValue:r})})});Ty.displayName="BubbleSelect";function Oy(t){const e=Do(t),r=Q.useRef(""),n=Q.useRef(0),a=Q.useCallback(l=>{const c=r.current+l;e(c),(function d(p){r.current=p,window.clearTimeout(n.current),p!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),o=Q.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return Q.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function Ry(t,e,r){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let l=KS(t,Math.max(o,0));a.length===1&&(l=l.filter(p=>p!==r));const d=l.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function KS(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var JS=cy,YS=dy,XS=fy,QS=py,ZS=my,eN=gy,tN=xy,rN=Ny,nN=ky,iN=jy,sN=Ey,aN=Cy;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),w1=t=>{const e=lN(t);return e.charAt(0).toUpperCase()+e.slice(1)},Iy=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:l,...c},d)=>Q.createElement("svg",{ref:d,...cN,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Iy("lucide",a),...c},[...l.map(([p,v])=>Q.createElement(p,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=(t,e)=>{const r=Q.forwardRef(({className:n,...a},o)=>Q.createElement(uN,{ref:o,iconNode:e,className:Iy(`lucide-${oN(w1(t))}`,`lucide-${t}`,n),...a}));return r.displayName=w1(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hN=Zm("check",dN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dy=Zm("chevron-down",fN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mN=Zm("chevron-up",pN);function ha({...t}){return m.jsx(JS,{"data-slot":"select",...t})}function fa({...t}){return m.jsx(XS,{"data-slot":"select-value",...t})}function pa({className:t,size:e="default",children:r,...n}){return m.jsxs(YS,{"data-slot":"select-trigger","data-size":e,className:Fi("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[r,m.jsx(QS,{asChild:!0,children:m.jsx(Dy,{className:"size-4 opacity-50"})})]})}function ma({className:t,children:e,position:r="popper",...n}){return m.jsx(ZS,{children:m.jsxs(eN,{"data-slot":"select-content",className:Fi("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[m.jsx(gN,{}),m.jsx(tN,{className:Fi("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),m.jsx(vN,{})]})})}function Gt({className:t,children:e,...r}){return m.jsxs(rN,{"data-slot":"select-item",className:Fi("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...r,children:[m.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:m.jsx(iN,{children:m.jsx(hN,{className:"size-4"})})}),m.jsx(nN,{children:e})]})}function gN({className:t,...e}){return m.jsx(sN,{"data-slot":"select-scroll-up-button",className:Fi("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(mN,{className:"size-4"})})}function vN({className:t,...e}){return m.jsx(aN,{"data-slot":"select-scroll-down-button",className:Fi("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(Dy,{className:"size-4"})})}const x1=()=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),description:"",unitPrice:"",quantity:"1",vatPercentage:"21"}),b1=({quotationId:t,onNavigate:e,onSaved:r})=>{const{accessToken:n,loading:a}=Ss(),[o,l]=Q.useState(!1),[c,d]=Q.useState(""),[p,v]=Q.useState(""),[w,N]=Q.useState([x1()]),[h,k]=Q.useState([]),[_,C]=Q.useState(""),[E,j]=Q.useState({clientName:"",clientAddress:"",status:"draft",date:new Date().toISOString().split("T")[0],expiryDate:""});Q.useEffect(()=>{(async()=>{if(n)try{const V=await Nr.getClients(n);k(V.clients||[])}catch(V){console.error("Error fetching clients:",V)}})()},[n]),Q.useEffect(()=>{if(!E.expiryDate&&!t){const oe=new Date;oe.setDate(oe.getDate()+30),j(V=>({...V,expiryDate:oe.toISOString().split("T")[0]}))}},[]),Q.useEffect(()=>{console.log("QuotationForm - Auth loading:",a),console.log("QuotationForm - Access token present:",!!n),n&&console.log("QuotationForm - Access token length:",n.length)},[n,a]),Q.useEffect(()=>{t&&O()},[t]);const P=oe=>{if(C(oe),oe==="new"){j(ee=>({...ee,clientName:"",clientAddress:""}));return}const V=h.find(ee=>ee.id===oe);if(V){const ee=[];V.address&&ee.push(V.address),(V.postalCode||V.city)&&ee.push([V.postalCode,V.city].filter(Boolean).join(" ")),V.country&&V.country!=="Nederland"&&ee.push(V.country),j(F=>({...F,clientName:V.name,clientAddress:ee.join(`
`)}))}},O=async()=>{var oe,V;if(!(!n||!t))try{const F=(await Nr.getQuotation(n,t)).quotation;j({clientName:F.clientName,clientAddress:F.clientAddress,status:F.status,date:F.date.split("T")[0],expiryDate:F.expiryDate?F.expiryDate.split("T")[0]:""}),F.lineItems&&F.lineItems.length>0?N(F.lineItems):N([{id:"1",description:F.description||"",unitPrice:((oe=F.price)==null?void 0:oe.toString())||"",quantity:"1",vatPercentage:((V=F.vatPercentage)==null?void 0:V.toString())||"21"}])}catch(ee){console.error("Error fetching quotation:",ee)}},U=()=>{N([...w,x1()])},le=oe=>{w.length>1&&N(w.filter(V=>V.id!==oe))},q=(oe,V,ee)=>{N(w.map(F=>F.id===oe?{...F,[V]:ee}:F))},G=oe=>{const V=parseFloat(oe.unitPrice)||0,ee=parseFloat(oe.quantity)||0;return V*ee},K=oe=>{const V=G(oe),ee=parseFloat(oe.vatPercentage)||0;return V*ee/100},pe=()=>w.reduce((oe,V)=>oe+G(V),0),I=()=>{const oe={};return w.forEach(V=>{const ee=V.vatPercentage;oe[ee]||(oe[ee]=0),oe[ee]+=K(V)}),oe},W=()=>w.reduce((oe,V)=>oe+K(V),0),ae=()=>pe()+W(),ie=async oe=>{oe.preventDefault(),d(""),v(""),l(!0);try{if(!n)throw new Error("Je bent niet ingelogd. Log opnieuw in.");const V=w.filter(ce=>ce.description.trim()&&parseFloat(ce.unitPrice)>0);if(V.length===0)throw new Error("Voeg minimaal n regel met omschrijving en prijs toe.");const ee=V.map(ce=>ce.description).join(`
`),F={...E,description:ee,price:pe(),vatPercentage:21,lineItems:V.map(ce=>({...ce,unitPrice:parseFloat(ce.unitPrice)||0,quantity:parseFloat(ce.quantity)||1,vatPercentage:parseFloat(ce.vatPercentage)||21}))};t?await Nr.updateQuotation(n,t,F):await Nr.createQuotation(n,F),v("Offerte succesvol opgeslagen!"),setTimeout(()=>{r?r():e("quotations")},1e3)}catch(V){console.error("Quotation save error:",V),d(V.message||"Er is een onbekende fout opgetreden bij het opslaan")}finally{l(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsx(pt,{variant:"ghost",onClick:()=>e("dashboard"),children:" Terug naar Dashboard"})})}),m.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs(Ht,{children:[m.jsxs(Wn,{children:[m.jsx(Vn,{children:t?"Offerte Bewerken":"Nieuwe Offerte"}),m.jsx(Di,{children:"Vul de gegevens in voor je offerte"})]}),m.jsx(nr,{children:m.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Klantgegevens"}),h.length>0&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{children:"Selecteer bestaande klant"}),m.jsxs(ha,{value:_,onValueChange:P,children:[m.jsx(pa,{children:m.jsx(fa,{placeholder:"Kies een klant of voer handmatig in..."})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"new",children:"-- Nieuwe klant (handmatig invullen) --"}),h.map(oe=>m.jsxs(Gt,{value:oe.id,children:[oe.name," ",oe.city&&`(${oe.city})`]},oe.id))]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"clientName",children:"Klant Naam *"}),m.jsx(lr,{id:"clientName",value:E.clientName,onChange:oe=>j({...E,clientName:oe.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"clientAddress",children:"Klant Adres *"}),m.jsx(Ad,{id:"clientAddress",value:E.clientAddress,onChange:oe=>j({...E,clientAddress:oe.target.value}),rows:3,required:!0})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Offerte Details"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"date",children:"Offertedatum *"}),m.jsx(lr,{id:"date",type:"date",value:E.date,onChange:oe=>j({...E,date:oe.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"expiryDate",children:"Geldig tot *"}),m.jsx(lr,{id:"expiryDate",type:"date",value:E.expiryDate,onChange:oe=>j({...E,expiryDate:oe.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"status",children:"Status *"}),m.jsxs(ha,{value:E.status,onValueChange:oe=>j({...E,status:oe}),children:[m.jsx(pa,{children:m.jsx(fa,{})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"draft",children:"Concept"}),m.jsx(Gt,{value:"sent",children:"Verstuurd"}),m.jsx(Gt,{value:"accepted",children:"Geaccepteerd"})]})]})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Werkzaamheden"}),m.jsx(pt,{type:"button",variant:"outline",size:"sm",onClick:U,children:"+ Regel toevoegen"})]}),m.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-2 text-sm font-medium text-gray-600 px-2",children:[m.jsx("div",{className:"col-span-5",children:"Omschrijving"}),m.jsx("div",{className:"col-span-2",children:"Bedrag"}),m.jsx("div",{className:"col-span-2",children:"Aantal"}),m.jsx("div",{className:"col-span-2",children:"BTW"}),m.jsx("div",{className:"col-span-1"})]}),w.map((oe,V)=>m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"col-span-1 md:col-span-5",children:[m.jsx(Vt,{className:"md:hidden text-xs text-gray-500",children:"Omschrijving"}),m.jsx(lr,{placeholder:"Omschrijving werkzaamheden",value:oe.description,onChange:ee=>q(oe.id,"description",ee.target.value)})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsx(Vt,{className:"md:hidden text-xs text-gray-500",children:"Bedrag ()"}),m.jsx(lr,{type:"number",step:"0.01",placeholder:"0,00",value:oe.unitPrice,onChange:ee=>q(oe.id,"unitPrice",ee.target.value)})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsx(Vt,{className:"md:hidden text-xs text-gray-500",children:"Aantal"}),m.jsx(lr,{type:"number",step:"1",min:"1",placeholder:"1",value:oe.quantity,onChange:ee=>q(oe.id,"quantity",ee.target.value)})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsx(Vt,{className:"md:hidden text-xs text-gray-500",children:"BTW %"}),m.jsxs(ha,{value:oe.vatPercentage,onValueChange:ee=>q(oe.id,"vatPercentage",ee),children:[m.jsx(pa,{children:m.jsx(fa,{})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"0",children:"0%"}),m.jsx(Gt,{value:"9",children:"9%"}),m.jsx(Gt,{value:"21",children:"21%"})]})]})]}),m.jsx("div",{className:"col-span-1 md:col-span-1 flex items-end justify-end md:justify-center",children:m.jsx(pt,{type:"button",variant:"ghost",size:"sm",onClick:()=>le(oe.id),disabled:w.length===1,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:""})}),m.jsxs("div",{className:"col-span-1 md:hidden text-right text-sm font-medium text-gray-700",children:["Totaal: ",G(oe).toFixed(2)]})]},oe.id)),m.jsx(pt,{type:"button",variant:"ghost",size:"sm",onClick:U,className:"w-full border-2 border-dashed",children:"+ Nog een regel toevoegen"})]}),pe()>0&&m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Subtotaal:"}),m.jsxs("span",{children:["",pe().toFixed(2)]})]}),Object.entries(I()).map(([oe,V])=>V>0&&m.jsxs("div",{className:"flex justify-between text-gray-600",children:[m.jsxs("span",{children:["BTW ",oe,"%:"]}),m.jsxs("span",{children:["",V.toFixed(2)]})]},oe)),m.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[m.jsx("span",{children:"Totaal incl. BTW:"}),m.jsxs("span",{children:["",ae().toFixed(2)]})]})]}),c&&m.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:c}),p&&m.jsx("div",{className:"text-green-600 text-sm p-3 bg-green-50 rounded",children:p}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx(pt,{type:"submit",disabled:o,children:o?"Bezig...":t?"Bijwerken":"Aanmaken"}),m.jsx(pt,{type:"button",variant:"outline",onClick:()=>e("dashboard"),children:"Annuleren"})]})]})})]})})]})},yN=({onNavigate:t})=>{const{accessToken:e}=Ss(),[r,n]=Q.useState([]),[a,o]=Q.useState(!0),[l,c]=Q.useState(""),[d,p]=Q.useState("all"),[v,w]=Q.useState("date-desc"),[N,h]=Q.useState("grouped");Q.useEffect(()=>{k()},[e]);const k=async()=>{if(e)try{const P=await Nr.getQuotations(e);n(P.quotations||[])}catch(P){console.error("Error fetching quotations:",P)}finally{o(!1)}},_=Q.useMemo(()=>{let P=[...r];if(d!=="all"&&(P=P.filter(O=>O.status===d)),l){const O=l.toLowerCase();P=P.filter(U=>{var le,q,G;return((le=U.clientName)==null?void 0:le.toLowerCase().includes(O))||((q=U.quotationNumber)==null?void 0:q.toLowerCase().includes(O))||((G=U.description)==null?void 0:G.toLowerCase().includes(O))})}return P.sort((O,U)=>{switch(v){case"date-desc":return new Date(U.date).getTime()-new Date(O.date).getTime();case"date-asc":return new Date(O.date).getTime()-new Date(U.date).getTime();case"price-desc":return(U.price||0)-(O.price||0);case"price-asc":return(O.price||0)-(U.price||0);case"client-asc":return(O.clientName||"").localeCompare(U.clientName||"");case"client-desc":return(U.clientName||"").localeCompare(O.clientName||"");default:return 0}}),P},[r,d,l,v]),C=Q.useMemo(()=>{const P={};return _.forEach(O=>{const le=new Date(O.date).toLocaleDateString("nl-NL",{month:"long",year:"numeric"});P[le]||(P[le]=[]),P[le].push(O)}),P},[_]),E=Q.useMemo(()=>{const P=_.reduce((U,le)=>U+(le.price||0),0),O={draft:_.filter(U=>U.status==="draft").length,sent:_.filter(U=>U.status==="sent").length,accepted:_.filter(U=>U.status==="accepted").length};return{total:P,byStatus:O,count:_.length}},[_]),j=P=>new Date(P).toLocaleDateString("nl-NL",{day:"numeric",month:"short",year:"numeric"});return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Alle Offertes"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx(pt,{onClick:()=>t("create-quotation"),children:"+ Nieuwe Offerte"}),m.jsx(pt,{variant:"outline",onClick:()=>t("dashboard"),children:"Dashboard"})]})]})})}),m.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Totaal waarde"}),m.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",E.total.toFixed(2)]})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Concept"}),m.jsx("p",{className:"text-2xl font-bold text-gray-600",children:E.byStatus.draft})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Verstuurd"}),m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:E.byStatus.sent})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Geaccepteerd"}),m.jsx("p",{className:"text-2xl font-bold text-green-600",children:E.byStatus.accepted})]})})]}),m.jsx(Ht,{className:"mb-6",children:m.jsxs(nr,{className:"p-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx(lr,{placeholder:"Zoek op naam, nummer of omschrijving...",value:l,onChange:P=>c(P.target.value),className:"md:col-span-2"}),m.jsxs(ha,{value:d,onValueChange:p,children:[m.jsx(pa,{children:m.jsx(fa,{placeholder:"Filter op status"})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"all",children:"Alle Statussen"}),m.jsx(Gt,{value:"draft",children:"Concept"}),m.jsx(Gt,{value:"sent",children:"Verstuurd"}),m.jsx(Gt,{value:"accepted",children:"Geaccepteerd"})]})]}),m.jsxs(ha,{value:v,onValueChange:P=>w(P),children:[m.jsx(pa,{children:m.jsx(fa,{placeholder:"Sorteren"})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"date-desc",children:"Nieuwste eerst"}),m.jsx(Gt,{value:"date-asc",children:"Oudste eerst"}),m.jsx(Gt,{value:"price-desc",children:"Hoogste prijs"}),m.jsx(Gt,{value:"price-asc",children:"Laagste prijs"}),m.jsx(Gt,{value:"client-asc",children:"Klant A-Z"}),m.jsx(Gt,{value:"client-desc",children:"Klant Z-A"})]})]})]}),m.jsxs("div",{className:"flex justify-between items-center mt-4",children:[m.jsxs("p",{className:"text-sm text-gray-500",children:[E.count," offerte(s) gevonden"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(pt,{variant:N==="grouped"?"default":"outline",size:"sm",onClick:()=>h("grouped"),children:"Gegroepeerd"}),m.jsx(pt,{variant:N==="list"?"default":"outline",size:"sm",onClick:()=>h("list"),children:"Lijst"})]})]})]})}),a?m.jsx("div",{className:"text-center py-8",children:"Laden..."}):_.length===0?m.jsx(Ht,{children:m.jsxs(nr,{className:"py-8 text-center",children:[m.jsx("p",{className:"text-gray-500 mb-4",children:r.length===0?"Nog geen offertes. Maak je eerste offerte aan!":"Geen offertes gevonden met deze filters."}),r.length===0&&m.jsx(pt,{onClick:()=>t("create-quotation"),children:"Eerste Offerte Aanmaken"})]})}):N==="grouped"?m.jsx("div",{className:"space-y-6",children:Object.entries(C).map(([P,O])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 capitalize",children:P}),m.jsxs("span",{className:"text-sm text-gray-500",children:[O.length," offerte(s) - ",O.reduce((U,le)=>U+(le.price||0),0).toFixed(2)]})]}),m.jsx("div",{className:"space-y-2",children:O.map(U=>{var le,q;return m.jsx("div",{className:"bg-white rounded-lg border p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(`quotation-detail-${U.id}`),children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-semibold",children:((q=(le=U.clientName)==null?void 0:le.charAt(0))==null?void 0:q.toUpperCase())||"?"}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"font-medium",children:U.clientName}),m.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${kd(U.status)}`,children:Nd(U.status)})]}),m.jsxs("p",{className:"text-sm text-gray-500",children:[U.quotationNumber,"  ",j(U.date)]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-bold",children:["",(U.price||0).toFixed(2)]}),m.jsx("p",{className:"text-xs text-gray-500",children:"excl. BTW"})]})]})},U.id)})})]},P))}):m.jsx(Ht,{children:m.jsx(nr,{className:"p-0",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50 border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left p-4 font-medium text-gray-600",children:"Klant"}),m.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden md:table-cell",children:"Nummer"}),m.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden md:table-cell",children:"Datum"}),m.jsx("th",{className:"text-left p-4 font-medium text-gray-600",children:"Status"}),m.jsx("th",{className:"text-right p-4 font-medium text-gray-600",children:"Bedrag"})]})}),m.jsx("tbody",{children:_.map((P,O)=>m.jsxs("tr",{className:`border-b hover:bg-gray-50 cursor-pointer ${O%2===0?"bg-white":"bg-gray-50/50"}`,onClick:()=>t(`quotation-detail-${P.id}`),children:[m.jsxs("td",{className:"p-4",children:[m.jsx("p",{className:"font-medium",children:P.clientName}),m.jsx("p",{className:"text-sm text-gray-500 md:hidden",children:P.quotationNumber})]}),m.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:P.quotationNumber}),m.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:j(P.date)}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`text-xs px-2 py-1 rounded ${kd(P.status)}`,children:Nd(P.status)})}),m.jsxs("td",{className:"p-4 text-right font-medium",children:["",(P.price||0).toFixed(2)]})]},P.id))})]})})})]})]})},eg=(t,e)=>t*e/100,Fy=(t,e)=>t+eg(t,e),wN="modulepreload",xN=function(t){return"/"+t},_1={},Cp=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=l(r.map(p=>{if(p=xN(p),p in _1)return;_1[p]=!0;const v=p.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const N=document.createElement("link");if(N.rel=v?"stylesheet":wN,v||(N.as="script"),N.crossOrigin="",N.href=p,d&&N.setAttribute("nonce",d),document.head.appendChild(N),v)return new Promise((h,k)=>{N.addEventListener("load",h),N.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Pr(t){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(t)}var ya=Uint8Array,xs=Uint16Array,tg=Int32Array,rg=new ya([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ng=new ya([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),S1=new ya([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),My=function(t,e){for(var r=new xs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new tg(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)a[o]=o-r[n]<<5|n;return{b:r,r:a}},By=My(rg,2),bN=By.b,_m=By.r;bN[28]=258,_m[258]=28;var _N=My(ng,0),N1=_N.r,Sm=new xs(32768);for(var Hr=0;Hr<32768;++Hr){var _l=(Hr&43690)>>1|(Hr&21845)<<1;_l=(_l&52428)>>2|(_l&13107)<<2,_l=(_l&61680)>>4|(_l&3855)<<4,Sm[Hr]=((_l&65280)>>8|(_l&255)<<8)>>1}var gd=(function(t,e,r){for(var n=t.length,a=0,o=new xs(e);a<n;++a)t[a]&&++o[t[a]-1];var l=new xs(e);for(a=1;a<e;++a)l[a]=l[a-1]+o[a-1]<<1;var c;if(r){c=new xs(1<<e);var d=15-e;for(a=0;a<n;++a)if(t[a])for(var p=a<<4|t[a],v=e-t[a],w=l[t[a]-1]++<<v,N=w|(1<<v)-1;w<=N;++w)c[Sm[w]>>d]=p}else for(c=new xs(n),a=0;a<n;++a)t[a]&&(c[a]=Sm[l[t[a]-1]++]>>15-t[a]);return c}),wc=new ya(288);for(var Hr=0;Hr<144;++Hr)wc[Hr]=8;for(var Hr=144;Hr<256;++Hr)wc[Hr]=9;for(var Hr=256;Hr<280;++Hr)wc[Hr]=7;for(var Hr=280;Hr<288;++Hr)wc[Hr]=8;var tf=new ya(32);for(var Hr=0;Hr<32;++Hr)tf[Hr]=5;var SN=gd(wc,9,0),NN=gd(tf,5,0),Uy=function(t){return(t+7)/8|0},kN=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ya(t.subarray(e,r))},To=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ud=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Lp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,o=r.slice();if(!a)return{t:qy,l:0};if(a==1){var l=new ya(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(U,le){return U.f-le.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],p=0,v=1,w=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};v!=a-1;)c=r[r[p].f<r[w].f?p++:w++],d=r[p!=v&&r[p].f<r[w].f?p++:w++],r[v++]={s:-1,f:c.f+d.f,l:c,r:d};for(var N=o[0].s,n=1;n<a;++n)o[n].s>N&&(N=o[n].s);var h=new xs(N+1),k=Nm(r[v-1],h,0);if(k>e){var n=0,_=0,C=k-e,E=1<<C;for(o.sort(function(le,q){return h[q.s]-h[le.s]||le.f-q.f});n<a;++n){var j=o[n].s;if(h[j]>e)_+=E-(1<<k-h[j]),h[j]=e;else break}for(_>>=C;_>0;){var P=o[n].s;h[P]<e?_-=1<<e-h[P]++-1:++n}for(;n>=0&&_;--n){var O=o[n].s;h[O]==e&&(--h[O],++_)}k=e}return{t:new ya(h),l:k}},Nm=function(t,e,r){return t.s==-1?Math.max(Nm(t.l,e,r+1),Nm(t.r,e,r+1)):e[t.s]=r},k1=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new xs(++e),n=0,a=t[0],o=1,l=function(d){r[n++]=d},c=1;c<=e;++c)if(t[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(a),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(a);o=1,a=t[c]}return{c:r.subarray(0,n),n:e}},dd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},zy=function(t,e,r){var n=r.length,a=Uy(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var o=0;o<n;++o)t[a+o+4]=r[o];return(a+4+n)*8},A1=function(t,e,r,n,a,o,l,c,d,p,v){To(e,v++,r),++a[256];for(var w=Lp(a,15),N=w.t,h=w.l,k=Lp(o,15),_=k.t,C=k.l,E=k1(N),j=E.c,P=E.n,O=k1(_),U=O.c,le=O.n,q=new xs(19),G=0;G<j.length;++G)++q[j[G]&31];for(var G=0;G<U.length;++G)++q[U[G]&31];for(var K=Lp(q,7),pe=K.t,I=K.l,W=19;W>4&&!pe[S1[W-1]];--W);var ae=p+5<<3,ie=dd(a,wc)+dd(o,tf)+l,oe=dd(a,N)+dd(o,_)+l+14+3*W+dd(q,pe)+2*q[16]+3*q[17]+7*q[18];if(d>=0&&ae<=ie&&ae<=oe)return zy(e,v,t.subarray(d,d+p));var V,ee,F,ce;if(To(e,v,1+(oe<ie)),v+=2,oe<ie){V=gd(N,h,0),ee=N,F=gd(_,C,0),ce=_;var we=gd(pe,I,0);To(e,v,P-257),To(e,v+5,le-1),To(e,v+10,W-4),v+=14;for(var G=0;G<W;++G)To(e,v+3*G,pe[S1[G]]);v+=3*W;for(var J=[j,U],T=0;T<2;++T)for(var $=J[T],G=0;G<$.length;++G){var X=$[G]&31;To(e,v,we[X]),v+=pe[X],X>15&&(To(e,v,$[G]>>5&127),v+=$[G]>>12)}}else V=SN,ee=wc,F=NN,ce=tf;for(var G=0;G<c;++G){var ue=n[G];if(ue>255){var X=ue>>18&31;ud(e,v,V[X+257]),v+=ee[X+257],X>7&&(To(e,v,ue>>23&31),v+=rg[X]);var de=ue&31;ud(e,v,F[de]),v+=ce[de],de>3&&(ud(e,v,ue>>5&8191),v+=ng[de])}else ud(e,v,V[ue]),v+=ee[ue]}return ud(e,v,V[256]),v+ee[256]},AN=new tg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qy=new ya(0),jN=function(t,e,r,n,a,o){var l=o.z||t.length,c=new ya(n+l+5*(1+Math.ceil(l/7e3))+a),d=c.subarray(n,c.length-a),p=o.l,v=(o.r||0)&7;if(e){v&&(d[0]=o.r>>3);for(var w=AN[e-1],N=w>>13,h=w&8191,k=(1<<r)-1,_=o.p||new xs(32768),C=o.h||new xs(k+1),E=Math.ceil(r/3),j=2*E,P=function(Ke){return(t[Ke]^t[Ke+1]<<E^t[Ke+2]<<j)&k},O=new tg(25e3),U=new xs(288),le=new xs(32),q=0,G=0,K=o.i||0,pe=0,I=o.w||0,W=0;K+2<l;++K){var ae=P(K),ie=K&32767,oe=C[ae];if(_[ie]=oe,C[ae]=ie,I<=K){var V=l-K;if((q>7e3||pe>24576)&&(V>423||!p)){v=A1(t,d,0,O,U,le,G,pe,W,K-W,v),pe=q=G=0,W=K;for(var ee=0;ee<286;++ee)U[ee]=0;for(var ee=0;ee<30;++ee)le[ee]=0}var F=2,ce=0,we=h,J=ie-oe&32767;if(V>2&&ae==P(K-J))for(var T=Math.min(N,V)-1,$=Math.min(32767,K),X=Math.min(258,V);J<=$&&--we&&ie!=oe;){if(t[K+F]==t[K+F-J]){for(var ue=0;ue<X&&t[K+ue]==t[K+ue-J];++ue);if(ue>F){if(F=ue,ce=J,ue>T)break;for(var de=Math.min(J,ue-2),ne=0,ee=0;ee<de;++ee){var fe=K-J+ee&32767,ge=_[fe],_e=fe-ge&32767;_e>ne&&(ne=_e,oe=fe)}}}ie=oe,oe=_[ie],J+=ie-oe&32767}if(ce){O[pe++]=268435456|_m[F]<<18|N1[ce];var Pe=_m[F]&31,Me=N1[ce]&31;G+=rg[Pe]+ng[Me],++U[257+Pe],++le[Me],I=K+F,++q}else O[pe++]=t[K],++U[t[K]]}}for(K=Math.max(K,I);K<l;++K)O[pe++]=t[K],++U[t[K]];v=A1(t,d,p,O,U,le,G,pe,W,K-W,v),p||(o.r=v&7|d[v/8|0]<<3,v-=7,o.h=C,o.p=_,o.i=K,o.w=I)}else{for(var K=o.w||0;K<l+p;K+=65535){var $e=K+65535;$e>=l&&(d[v/8|0]=p,$e=l),v=zy(d,v+1,t.subarray(K,$e))}o.i=l}return kN(c,0,n+Uy(v)+a)},$y=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,o=r.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},EN=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new ya(o.length+t.length);l.set(o),l.set(t,o.length),t=l,a.w=o.length}return jN(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},Wy=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},CN=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=$y();a.p(e.dictionary),Wy(t,2,a.d())}};function km(t,e){e||(e={});var r=$y();r.p(t);var n=EN(t,e,e.dictionary?6:2,4);return CN(n,e),Wy(n,n.length-4,r.d()),n}var LN=typeof TextDecoder<"u"&&new TextDecoder,PN=0;try{LN.decode(qy,{stream:!0}),PN=1}catch{}function TN(t){if(Array.isArray(t))return t}function ON(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,l,c=[],d=!0,p=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(v){p=!0,a=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(p)throw a}}return c}}function j1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function RN(t,e){if(t){if(typeof t=="string")return j1(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j1(t,e):void 0}}function IN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1(t,e){return TN(t)||ON(t,e)||RN(t,e)||IN()}function C1(t,e="utf8"){return new TextDecoder(e).decode(t)}const DN=new TextEncoder;function FN(t){return DN.encode(t)}const MN=1024*8,BN=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Pp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ig{constructor(e=MN,r={}){Lr(this,"buffer");Lr(this,"byteLength");Lr(this,"byteOffset");Lr(this,"length");Lr(this,"offset");Lr(this,"lastWrittenByte");Lr(this,"littleEndian");Lr(this,"_data");Lr(this,"_mark");Lr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,o=e.byteLength-a;let l=a;(ArrayBuffer.isView(e)||e instanceof ig)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Pp[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+n);if(this.littleEndian===BN&&r!=="uint8"&&r!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+n));c.reverse();const d=new Pp[r](c.buffer);return this.offset+=n,d.reverse(),d}const l=new Pp[r](o);return this.offset+=n,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return C1(this.readBytes(e))}decodeText(e=1,r="utf8"){return C1(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(FN(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ou(t){let e=t.length;for(;--e>=0;)t[e]=0}const UN=3,zN=258,Vy=29,qN=256,$N=qN+1+Vy,Hy=30,WN=512,VN=new Array(($N+2)*2);Ou(VN);const HN=new Array(Hy*2);Ou(HN);const GN=new Array(WN);Ou(GN);const KN=new Array(zN-UN+1);Ou(KN);const JN=new Array(Vy);Ou(JN);const YN=new Array(Hy);Ou(YN);const XN=(t,e,r,n)=>{let a=t&65535|0,o=t>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+e[n++]|0,o=o+a|0;while(--l);a%=65521,o%=65521}return a|o<<16|0};var Am=XN;const QN=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},ZN=new Uint32Array(QN()),ek=(t,e,r,n)=>{const a=ZN,o=n+r;t^=-1;for(let l=n;l<o;l++)t=t>>>8^a[(t^e[l])&255];return t^-1};var Ua=ek,jm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const tk=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var rk=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)tk(r,n)&&(t[n]=r[n])}}return t},nk=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,o=t.length;n<o;n++){let l=t[n];r.set(l,a),a+=l.length}return r},Ky={assign:rk,flattenChunks:nk};let Jy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Jy=!1}const Cd=new Uint8Array(256);for(let t=0;t<256;t++)Cd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Cd[254]=Cd[254]=1;var ik=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,o,l=t.length,c=0;for(a=0;a<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const sk=(t,e)=>{if(e<65534&&t.subarray&&Jy)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var ak=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const o=new Array(r*2);for(a=0,n=0;n<r;){let l=t[n++];if(l<128){o[a++]=l;continue}let c=Cd[l];if(c>4){o[a++]=65533,n+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&n<r;)l=l<<6|t[n++]&63,c--;if(c>1){o[a++]=65533;continue}l<65536?o[a++]=l:(l-=65536,o[a++]=55296|l>>10&1023,o[a++]=56320|l&1023)}return sk(o,a)},ok=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Cd[t[r]]>e?r:e},Em={string2buf:ik,buf2string:ak,utf8border:ok};function lk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ck=lk;const Eh=16209,uk=16191;var dk=function(e,r){let n,a,o,l,c,d,p,v,w,N,h,k,_,C,E,j,P,O,U,le,q,G,K,pe;const I=e.state;n=e.next_in,K=e.input,a=n+(e.avail_in-5),o=e.next_out,pe=e.output,l=o-(r-e.avail_out),c=o+(e.avail_out-257),d=I.dmax,p=I.wsize,v=I.whave,w=I.wnext,N=I.window,h=I.hold,k=I.bits,_=I.lencode,C=I.distcode,E=(1<<I.lenbits)-1,j=(1<<I.distbits)-1;e:do{k<15&&(h+=K[n++]<<k,k+=8,h+=K[n++]<<k,k+=8),P=_[h&E];t:for(;;){if(O=P>>>24,h>>>=O,k-=O,O=P>>>16&255,O===0)pe[o++]=P&65535;else if(O&16){U=P&65535,O&=15,O&&(k<O&&(h+=K[n++]<<k,k+=8),U+=h&(1<<O)-1,h>>>=O,k-=O),k<15&&(h+=K[n++]<<k,k+=8,h+=K[n++]<<k,k+=8),P=C[h&j];r:for(;;){if(O=P>>>24,h>>>=O,k-=O,O=P>>>16&255,O&16){if(le=P&65535,O&=15,k<O&&(h+=K[n++]<<k,k+=8,k<O&&(h+=K[n++]<<k,k+=8)),le+=h&(1<<O)-1,le>d){e.msg="invalid distance too far back",I.mode=Eh;break e}if(h>>>=O,k-=O,O=o-l,le>O){if(O=le-O,O>v&&I.sane){e.msg="invalid distance too far back",I.mode=Eh;break e}if(q=0,G=N,w===0){if(q+=p-O,O<U){U-=O;do pe[o++]=N[q++];while(--O);q=o-le,G=pe}}else if(w<O){if(q+=p+w-O,O-=w,O<U){U-=O;do pe[o++]=N[q++];while(--O);if(q=0,w<U){O=w,U-=O;do pe[o++]=N[q++];while(--O);q=o-le,G=pe}}}else if(q+=w-O,O<U){U-=O;do pe[o++]=N[q++];while(--O);q=o-le,G=pe}for(;U>2;)pe[o++]=G[q++],pe[o++]=G[q++],pe[o++]=G[q++],U-=3;U&&(pe[o++]=G[q++],U>1&&(pe[o++]=G[q++]))}else{q=o-le;do pe[o++]=pe[q++],pe[o++]=pe[q++],pe[o++]=pe[q++],U-=3;while(U>2);U&&(pe[o++]=pe[q++],U>1&&(pe[o++]=pe[q++]))}}else if((O&64)===0){P=C[(P&65535)+(h&(1<<O)-1)];continue r}else{e.msg="invalid distance code",I.mode=Eh;break e}break}}else if((O&64)===0){P=_[(P&65535)+(h&(1<<O)-1)];continue t}else if(O&32){I.mode=uk;break e}else{e.msg="invalid literal/length code",I.mode=Eh;break e}break}}while(n<a&&o<c);U=k>>3,n-=U,k-=U<<3,h&=(1<<k)-1,e.next_in=n,e.next_out=o,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=o<c?257+(c-o):257-(o-c),I.hold=h,I.bits=k};const lu=15,L1=852,P1=592,T1=0,Tp=1,O1=2,hk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gk=(t,e,r,n,a,o,l,c)=>{const d=c.bits;let p=0,v=0,w=0,N=0,h=0,k=0,_=0,C=0,E=0,j=0,P,O,U,le,q,G=null,K;const pe=new Uint16Array(lu+1),I=new Uint16Array(lu+1);let W=null,ae,ie,oe;for(p=0;p<=lu;p++)pe[p]=0;for(v=0;v<n;v++)pe[e[r+v]]++;for(h=d,N=lu;N>=1&&pe[N]===0;N--);if(h>N&&(h=N),N===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<N&&pe[w]===0;w++);for(h<w&&(h=w),C=1,p=1;p<=lu;p++)if(C<<=1,C-=pe[p],C<0)return-1;if(C>0&&(t===T1||N!==1))return-1;for(I[1]=0,p=1;p<lu;p++)I[p+1]=I[p]+pe[p];for(v=0;v<n;v++)e[r+v]!==0&&(l[I[e[r+v]]++]=v);if(t===T1?(G=W=l,K=20):t===Tp?(G=hk,W=fk,K=257):(G=pk,W=mk,K=0),j=0,v=0,p=w,q=o,k=h,_=0,U=-1,E=1<<h,le=E-1,t===Tp&&E>L1||t===O1&&E>P1)return 1;for(;;){ae=p-_,l[v]+1<K?(ie=0,oe=l[v]):l[v]>=K?(ie=W[l[v]-K],oe=G[l[v]-K]):(ie=96,oe=0),P=1<<p-_,O=1<<k,w=O;do O-=P,a[q+(j>>_)+O]=ae<<24|ie<<16|oe|0;while(O!==0);for(P=1<<p-1;j&P;)P>>=1;if(P!==0?(j&=P-1,j+=P):j=0,v++,--pe[p]===0){if(p===N)break;p=e[r+l[v]]}if(p>h&&(j&le)!==U){for(_===0&&(_=h),q+=w,k=p-_,C=1<<k;k+_<N&&(C-=pe[k+_],!(C<=0));)k++,C<<=1;if(E+=1<<k,t===Tp&&E>L1||t===O1&&E>P1)return 1;U=j&le,a[U]=h<<24|k<<16|q-o|0}}return j!==0&&(a[q+j]=p-_<<24|64<<16|0),c.bits=h,0};var vd=gk;const vk=0,Yy=1,Xy=2,{Z_FINISH:R1,Z_BLOCK:yk,Z_TREES:Ch,Z_OK:xc,Z_STREAM_END:wk,Z_NEED_DICT:xk,Z_STREAM_ERROR:zs,Z_DATA_ERROR:Qy,Z_MEM_ERROR:Zy,Z_BUF_ERROR:bk,Z_DEFLATED:I1}=Gy,gf=16180,D1=16181,F1=16182,M1=16183,B1=16184,U1=16185,z1=16186,q1=16187,$1=16188,W1=16189,rf=16190,Oo=16191,Op=16192,V1=16193,Rp=16194,H1=16195,G1=16196,K1=16197,J1=16198,Lh=16199,Ph=16200,Y1=16201,X1=16202,Q1=16203,Z1=16204,ev=16205,Ip=16206,tv=16207,rv=16208,Qr=16209,e5=16210,t5=16211,_k=852,Sk=592,Nk=15,kk=Nk,nv=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Ak(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<gf||e.mode>t5?1:0},r5=t=>{if(bc(t))return zs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=gf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(_k),e.distcode=e.distdyn=new Int32Array(Sk),e.sane=1,e.back=-1,xc},n5=t=>{if(bc(t))return zs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,r5(t)},i5=(t,e)=>{let r;if(bc(t))return zs;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?zs:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,n5(t))},s5=(t,e)=>{if(!t)return zs;const r=new Ak;t.state=r,r.strm=t,r.window=null,r.mode=gf;const n=i5(t,e);return n!==xc&&(t.state=null),n},jk=t=>s5(t,kk);let iv=!0,Dp,Fp;const Ek=t=>{if(iv){Dp=new Int32Array(512),Fp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(vd(Yy,t.lens,0,288,Dp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;vd(Xy,t.lens,0,32,Fp,0,t.work,{bits:5}),iv=!1}t.lencode=Dp,t.lenbits=9,t.distcode=Fp,t.distbits=5},a5=(t,e,r,n)=>{let a;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>n&&(a=n),o.window.set(e.subarray(r-n,r-n+a),o.wnext),n-=a,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},Ck=(t,e)=>{let r,n,a,o,l,c,d,p,v,w,N,h,k,_,C=0,E,j,P,O,U,le,q,G;const K=new Uint8Array(4);let pe,I;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bc(t)||!t.output||!t.input&&t.avail_in!==0)return zs;r=t.state,r.mode===Oo&&(r.mode=Op),l=t.next_out,a=t.output,d=t.avail_out,o=t.next_in,n=t.input,c=t.avail_in,p=r.hold,v=r.bits,w=c,N=d,G=xc;e:for(;;)switch(r.mode){case gf:if(r.wrap===0){r.mode=Op;break}for(;v<16;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if(r.wrap&2&&p===35615){r.wbits===0&&(r.wbits=15),r.check=0,K[0]=p&255,K[1]=p>>>8&255,r.check=Ua(r.check,K,2,0),p=0,v=0,r.mode=D1;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((p&255)<<8)+(p>>8))%31){t.msg="incorrect header check",r.mode=Qr;break}if((p&15)!==I1){t.msg="unknown compression method",r.mode=Qr;break}if(p>>>=4,v-=4,q=(p&15)+8,r.wbits===0&&(r.wbits=q),q>15||q>r.wbits){t.msg="invalid window size",r.mode=Qr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=p&512?W1:Oo,p=0,v=0;break;case D1:for(;v<16;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if(r.flags=p,(r.flags&255)!==I1){t.msg="unknown compression method",r.mode=Qr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Qr;break}r.head&&(r.head.text=p>>8&1),r.flags&512&&r.wrap&4&&(K[0]=p&255,K[1]=p>>>8&255,r.check=Ua(r.check,K,2,0)),p=0,v=0,r.mode=F1;case F1:for(;v<32;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}r.head&&(r.head.time=p),r.flags&512&&r.wrap&4&&(K[0]=p&255,K[1]=p>>>8&255,K[2]=p>>>16&255,K[3]=p>>>24&255,r.check=Ua(r.check,K,4,0)),p=0,v=0,r.mode=M1;case M1:for(;v<16;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}r.head&&(r.head.xflags=p&255,r.head.os=p>>8),r.flags&512&&r.wrap&4&&(K[0]=p&255,K[1]=p>>>8&255,r.check=Ua(r.check,K,2,0)),p=0,v=0,r.mode=B1;case B1:if(r.flags&1024){for(;v<16;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}r.length=p,r.head&&(r.head.extra_len=p),r.flags&512&&r.wrap&4&&(K[0]=p&255,K[1]=p>>>8&255,r.check=Ua(r.check,K,2,0)),p=0,v=0}else r.head&&(r.head.extra=null);r.mode=U1;case U1:if(r.flags&1024&&(h=r.length,h>c&&(h=c),h&&(r.head&&(q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+h),q)),r.flags&512&&r.wrap&4&&(r.check=Ua(r.check,n,h,o)),c-=h,o+=h,r.length-=h),r.length))break e;r.length=0,r.mode=z1;case z1:if(r.flags&2048){if(c===0)break e;h=0;do q=n[o+h++],r.head&&q&&r.length<65536&&(r.head.name+=String.fromCharCode(q));while(q&&h<c);if(r.flags&512&&r.wrap&4&&(r.check=Ua(r.check,n,h,o)),c-=h,o+=h,q)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=q1;case q1:if(r.flags&4096){if(c===0)break e;h=0;do q=n[o+h++],r.head&&q&&r.length<65536&&(r.head.comment+=String.fromCharCode(q));while(q&&h<c);if(r.flags&512&&r.wrap&4&&(r.check=Ua(r.check,n,h,o)),c-=h,o+=h,q)break e}else r.head&&(r.head.comment=null);r.mode=$1;case $1:if(r.flags&512){for(;v<16;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if(r.wrap&4&&p!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Qr;break}p=0,v=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Oo;break;case W1:for(;v<32;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}t.adler=r.check=nv(p),p=0,v=0,r.mode=rf;case rf:if(r.havedict===0)return t.next_out=l,t.avail_out=d,t.next_in=o,t.avail_in=c,r.hold=p,r.bits=v,xk;t.adler=r.check=1,r.mode=Oo;case Oo:if(e===yk||e===Ch)break e;case Op:if(r.last){p>>>=v&7,v-=v&7,r.mode=Ip;break}for(;v<3;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}switch(r.last=p&1,p>>>=1,v-=1,p&3){case 0:r.mode=V1;break;case 1:if(Ek(r),r.mode=Lh,e===Ch){p>>>=2,v-=2;break e}break;case 2:r.mode=G1;break;case 3:t.msg="invalid block type",r.mode=Qr}p>>>=2,v-=2;break;case V1:for(p>>>=v&7,v-=v&7;v<32;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if((p&65535)!==(p>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Qr;break}if(r.length=p&65535,p=0,v=0,r.mode=Rp,e===Ch)break e;case Rp:r.mode=H1;case H1:if(h=r.length,h){if(h>c&&(h=c),h>d&&(h=d),h===0)break e;a.set(n.subarray(o,o+h),l),c-=h,o+=h,d-=h,l+=h,r.length-=h;break}r.mode=Oo;break;case G1:for(;v<14;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if(r.nlen=(p&31)+257,p>>>=5,v-=5,r.ndist=(p&31)+1,p>>>=5,v-=5,r.ncode=(p&15)+4,p>>>=4,v-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Qr;break}r.have=0,r.mode=K1;case K1:for(;r.have<r.ncode;){for(;v<3;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}r.lens[W[r.have++]]=p&7,p>>>=3,v-=3}for(;r.have<19;)r.lens[W[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,pe={bits:r.lenbits},G=vd(vk,r.lens,0,19,r.lencode,0,r.work,pe),r.lenbits=pe.bits,G){t.msg="invalid code lengths set",r.mode=Qr;break}r.have=0,r.mode=J1;case J1:for(;r.have<r.nlen+r.ndist;){for(;C=r.lencode[p&(1<<r.lenbits)-1],E=C>>>24,j=C>>>16&255,P=C&65535,!(E<=v);){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if(P<16)p>>>=E,v-=E,r.lens[r.have++]=P;else{if(P===16){for(I=E+2;v<I;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if(p>>>=E,v-=E,r.have===0){t.msg="invalid bit length repeat",r.mode=Qr;break}q=r.lens[r.have-1],h=3+(p&3),p>>>=2,v-=2}else if(P===17){for(I=E+3;v<I;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}p>>>=E,v-=E,q=0,h=3+(p&7),p>>>=3,v-=3}else{for(I=E+7;v<I;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}p>>>=E,v-=E,q=0,h=11+(p&127),p>>>=7,v-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Qr;break}for(;h--;)r.lens[r.have++]=q}}if(r.mode===Qr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Qr;break}if(r.lenbits=9,pe={bits:r.lenbits},G=vd(Yy,r.lens,0,r.nlen,r.lencode,0,r.work,pe),r.lenbits=pe.bits,G){t.msg="invalid literal/lengths set",r.mode=Qr;break}if(r.distbits=6,r.distcode=r.distdyn,pe={bits:r.distbits},G=vd(Xy,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,pe),r.distbits=pe.bits,G){t.msg="invalid distances set",r.mode=Qr;break}if(r.mode=Lh,e===Ch)break e;case Lh:r.mode=Ph;case Ph:if(c>=6&&d>=258){t.next_out=l,t.avail_out=d,t.next_in=o,t.avail_in=c,r.hold=p,r.bits=v,dk(t,N),l=t.next_out,a=t.output,d=t.avail_out,o=t.next_in,n=t.input,c=t.avail_in,p=r.hold,v=r.bits,r.mode===Oo&&(r.back=-1);break}for(r.back=0;C=r.lencode[p&(1<<r.lenbits)-1],E=C>>>24,j=C>>>16&255,P=C&65535,!(E<=v);){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if(j&&(j&240)===0){for(O=E,U=j,le=P;C=r.lencode[le+((p&(1<<O+U)-1)>>O)],E=C>>>24,j=C>>>16&255,P=C&65535,!(O+E<=v);){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}p>>>=O,v-=O,r.back+=O}if(p>>>=E,v-=E,r.back+=E,r.length=P,j===0){r.mode=ev;break}if(j&32){r.back=-1,r.mode=Oo;break}if(j&64){t.msg="invalid literal/length code",r.mode=Qr;break}r.extra=j&15,r.mode=Y1;case Y1:if(r.extra){for(I=r.extra;v<I;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}r.length+=p&(1<<r.extra)-1,p>>>=r.extra,v-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=X1;case X1:for(;C=r.distcode[p&(1<<r.distbits)-1],E=C>>>24,j=C>>>16&255,P=C&65535,!(E<=v);){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if((j&240)===0){for(O=E,U=j,le=P;C=r.distcode[le+((p&(1<<O+U)-1)>>O)],E=C>>>24,j=C>>>16&255,P=C&65535,!(O+E<=v);){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}p>>>=O,v-=O,r.back+=O}if(p>>>=E,v-=E,r.back+=E,j&64){t.msg="invalid distance code",r.mode=Qr;break}r.offset=P,r.extra=j&15,r.mode=Q1;case Q1:if(r.extra){for(I=r.extra;v<I;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}r.offset+=p&(1<<r.extra)-1,p>>>=r.extra,v-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Qr;break}r.mode=Z1;case Z1:if(d===0)break e;if(h=N-d,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Qr;break}h>r.wnext?(h-=r.wnext,k=r.wsize-h):k=r.wnext-h,h>r.length&&(h=r.length),_=r.window}else _=a,k=l-r.offset,h=r.length;h>d&&(h=d),d-=h,r.length-=h;do a[l++]=_[k++];while(--h);r.length===0&&(r.mode=Ph);break;case ev:if(d===0)break e;a[l++]=r.length,d--,r.mode=Ph;break;case Ip:if(r.wrap){for(;v<32;){if(c===0)break e;c--,p|=n[o++]<<v,v+=8}if(N-=d,t.total_out+=N,r.total+=N,r.wrap&4&&N&&(t.adler=r.check=r.flags?Ua(r.check,a,N,l-N):Am(r.check,a,N,l-N)),N=d,r.wrap&4&&(r.flags?p:nv(p))!==r.check){t.msg="incorrect data check",r.mode=Qr;break}p=0,v=0}r.mode=tv;case tv:if(r.wrap&&r.flags){for(;v<32;){if(c===0)break e;c--,p+=n[o++]<<v,v+=8}if(r.wrap&4&&p!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Qr;break}p=0,v=0}r.mode=rv;case rv:G=wk;break e;case Qr:G=Qy;break e;case e5:return Zy;case t5:default:return zs}return t.next_out=l,t.avail_out=d,t.next_in=o,t.avail_in=c,r.hold=p,r.bits=v,(r.wsize||N!==t.avail_out&&r.mode<Qr&&(r.mode<Ip||e!==R1))&&a5(t,t.output,t.next_out,N-t.avail_out),w-=t.avail_in,N-=t.avail_out,t.total_in+=w,t.total_out+=N,r.total+=N,r.wrap&4&&N&&(t.adler=r.check=r.flags?Ua(r.check,a,N,t.next_out-N):Am(r.check,a,N,t.next_out-N)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Oo?128:0)+(r.mode===Lh||r.mode===Rp?256:0),(w===0&&N===0||e===R1)&&G===xc&&(G=bk),G},Lk=t=>{if(bc(t))return zs;let e=t.state;return e.window&&(e.window=null),t.state=null,xc},Pk=(t,e)=>{if(bc(t))return zs;const r=t.state;return(r.wrap&2)===0?zs:(r.head=e,e.done=!1,xc)},Tk=(t,e)=>{const r=e.length;let n,a,o;return bc(t)||(n=t.state,n.wrap!==0&&n.mode!==rf)?zs:n.mode===rf&&(a=1,a=Am(a,e,r,0),a!==n.check)?Qy:(o=a5(t,e,r,r),o?(n.mode=e5,Zy):(n.havedict=1,xc))};var Ok=n5,Rk=i5,Ik=r5,Dk=jk,Fk=s5,Mk=Ck,Bk=Lk,Uk=Pk,zk=Tk,qk="pako inflate (from Nodeca project)",Io={inflateReset:Ok,inflateReset2:Rk,inflateResetKeep:Ik,inflateInit:Dk,inflateInit2:Fk,inflate:Mk,inflateEnd:Bk,inflateGetHeader:Uk,inflateSetDictionary:zk,inflateInfo:qk};function $k(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Wk=$k;const o5=Object.prototype.toString,{Z_NO_FLUSH:Vk,Z_FINISH:Hk,Z_OK:Ld,Z_STREAM_END:Mp,Z_NEED_DICT:Bp,Z_STREAM_ERROR:Gk,Z_DATA_ERROR:sv,Z_MEM_ERROR:Kk}=Gy;function Id(t){this.options=Ky.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ck,this.strm.avail_out=0;let r=Io.inflateInit2(this.strm,e.windowBits);if(r!==Ld)throw new Error(jm[r]);if(this.header=new Wk,Io.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Em.string2buf(e.dictionary):o5.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Io.inflateSetDictionary(this.strm,e.dictionary),r!==Ld)))throw new Error(jm[r])}Id.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let o,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?Hk:Vk,o5.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Io.inflate(r,l),o===Bp&&a&&(o=Io.inflateSetDictionary(r,a),o===Ld?o=Io.inflate(r,l):o===sv&&(o=Bp));r.avail_in>0&&o===Mp&&r.state.wrap>0&&t[r.next_in]!==0;)Io.inflateReset(r),o=Io.inflate(r,l);switch(o){case Gk:case sv:case Bp:case Kk:return this.onEnd(o),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||o===Mp))if(this.options.to==="string"){let d=Em.utf8border(r.output,r.next_out),p=r.next_out-d,v=Em.buf2string(r.output,d);r.next_out=p,r.avail_out=n-p,p&&r.output.set(r.output.subarray(d,d+p),0),this.onData(v)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Ld&&c===0)){if(o===Mp)return o=Io.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Id.prototype.onData=function(t){this.chunks.push(t)};Id.prototype.onEnd=function(t){t===Ld&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ky.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Jk(t,e){const r=new Id(e);if(r.push(t),r.err)throw r.msg||jm[r.err];return r.result}var Yk=Id,Xk=Jk,Qk={Inflate:Yk,inflate:Xk};const{Inflate:Zk,inflate:e6}=Qk;var av=Zk,t6=e6;const l5=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;l5[t]=e}const ov=4294967295;function r6(t,e,r){let n=t;for(let a=0;a<r;a++)n=l5[(n^e[a])&255]^n>>>8;return n}function n6(t,e){return(r6(ov,t,e)^ov)>>>0}function lv(t,e,r){const n=t.readUint32(),a=n6(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function c5(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function u5(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function d5(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function h5(t,e,r,n,a){let o=0;if(r.length===0){for(;o<a;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-a]+r[o]>>1)&255}}function f5(t,e,r,n,a){let o=0;if(r.length===0){for(;o<a;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+i6(e[o-a],r[o],r[o-a])&255}}function i6(t,e,r){const n=t+e-r,a=Math.abs(n-t),o=Math.abs(n-e),l=Math.abs(n-r);return a<=o&&a<=l?t:o<=l?e:r}function s6(t,e,r,n,a,o){switch(t){case 0:c5(e,r,a);break;case 1:u5(e,r,a,o);break;case 2:d5(e,r,n,a);break;case 3:h5(e,r,n,a,o);break;case 4:f5(e,r,n,a,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const a6=new Uint16Array([255]),o6=new Uint8Array(a6.buffer),l6=o6[0]===255;function c6(t){const{data:e,width:r,height:n,channels:a,depth:o}=t,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,d=new Uint8Array(n*r*c);let p=0;for(let v=0;v<7;v++){const w=l[v],N=Math.ceil((r-w.x)/w.xStep),h=Math.ceil((n-w.y)/w.yStep);if(N<=0||h<=0)continue;const k=N*c,_=new Uint8Array(k);for(let C=0;C<h;C++){const E=e[p++],j=e.subarray(p,p+k);p+=k;const P=new Uint8Array(k);s6(E,j,P,_,k,c),_.set(P);for(let O=0;O<N;O++){const U=w.x+O*w.xStep,le=w.y+C*w.yStep;if(!(U>=r||le>=n))for(let q=0;q<c;q++)d[(le*r+U)*c+q]=P[O*c+q]}}}if(o===16){const v=new Uint16Array(d.buffer);if(l6)for(let w=0;w<v.length;w++)v[w]=u6(v[w]);return v}else return d}function u6(t){return(t&255)<<8|t>>8&255}const d6=new Uint16Array([255]),h6=new Uint8Array(d6.buffer),f6=h6[0]===255,p6=new Uint8Array(0);function cv(t){const{data:e,width:r,height:n,channels:a,depth:o}=t,l=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*r),d=new Uint8Array(n*c);let p=p6,v=0,w,N;for(let h=0;h<n;h++){switch(w=e.subarray(v+1,v+1+c),N=d.subarray(h*c,(h+1)*c),e[v]){case 0:c5(w,N,c);break;case 1:u5(w,N,c,l);break;case 2:d5(w,N,p,c);break;case 3:h5(w,N,p,c,l);break;case 4:f5(w,N,p,c,l);break;default:throw new Error(`Unsupported filter: ${e[v]}`)}p=N,v+=c+1}if(o===16){const h=new Uint16Array(d.buffer);if(f6)for(let k=0;k<h.length;k++)h[k]=m6(h[k]);return h}else return d}function m6(t){return(t&255)<<8|t>>8&255}const zh=Uint8Array.of(137,80,78,71,13,10,26,10);function uv(t){if(!g6(t.readBytes(zh.length)))throw new Error("wrong PNG signature")}function g6(t){if(t.length<zh.length)return!1;for(let e=0;e<zh.length;e++)if(t[e]!==zh[e])return!1;return!0}const v6="tEXt",y6=0,p5=new TextDecoder("latin1");function w6(t){if(b6(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const x6=/^[\u0000-\u00FF]*$/;function b6(t){if(!x6.test(t))throw new Error("invalid latin1 text")}function _6(t,e,r){const n=m5(e);t[n]=S6(e,r-n.length-1)}function m5(t){for(t.mark();t.readByte()!==y6;);const e=t.offset;t.reset();const r=p5.decode(t.readBytes(e-t.offset-1));return t.skip(1),w6(r),r}function S6(t,e){return p5.decode(t.readBytes(e))}const ms={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Up={UNKNOWN:-1,DEFLATE:0},dv={UNKNOWN:-1,ADAPTIVE:0},zp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Th={NONE:0,BACKGROUND:1,PREVIOUS:2},qp={SOURCE:0,OVER:1};class N6 extends ig{constructor(r,n={}){super(r);Lr(this,"_checkCrc");Lr(this,"_inflator");Lr(this,"_png");Lr(this,"_apng");Lr(this,"_end");Lr(this,"_hasPalette");Lr(this,"_palette");Lr(this,"_hasTransparency");Lr(this,"_transparency");Lr(this,"_compressionMethod");Lr(this,"_filterMethod");Lr(this,"_interlaceMethod");Lr(this,"_colorType");Lr(this,"_isAnimated");Lr(this,"_numberOfFrames");Lr(this,"_numberOfPlays");Lr(this,"_frames");Lr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new av,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Up.UNKNOWN,this._filterMethod=dv.UNKNOWN,this._interlaceMethod=zp.UNKNOWN,this._colorType=ms.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(uv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(uv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case v6:_6(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lv(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?lv(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=k6(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case ms.GREYSCALE:a=1;break;case ms.TRUECOLOUR:a=3;break;case ms.INDEXED_COLOUR:a=1;break;case ms.GREYSCALE_ALPHA:a=2;break;case ms.TRUECOLOUR_ALPHA:a=4;break;case ms.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Up.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ms.GREYSCALE:case ms.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ms.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ms.UNKNOWN:case ms.GREYSCALE_ALPHA:case ms.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=m5(this),a=this.readUint8();if(a!==Up.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:t6(o)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=cv({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(r-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Th.NONE:break;case Th.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let l=0;l<this._png.width;l++){const c=(o*r.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[c+d]=0}break;case Th.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,o=(l,c)=>{const d=((l+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,p=(l*n.width+c)*this._png.channels;return{index:d,frameIndex:p}};switch(n.blendOp){case qp.SOURCE:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:p}=o(l,c);for(let v=0;v<this._png.channels;v++)r.data[d+v]=n.data[p+v]}break;case qp.OVER:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:p}=o(l,c);for(let v=0;v<this._png.channels;v++){const w=n.data[p+this._png.channels-1]/a,N=v%(this._png.channels-1)===0?1:n.data[p+v],h=Math.floor(w*N+(1-w)*r.data[d+v]);r.data[d+v]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==dv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===zp.NO_INTERLACE)this._png.data=cv({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===zp.ADAM7)this._png.data=c6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Th.NONE,blendOp:qp.SOURCE,data:r}),this._inflator=new av,this._writingDataChunks=!1}}function k6(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var hv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(hv||(hv={}));function A6(t,e){return new N6(t,e).decode()}var Ft=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $p(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var Fr={log:$p,warn:function(t){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):$p.call(null,arguments))},error:function(t){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):$p(t))}};function Wp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){dc(n.response,e,r)},n.onerror=function(){Fr.error("could not download file")},n.send()}function fv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Oh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var dc=Ft.saveAs||((typeof window>"u"?"undefined":Pr(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ft.URL||Ft.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?fv(a.href)?Wp(t,e,r):Oh(a,a.target="_blank"):Oh(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Oh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(fv(t))Wp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Oh(n)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Pr(o)!=="object"&&(Fr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Wp(t,e,r);var a=t.type==="application/octet-stream",o=/constructor/i.test(Ft.HTMLElement)||Ft.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&o)&&(typeof FileReader>"u"?"undefined":Pr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var v=c.result;v=l?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=v:location=v,n=null},c.readAsDataURL(t)}else{var d=Ft.URL||Ft.webkitURL,p=d.createObjectURL(t);n?n.location=p:location.href=p,n=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function g5(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,o=r[n].process,l=a.exec(t);l&&(e=o(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),p=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),p.length==1&&(p="0"+p),"#"+c+d+p}}var qh=Ft.atob.bind(Ft),pv=Ft.btoa.bind(Ft);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Vp(t,e){var r=t[0],n=t[1],a=t[2],o=t[3];r=xi(r,n,a,o,e[0],7,-680876936),o=xi(o,r,n,a,e[1],12,-389564586),a=xi(a,o,r,n,e[2],17,606105819),n=xi(n,a,o,r,e[3],22,-1044525330),r=xi(r,n,a,o,e[4],7,-176418897),o=xi(o,r,n,a,e[5],12,1200080426),a=xi(a,o,r,n,e[6],17,-1473231341),n=xi(n,a,o,r,e[7],22,-45705983),r=xi(r,n,a,o,e[8],7,1770035416),o=xi(o,r,n,a,e[9],12,-1958414417),a=xi(a,o,r,n,e[10],17,-42063),n=xi(n,a,o,r,e[11],22,-1990404162),r=xi(r,n,a,o,e[12],7,1804603682),o=xi(o,r,n,a,e[13],12,-40341101),a=xi(a,o,r,n,e[14],17,-1502002290),r=bi(r,n=xi(n,a,o,r,e[15],22,1236535329),a,o,e[1],5,-165796510),o=bi(o,r,n,a,e[6],9,-1069501632),a=bi(a,o,r,n,e[11],14,643717713),n=bi(n,a,o,r,e[0],20,-373897302),r=bi(r,n,a,o,e[5],5,-701558691),o=bi(o,r,n,a,e[10],9,38016083),a=bi(a,o,r,n,e[15],14,-660478335),n=bi(n,a,o,r,e[4],20,-405537848),r=bi(r,n,a,o,e[9],5,568446438),o=bi(o,r,n,a,e[14],9,-1019803690),a=bi(a,o,r,n,e[3],14,-187363961),n=bi(n,a,o,r,e[8],20,1163531501),r=bi(r,n,a,o,e[13],5,-1444681467),o=bi(o,r,n,a,e[2],9,-51403784),a=bi(a,o,r,n,e[7],14,1735328473),r=_i(r,n=bi(n,a,o,r,e[12],20,-1926607734),a,o,e[5],4,-378558),o=_i(o,r,n,a,e[8],11,-2022574463),a=_i(a,o,r,n,e[11],16,1839030562),n=_i(n,a,o,r,e[14],23,-35309556),r=_i(r,n,a,o,e[1],4,-1530992060),o=_i(o,r,n,a,e[4],11,1272893353),a=_i(a,o,r,n,e[7],16,-155497632),n=_i(n,a,o,r,e[10],23,-1094730640),r=_i(r,n,a,o,e[13],4,681279174),o=_i(o,r,n,a,e[0],11,-358537222),a=_i(a,o,r,n,e[3],16,-722521979),n=_i(n,a,o,r,e[6],23,76029189),r=_i(r,n,a,o,e[9],4,-640364487),o=_i(o,r,n,a,e[12],11,-421815835),a=_i(a,o,r,n,e[15],16,530742520),r=Si(r,n=_i(n,a,o,r,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Si(o,r,n,a,e[7],10,1126891415),a=Si(a,o,r,n,e[14],15,-1416354905),n=Si(n,a,o,r,e[5],21,-57434055),r=Si(r,n,a,o,e[12],6,1700485571),o=Si(o,r,n,a,e[3],10,-1894986606),a=Si(a,o,r,n,e[10],15,-1051523),n=Si(n,a,o,r,e[1],21,-2054922799),r=Si(r,n,a,o,e[8],6,1873313359),o=Si(o,r,n,a,e[15],10,-30611744),a=Si(a,o,r,n,e[6],15,-1560198380),n=Si(n,a,o,r,e[13],21,1309151649),r=Si(r,n,a,o,e[4],6,-145523070),o=Si(o,r,n,a,e[11],10,-1120210379),a=Si(a,o,r,n,e[2],15,718787259),n=Si(n,a,o,r,e[9],21,-343485551),t[0]=jl(r,t[0]),t[1]=jl(n,t[1]),t[2]=jl(a,t[2]),t[3]=jl(o,t[3])}function vf(t,e,r,n,a,o){return e=jl(jl(e,t),jl(n,o)),jl(e<<a|e>>>32-a,r)}function xi(t,e,r,n,a,o,l){return vf(e&r|~e&n,t,e,a,o,l)}function bi(t,e,r,n,a,o,l){return vf(e&n|r&~n,t,e,a,o,l)}function _i(t,e,r,n,a,o,l){return vf(e^r^n,t,e,a,o,l)}function Si(t,e,r,n,a,o,l){return vf(r^(e|~n),t,e,a,o,l)}function v5(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Vp(n,j6(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Vp(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Vp(n,a),n}function j6(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var mv="0123456789abcdef".split("");function E6(t){for(var e="",r=0;r<4;r++)e+=mv[t>>8*r+4&15]+mv[t>>8*r&15];return e}function C6(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Cm(t){return v5(t).map(C6).join("")}var L6=(function(t){for(var e=0;e<t.length;e++)t[e]=E6(t[e]);return t.join("")})(v5("hello"))!="5d41402abc4b2a76b9719d911017c592";function jl(t,e){if(L6){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Lm(t,e){var r,n,a,o;if(t!==r){for(var l=(a=t,o=1+(256/t.length|0),new Array(o+1).join(a)),c=[],d=0;d<256;d++)c[d]=d;var p=0;for(d=0;d<256;d++){var v=c[d];p=(p+v+l.charCodeAt(d))%256,c[d]=c[p],c[p]=v}r=t,n=c}else c=n;var w=e.length,N=0,h=0,k="";for(d=0;d<w;d++)h=(h+(v=c[N=(N+1)%256]))%256,c[N]=c[h],c[h]=v,l=c[(c[N]+c[h])%256],k+=String.fromCharCode(e.charCodeAt(d)^l);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gv={print:4,modify:8,copy:16,"annot-forms":32};function pu(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(c){if(gv.perm!==void 0)throw new Error("Invalid permission: "+c);a+=gv[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^a)),this.encryptionKey=Cm(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Lm(this.encryptionKey,this.padding)}function mu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function vv(t){if(Pr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!a],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[r]){var l=e[r][o];try{l[0].apply(t,n)}catch(c){Ft.console&&Fr.error("jsPDF PubSub Error",c.message,c)}l[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function nf(t){if(!(this instanceof nf))return new nf(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function y5(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function pc(t,e,r,n,a){if(!(this instanceof pc))return new pc(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,y5.call(this,n,a)}function vu(t,e,r,n,a){if(!(this instanceof vu))return new vu(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,y5.call(this,n,a)}function bt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],l=[],c=1,d=16,p="S",v=null;Pr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,o=t.compress||t.compressPdf||o,(v=t.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),p=t.defaultPathOperation||"S"),l=t.filters||(o===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,N={},h={internal:{},__private__:{}};h.__private__.PubSub=vv;var k="1.3",_=h.__private__.getPdfVersion=function(){return k};h.__private__.setPdfVersion=function(x){k=x};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return C};var E=h.__private__.getPageFormat=function(x){return C[x]};a=a||"a4";var j="compat",P="advanced",O=j;function U(){this.saveGraphicsState(),Z(new Xe(kt,0,0,-kt,0,Wi()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),p="n",O=P}function le(){this.restoreGraphicsState(),p="S",O=j}var q=h.__private__.combineFontStyleAndFontWeight=function(x,D){if(x=="bold"&&D=="normal"||x=="bold"&&D==400||x=="normal"&&D=="italic"||x=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(x=D==400||D==="normal"?x==="italic"?"italic":"normal":D!=700&&D!=="bold"||x!=="normal"?(D==700?"bold":D)+""+x:"bold"),x};h.advancedAPI=function(x){var D=O===j;return D&&U.call(this),typeof x!="function"||(x(this),D&&le.call(this)),this},h.compatAPI=function(x){var D=O===P;return D&&le.call(this),typeof x!="function"||(x(this),D&&U.call(this)),this},h.isAdvancedAPI=function(){return O===P};var G,K=function(x){if(O!==P)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},pe=h.roundToPrecision=h.__private__.roundToPrecision=function(x,D){var se=e||D;if(isNaN(x)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(se).replace(/0+$/,"")};G=h.hpf=h.__private__.hpf=typeof d=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(x,d)}:d==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return pe(x,16)};var I=h.f2=h.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return pe(x,2)},W=h.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return pe(x,3)},ae=h.scale=h.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return O===j?x*kt:O===P?x:void 0},ie=function(x){return ae((function(D){return O===j?Wi()-D:O===P?D:void 0})(x))};h.__private__.setPrecision=h.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var oe,V="00000000000000000000000000000000",ee=h.__private__.getFileId=function(){return V},F=h.__private__.setFileId=function(x){return V=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(wn=new pu(v.userPermissions,v.userPassword,v.ownerPassword,V)),V};h.setFileId=function(x){return F(x),this},h.getFileId=function(){return ee()};var ce=h.__private__.convertDateToPDFDate=function(x){var D=x.getTimezoneOffset(),se=D<0?"+":"-",me=Math.floor(Math.abs(D/60)),Se=Math.abs(D%60),Re=[se,X(me),"'",X(Se),"'"].join("");return["D:",x.getFullYear(),X(x.getMonth()+1),X(x.getDate()),X(x.getHours()),X(x.getMinutes()),X(x.getSeconds()),Re].join("")},we=h.__private__.convertPDFDateToDate=function(x){var D=parseInt(x.substr(2,4),10),se=parseInt(x.substr(6,2),10)-1,me=parseInt(x.substr(8,2),10),Se=parseInt(x.substr(10,2),10),Re=parseInt(x.substr(12,2),10),Be=parseInt(x.substr(14,2),10);return new Date(D,se,me,Se,Re,Be,0)},J=h.__private__.setCreationDate=function(x){var D;if(x===void 0&&(x=new Date),x instanceof Date)D=ce(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=x}return oe=D},T=h.__private__.getCreationDate=function(x){var D=oe;return x==="jsDate"&&(D=we(oe)),D};h.setCreationDate=function(x){return J(x),this},h.getCreationDate=function(x){return T(x)};var $,X=h.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ue=h.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},de=0,ne=[],fe=[],ge=0,_e=[],Pe=[],Me=!1,$e=fe;h.__private__.setCustomOutputDestination=function(x){Me=!0,$e=x};var Ke=function(x){Me||($e=x)};h.__private__.resetCustomOutputDestination=function(){Me=!1,$e=fe};var Z=h.__private__.out=function(x){return x=x.toString(),ge+=x.length+1,$e.push(x),$e},He=h.__private__.write=function(x){return Z(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},St=h.__private__.getArrayBuffer=function(x){for(var D=x.length,se=new ArrayBuffer(D),me=new Uint8Array(se);D--;)me[D]=x.charCodeAt(D);return se},yt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return yt};var De=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(x){return De=O===P?x/kt:x,this};var wt,Ye=h.__private__.getFontSize=h.getFontSize=function(){return O===j?De:De*kt},Qe=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(x){return Qe=x,this},h.__private__.getR2L=h.getR2L=function(){return Qe};var ot,ir=h.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))wt=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');wt=x}else wt=parseInt(x,10)};h.__private__.getZoomMode=function(){return wt};var Kt,Et=h.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');ot=x};h.__private__.getPageMode=function(){return ot};var Jt=h.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Kt=x};h.__private__.getLayoutMode=function(){return Kt},h.__private__.setDisplayMode=h.setDisplayMode=function(x,D,se){return ir(x),Jt(D),Et(se),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(x){if(Object.keys(Ut).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[x]},h.__private__.getDocumentProperties=function(){return Ut},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(x){for(var D in Ut)Ut.hasOwnProperty(D)&&x[D]&&(Ut[D]=x[D]);return this},h.__private__.setDocumentProperty=function(x,D){if(Object.keys(Ut).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[x]=D};var rt,kt,nt,wr,Qt,zt={},qt={},mr=[],xt={},ar={},ht={},Tt={},cr=null,Rt=0,Nt=[],Je=new vv(h),kr=t.hotfixes||[],rr={},Mr={},Rn=[],Xe=function x(D,se,me,Se,Re,Be){if(!(this instanceof x))return new x(D,se,me,Se,Re,Be);isNaN(D)&&(D=1),isNaN(se)&&(se=0),isNaN(me)&&(me=0),isNaN(Se)&&(Se=1),isNaN(Re)&&(Re=0),isNaN(Be)&&(Be=0),this._matrix=[D,se,me,Se,Re,Be]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(x)},Xe.prototype.multiply=function(x){var D=x.sx*this.sx+x.shy*this.shx,se=x.sx*this.shy+x.shy*this.sy,me=x.shx*this.sx+x.sy*this.shx,Se=x.shx*this.shy+x.sy*this.sy,Re=x.tx*this.sx+x.ty*this.shx+this.tx,Be=x.tx*this.shy+x.ty*this.sy+this.ty;return new Xe(D,se,me,Se,Re,Be)},Xe.prototype.decompose=function(){var x=this.sx,D=this.shy,se=this.shx,me=this.sy,Se=this.tx,Re=this.ty,Be=Math.sqrt(x*x+D*D),st=(x/=Be)*se+(D/=Be)*me;se-=x*st,me-=D*st;var mt=Math.sqrt(se*se+me*me);return st/=mt,x*(me/=mt)<D*(se/=mt)&&(x=-x,D=-D,st=-st,Be=-Be),{scale:new Xe(Be,0,0,mt,0,0),translate:new Xe(1,0,0,1,Se,Re),rotate:new Xe(x,D,-D,x,0,0),skew:new Xe(1,0,st,1,0,0)}},Xe.prototype.toString=function(x){return this.join(" ")},Xe.prototype.inversed=function(){var x=this.sx,D=this.shy,se=this.shx,me=this.sy,Se=this.tx,Re=this.ty,Be=1/(x*me-D*se),st=me*Be,mt=-D*Be,It=-se*Be,Mt=x*Be;return new Xe(st,mt,It,Mt,-st*Se-It*Re,-mt*Se-Mt*Re)},Xe.prototype.applyToPoint=function(x){var D=x.x*this.sx+x.y*this.shx+this.tx,se=x.x*this.shy+x.y*this.sy+this.ty;return new zi(D,se)},Xe.prototype.applyToRectangle=function(x){var D=this.applyToPoint(x),se=this.applyToPoint(new zi(x.x+x.w,x.y+x.h));return new oo(D.x,D.y,se.x-D.x,se.y-D.y)},Xe.prototype.clone=function(){var x=this.sx,D=this.shy,se=this.shx,me=this.sy,Se=this.tx,Re=this.ty;return new Xe(x,D,se,me,Se,Re)},h.Matrix=Xe;var Tr=h.matrixMult=function(x,D){return D.multiply(x)},Hn=new Xe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Hn;var xr=function(x,D){if(!ar[x]){var se=(D instanceof pc?"Sh":"P")+(Object.keys(xt).length+1).toString(10);D.id=se,ar[x]=se,xt[se]=D,Je.publish("addPattern",D)}};h.ShadingPattern=pc,h.TilingPattern=vu,h.addShadingPattern=function(x,D){return K("addShadingPattern()"),xr(x,D),this},h.beginTilingPattern=function(x){K("beginTilingPattern()"),qi(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},h.endTilingPattern=function(x,D){K("endTilingPattern()"),D.stream=Pe[$].join(`
`),xr(x,D),Je.publish("endTilingPattern",D),Rn.pop().restore()};var Br,gr=h.__private__.newObject=function(){var x=vr();return Zr(x,!0),x},vr=h.__private__.newObjectDeferred=function(){return de++,ne[de]=function(){return ge},de},Zr=function(x,D){return D=typeof D=="boolean"&&D,ne[x]=ge,D&&Z(x+" 0 obj"),x},qs=h.__private__.newAdditionalObject=function(){var x={objId:vr(),content:""};return _e.push(x),x},ba=vr(),ts=vr(),Ns=h.__private__.decodeColorString=function(x){var D=x.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length!==5||D[4]!=="k"&&D[4]!=="K"||(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var se=parseFloat(D[0]);D=[se,se,se,"r"]}for(var me="#",Se=0;Se<3;Se++)me+=("0"+Math.floor(255*parseFloat(D[Se])).toString(16)).slice(-2);return me},In=h.__private__.encodeColorString=function(x){var D;typeof x=="string"&&(x={ch1:x});var se=x.ch1,me=x.ch2,Se=x.ch3,Re=x.ch4,Be=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var st=new g5(se);if(st.ok)se=st.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var mt=parseInt(se.substr(1),16);se=mt>>16&255,me=mt>>8&255,Se=255&mt}if(me===void 0||Re===void 0&&se===me&&me===Se)D=typeof se=="string"?se+" "+Be[0]:x.precision===2?I(se/255)+" "+Be[0]:W(se/255)+" "+Be[0];else if(Re===void 0||Pr(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return["1.","1.","1.",Be[1]].join(" ");D=typeof se=="string"?[se,me,Se,Be[1]].join(" "):x.precision===2?[I(se/255),I(me/255),I(Se/255),Be[1]].join(" "):[W(se/255),W(me/255),W(Se/255),Be[1]].join(" ")}else D=typeof se=="string"?[se,me,Se,Re,Be[2]].join(" "):x.precision===2?[I(se),I(me),I(Se),I(Re),Be[2]].join(" "):[W(se),W(me),W(Se),W(Re),Be[2]].join(" ");return D},Mi=h.__private__.getFilters=function(){return l},Ni=h.__private__.putStream=function(x){var D=(x=x||{}).data||"",se=x.filters||Mi(),me=x.alreadyAppliedFilters||[],Se=x.addLength1||!1,Re=D.length,Be=x.objectId,st=function(xn){return xn};if(v!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(st=wn.encryptor(Be,0));var mt={};se===!0&&(se=["FlateEncode"]);var It=x.additionalKeyValues||[],Mt=(mt=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(D,se):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(mt.data.length!==0&&(It.push({key:"Length",value:mt.data.length}),Se===!0&&It.push({key:"Length1",value:Re})),Mt.length!=0)if(Mt.split("/").length-1==1)It.push({key:"Filter",value:Mt});else{It.push({key:"Filter",value:"["+Mt+"]"});for(var sr=0;sr<It.length;sr+=1)if(It[sr].key==="DecodeParms"){for(var Wr=[],dn=0;dn<mt.reverseChain.split("/").length-1;dn+=1)Wr.push("null");Wr.push(It[sr].value),It[sr].value="["+Wr.join(" ")+"]"}}Z("<<");for(var Or=0;Or<It.length;Or++)Z("/"+It[Or].key+" "+It[Or].value);Z(">>"),mt.data.length!==0&&(Z("stream"),Z(st(mt.data)),Z("endstream"))},Ya=h.__private__.putPage=function(x){var D=x.number,se=x.data,me=x.objId,Se=x.contentsObjId;Zr(me,!0),Z("<</Type /Page"),Z("/Parent "+x.rootDictionaryObjId+" 0 R"),Z("/Resources "+x.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(G(x.mediaBox.bottomLeftX))+" "+parseFloat(G(x.mediaBox.bottomLeftY))+" "+G(x.mediaBox.topRightX)+" "+G(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&Z("/CropBox ["+G(x.cropBox.bottomLeftX)+" "+G(x.cropBox.bottomLeftY)+" "+G(x.cropBox.topRightX)+" "+G(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&Z("/BleedBox ["+G(x.bleedBox.bottomLeftX)+" "+G(x.bleedBox.bottomLeftY)+" "+G(x.bleedBox.topRightX)+" "+G(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&Z("/TrimBox ["+G(x.trimBox.bottomLeftX)+" "+G(x.trimBox.bottomLeftY)+" "+G(x.trimBox.topRightX)+" "+G(x.trimBox.topRightY)+"]"),x.artBox!==null&&Z("/ArtBox ["+G(x.artBox.bottomLeftX)+" "+G(x.artBox.bottomLeftY)+" "+G(x.artBox.topRightX)+" "+G(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&Z("/UserUnit "+x.userUnit),Je.publish("putPage",{objId:me,pageContext:Nt[D],pageNumber:D,page:se}),Z("/Contents "+Se+" 0 R"),Z(">>"),Z("endobj");var Re=se.join(`
`);return O===P&&(Re+=`
Q`),Zr(Se,!0),Ni({data:Re,filters:Mi(),objectId:Se}),Z("endobj"),me},rs=h.__private__.putPages=function(){var x,D,se=[];for(x=1;x<=Rt;x++)Nt[x].objId=vr(),Nt[x].contentsObjId=vr();for(x=1;x<=Rt;x++)se.push(Ya({number:x,data:Pe[x],objId:Nt[x].objId,contentsObjId:Nt[x].contentsObjId,mediaBox:Nt[x].mediaBox,cropBox:Nt[x].cropBox,bleedBox:Nt[x].bleedBox,trimBox:Nt[x].trimBox,artBox:Nt[x].artBox,userUnit:Nt[x].userUnit,rootDictionaryObjId:ba,resourceDictionaryObjId:ts}));Zr(ba,!0),Z("<</Type /Pages");var me="/Kids [";for(D=0;D<Rt;D++)me+=se[D]+" 0 R ";Z(me+"]"),Z("/Count "+Rt),Z(">>"),Z("endobj"),Je.publish("postPutPages")},_a=function(x){Je.publish("putFont",{font:x,out:Z,newObject:gr,putStream:Ni}),x.isAlreadyPutted!==!0&&(x.objectNumber=gr(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+mu(x.postScriptName)),Z("/Subtype /Type1"),typeof x.encoding=="string"&&Z("/Encoding /"+x.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Xa=function(x){x.objectNumber=gr();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[G(x.x),G(x.y),G(x.x+x.width),G(x.y+x.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var se=x.pages[1].join(`
`);Ni({data:se,additionalKeyValues:D,objectId:x.objectNumber}),Z("endobj")},Qa=function(x,D){D||(D=21);var se=gr(),me=(function(Be,st){var mt,It=[],Mt=1/(st-1);for(mt=0;mt<1;mt+=Mt)It.push(mt);if(It.push(1),Be[0].offset!=0){var sr={offset:0,color:Be[0].color};Be.unshift(sr)}if(Be[Be.length-1].offset!=1){var Wr={offset:1,color:Be[Be.length-1].color};Be.push(Wr)}for(var dn="",Or=0,xn=0;xn<It.length;xn++){for(mt=It[xn];mt>Be[Or+1].offset;)Or++;var en=Be[Or].offset,Dn=(mt-en)/(Be[Or+1].offset-en),Vs=Be[Or].color,ss=Be[Or+1].color;dn+=ue(Math.round((1-Dn)*Vs[0]+Dn*ss[0]).toString(16))+ue(Math.round((1-Dn)*Vs[1]+Dn*ss[1]).toString(16))+ue(Math.round((1-Dn)*Vs[2]+Dn*ss[2]).toString(16))}return dn.trim()})(x.colors,D),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+D+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ni({data:me,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),Z("endobj"),x.objectNumber=gr(),Z("<< /ShadingType "+x.type),Z("/ColorSpace /DeviceRGB");var Re="/Coords ["+G(parseFloat(x.coords[0]))+" "+G(parseFloat(x.coords[1]))+" ";x.type===2?Re+=G(parseFloat(x.coords[2]))+" "+G(parseFloat(x.coords[3])):Re+=G(parseFloat(x.coords[2]))+" "+G(parseFloat(x.coords[3]))+" "+G(parseFloat(x.coords[4]))+" "+G(parseFloat(x.coords[5])),Z(Re+="]"),x.matrix&&Z("/Matrix ["+x.matrix.toString()+"]"),Z("/Function "+se+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Uo=function(x,D){var se=vr(),me=gr();D.push({resourcesOid:se,objectOid:me}),x.objectNumber=me;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+x.boundingBox.map(G).join(" ")+"]"}),Se.push({key:"XStep",value:G(x.xStep)}),Se.push({key:"YStep",value:G(x.yStep)}),Se.push({key:"Resources",value:se+" 0 R"}),x.matrix&&Se.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Ni({data:x.stream,additionalKeyValues:Se,objectId:x.objectNumber}),Z("endobj")},Ru=function(x){for(var D in x.objectNumber=gr(),Z("<<"),x)switch(D){case"opacity":Z("/ca "+I(x[D]));break;case"stroke-opacity":Z("/CA "+I(x[D]))}Z(">>"),Z("endobj")},Ir=function(x){Zr(x.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var D in Z("/Font <<"),zt)zt.hasOwnProperty(D)&&(w===!1||w===!0&&N.hasOwnProperty(D))&&Z("/"+D+" "+zt[D].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(xt).length>0){for(var D in Z("/Shading <<"),xt)xt.hasOwnProperty(D)&&xt[D]instanceof pc&&xt[D].objectNumber>=0&&Z("/"+D+" "+xt[D].objectNumber+" 0 R");Je.publish("putShadingPatternDict"),Z(">>")}})(),(function(D){if(Object.keys(xt).length>0){for(var se in Z("/Pattern <<"),xt)xt.hasOwnProperty(se)&&xt[se]instanceof h.TilingPattern&&xt[se].objectNumber>=0&&xt[se].objectNumber<D&&Z("/"+se+" "+xt[se].objectNumber+" 0 R");Je.publish("putTilingPatternDict"),Z(">>")}})(x.objectOid),(function(){if(Object.keys(ht).length>0){var D;for(D in Z("/ExtGState <<"),ht)ht.hasOwnProperty(D)&&ht[D].objectNumber>=0&&Z("/"+D+" "+ht[D].objectNumber+" 0 R");Je.publish("putGStateDict"),Z(">>")}})(),(function(){for(var D in Z("/XObject <<"),rr)rr.hasOwnProperty(D)&&rr[D].objectNumber>=0&&Z("/"+D+" "+rr[D].objectNumber+" 0 R");Je.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},Sc=function(x){qt[x.fontName]=qt[x.fontName]||{},qt[x.fontName][x.fontStyle]=x.id},zo=function(x,D,se,me,Se){var Re={id:"F"+(Object.keys(zt).length+1).toString(10),postScriptName:x,fontName:D,fontStyle:se,encoding:me,isStandardFont:Se||!1,metadata:{}};return Je.publish("addFont",{font:Re,instance:this}),zt[Re.id]=Re,Sc(Re),Re.id},ki=h.__private__.pdfEscape=h.pdfEscape=function(x,D){return(function(se,me){var Se,Re,Be,st,mt,It,Mt,sr,Wr;if(Be=(me=me||{}).sourceEncoding||"Unicode",mt=me.outputEncoding,(me.autoencode||mt)&&zt[rt].metadata&&zt[rt].metadata[Be]&&zt[rt].metadata[Be].encoding&&(st=zt[rt].metadata[Be].encoding,!mt&&zt[rt].encoding&&(mt=zt[rt].encoding),!mt&&st.codePages&&(mt=st.codePages[0]),typeof mt=="string"&&(mt=st[mt]),mt)){for(Mt=!1,It=[],Se=0,Re=se.length;Se<Re;Se++)(sr=mt[se.charCodeAt(Se)])?It.push(String.fromCharCode(sr)):It.push(se[Se]),It[Se].charCodeAt(0)>>8&&(Mt=!0);se=It.join("")}for(Se=se.length;Mt===void 0&&Se!==0;)se.charCodeAt(Se-1)>>8&&(Mt=!0),Se--;if(!Mt)return se;for(It=me.noBOM?[]:[254,255],Se=0,Re=se.length;Se<Re;Se++){if((Wr=(sr=se.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(Wr),It.push(sr-(Wr<<8))}return String.fromCharCode.apply(void 0,It)})(x,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sa=h.__private__.beginPage=function(x){Pe[++Rt]=[],Nt[Rt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Za(Rt),Ke(Pe[$])},Nc=function(x,D){var se,me,Se;switch(r=D||r,typeof x=="string"&&(se=E(x.toLowerCase()),Array.isArray(se)&&(me=se[0],Se=se[1])),Array.isArray(x)&&(me=x[0]*kt,Se=x[1]*kt),isNaN(me)&&(me=a[0],Se=a[1]),(me>14400||Se>14400)&&(Fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Se=Math.min(14400,Se)),a=[me,Se],r.substr(0,1)){case"l":Se>me&&(a=[Se,me]);break;case"p":me>Se&&(a=[Se,me])}Sa(a),Ct(Ui),Z(so),Fl!==0&&Z(Fl+" J"),Ml!==0&&Z(Ml+" j"),Je.publish("addPage",{pageNumber:Rt})},qo=function(x){x>0&&x<=Rt&&(Pe.splice(x,1),Nt.splice(x,1),Rt--,$>Rt&&($=Rt),this.setPage($))},Za=function(x){x>0&&x<=Rt&&($=x)},Ai=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Pe.length-1},kc=function(x,D,se){var me,Se=void 0;return se=se||{},x=x!==void 0?x:zt[rt].fontName,D=D!==void 0?D:zt[rt].fontStyle,me=x.toLowerCase(),qt[me]!==void 0&&qt[me][D]!==void 0?Se=qt[me][D]:qt[x]!==void 0&&qt[x][D]!==void 0?Se=qt[x][D]:se.disableWarning===!1&&Fr.warn("Unable to look up font label for font '"+x+"', '"+D+"'. Refer to getFontList() for available fonts."),Se||se.noFallback||(Se=qt.times[D])==null&&(Se=qt.times.normal),Se},cn=h.__private__.putInfo=function(){var x=gr(),D=function(me){return me};for(var se in v!==null&&(D=wn.encryptor(x,0)),Z("<<"),Z("/Producer ("+ki(D("jsPDF "+bt.version))+")"),Ut)Ut.hasOwnProperty(se)&&Ut[se]&&Z("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+ki(D(Ut[se]))+")");Z("/CreationDate ("+ki(D(oe))+")"),Z(">>"),Z("endobj")},$o=h.__private__.putCatalog=function(x){var D=(x=x||{}).rootDictionaryObjId||ba;switch(gr(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+D+" 0 R"),wt||(wt="fullwidth"),wt){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+wt;se.substr(se.length-1)==="%"&&(wt=parseInt(wt)/100),typeof wt=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+I(wt)+"]")}switch(Kt||(Kt="continuous"),Kt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}ot&&Z("/PageMode /"+ot),Je.publish("putCatalog"),Z(">>"),Z("endobj")},Iu=h.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(de+1)),Z("/Root "+de+" 0 R"),Z("/Info "+(de-1)+" 0 R"),v!==null&&Z("/Encrypt "+wn.oid+" 0 R"),Z("/ID [ <"+V+"> <"+V+"> ]"),Z(">>")},un=h.__private__.putHeader=function(){Z("%PDF-"+k),Z("%")},eo=h.__private__.putXRef=function(){var x="0000000000";Z("xref"),Z("0 "+(de+1)),Z("0000000000 65535 f ");for(var D=1;D<=de;D++)typeof ne[D]=="function"?Z((x+ne[D]()).slice(-10)+" 00000 n "):ne[D]!==void 0?Z((x+ne[D]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},ji=h.__private__.buildDocument=function(){var x;de=0,ge=0,fe=[],ne=[],_e=[],ba=vr(),ts=vr(),Ke(fe),Je.publish("buildDocument"),un(),rs(),(function(){Je.publish("putAdditionalObjects");for(var se=0;se<_e.length;se++){var me=_e[se];Zr(me.objId,!0),Z(me.content),Z("endobj")}Je.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var se in zt)zt.hasOwnProperty(se)&&(w===!1||w===!0&&N.hasOwnProperty(se))&&_a(zt[se])})(),(function(){var se;for(se in ht)ht.hasOwnProperty(se)&&Ru(ht[se])})(),(function(){for(var se in rr)rr.hasOwnProperty(se)&&Xa(rr[se])})(),(function(se){var me;for(me in xt)xt.hasOwnProperty(me)&&(xt[me]instanceof pc?Qa(xt[me]):xt[me]instanceof vu&&Uo(xt[me],se))})(x),Je.publish("putResources"),x.forEach(Ir),Ir({resourcesOid:ts,objectOid:Number.MAX_SAFE_INTEGER}),Je.publish("postPutResources"),v!==null&&(wn.oid=gr(),Z("<<"),Z("/Filter /Standard"),Z("/V "+wn.v),Z("/R "+wn.r),Z("/U <"+wn.toHexString(wn.U)+">"),Z("/O <"+wn.toHexString(wn.O)+">"),Z("/P "+wn.P),Z(">>"),Z("endobj")),cn(),$o();var D=ge;return eo(),Iu(),Z("startxref"),Z(""+D),Z("%%EOF"),Ke(Pe[$]),fe.join(`
`)},ks=h.__private__.getBlob=function(x){return new Blob([St(x)],{type:"application/pdf"})},to=h.output=h.__private__.output=(Br=function(x,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",x){case void 0:return ji();case"save":h.save(D.filename);break;case"arraybuffer":return St(ji());case"blob":return ks(ji());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(ks(ji()))||void 0;Fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",me=ji();try{se=pv(me)}catch{se=pv(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+D.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(Se=D.pdfObjectUrl,Re="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",st=Ft.open();return st!==null&&st.document.write(Be),st}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',It=Ft.open();if(It!==null){It.document.write(mt);var Mt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=D.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Wr=Ft.open();if(Wr!==null&&(Wr.document.write(sr),Wr.document.title=D.filename),Wr||typeof safari>"u")return Wr;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",D);default:return null}},Br.foo=function(){try{return Br.apply(this,arguments)}catch(se){var x=se.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var D="Error in function "+x.split(`
`)[0].split("<")[0]+": "+se.message;if(!Ft.console)throw new Error(D);Ft.console.error(D,se),Ft.alert&&alert(D)}},Br.foo.bar=Br,Br.foo),Bi=function(x){return Array.isArray(kr)===!0&&kr.indexOf(x)>-1};switch(n){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=Bi("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);kt=n}var wn=null;J(),F();var ns=h.__private__.getPageInfo=h.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[x].objId,pageNumber:x,pageContext:Nt[x]}},Ol=h.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in Nt)if(Nt[D].objId===x)break;return ns(D)},Rl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Nt[$].objId,pageNumber:$,pageContext:Nt[$]}};h.addPage=function(){return Nc.apply(this,arguments),this},h.setPage=function(){return Za.apply(this,arguments),Ke.call(this,Pe[$]),this},h.insertPage=function(x){return this.addPage(),this.movePage($,x),this},h.movePage=function(x,D){var se,me;if(x>D){se=Pe[x],me=Nt[x];for(var Se=x;Se>D;Se--)Pe[Se]=Pe[Se-1],Nt[Se]=Nt[Se-1];Pe[D]=se,Nt[D]=me,this.setPage(D)}else if(x<D){se=Pe[x],me=Nt[x];for(var Re=x;Re<D;Re++)Pe[Re]=Pe[Re+1],Nt[Re]=Nt[Re+1];Pe[D]=se,Nt[D]=me,this.setPage(D)}return this},h.deletePage=function(){return qo.apply(this,arguments),this},h.__private__.text=h.text=function(x,D,se,me,Se){var Re,Be,st,mt,It,Mt,sr,Wr,dn,Or=(me=me||{}).scope||this;if(typeof x=="number"&&typeof D=="number"&&(typeof se=="string"||Array.isArray(se))){var xn=se;se=D,D=x,x=xn}if(arguments[3]instanceof Xe==0?(st=arguments[4],mt=arguments[5],Pr(sr=arguments[3])==="object"&&sr!==null||(typeof st=="string"&&(mt=st,st=null),typeof sr=="string"&&(mt=sr,sr=null),typeof sr=="number"&&(st=sr,sr=null),me={flags:sr,angle:st,align:mt})):(K("The transform parameter of text() with a Matrix value"),dn=Se),isNaN(D)||isNaN(se)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return Or;var en,Dn="",Vs=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:ui,ss=Or.internal.scaleFactor;function Hs(ur){return ur=ur.split("	").join(Array(me.TabLen||9).join(" ")),ki(ur,sr)}function uo(ur){for(var br,Kr=ur.concat(),hn=[],ls=Kr.length;ls--;)typeof(br=Kr.shift())=="string"?hn.push(br):Array.isArray(ur)&&(br.length===1||br[1]===void 0&&br[2]===void 0)?hn.push(br[0]):hn.push([br[0],br[1],br[2]]);return hn}function Xo(ur,br){var Kr;if(typeof ur=="string")Kr=br(ur)[0];else if(Array.isArray(ur)){for(var hn,ls,ql=ur.concat(),rl=[],Xs=ql.length;Xs--;)typeof(hn=ql.shift())=="string"?rl.push(br(hn)[0]):Array.isArray(hn)&&typeof hn[0]=="string"&&(ls=br(hn[0],hn[1],hn[2]),rl.push([ls[0],ls[1],ls[2]]));Kr=rl}return Kr}var Aa=!1,ho=!0;if(typeof x=="string")Aa=!0;else if(Array.isArray(x)){var ja=x.concat();Be=[];for(var Ea,Fn=ja.length;Fn--;)(typeof(Ea=ja.shift())!="string"||Array.isArray(Ea)&&typeof Ea[0]!="string")&&(ho=!1);Aa=ho}if(Aa===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var fo=De/Or.internal.scaleFactor,po=fo*(Vs-1);switch(me.baseline){case"bottom":se-=po;break;case"top":se+=fo-po;break;case"hanging":se+=fo-2*po;break;case"middle":se+=fo/2-po}if((Mt=me.maxWidth||0)>0&&(typeof x=="string"?x=Or.splitTextToSize(x,Mt):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(ur,br){return ur.concat(Or.splitTextToSize(br,Mt))},[]))),Re={text:x,x:D,y:se,options:me,mutex:{pdfEscape:ki,activeFontKey:rt,fonts:zt,activeFontSize:De}},Je.publish("preProcessText",Re),x=Re.text,st=(me=Re.options).angle,dn instanceof Xe==0&&st&&typeof st=="number"){st*=Math.PI/180,me.rotationDirection===0&&(st=-st),O===P&&(st=-st);var Ul=Math.cos(st),zl=Math.sin(st);dn=new Xe(Ul,zl,-zl,Ul,0,0)}else st&&st instanceof Xe&&(dn=st);O!==P||dn||(dn=Hn),(It=me.charSpace||di)!==void 0&&(Dn+=G(ae(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wr=me.horizontalScale)!==void 0&&(Dn+=G(100*Wr)+` Tz
`),me.lang;var ti=-1,as=me.renderingMode!==void 0?me.renderingMode:me.stroke,Ls=Or.internal.getCurrentPageInfo().pageContext;switch(as){case 0:case!1:case"fill":ti=0;break;case 1:case!0:case"stroke":ti=1;break;case 2:case"fillThenStroke":ti=2;break;case 3:case"invisible":ti=3;break;case 4:case"fillAndAddForClipping":ti=4;break;case 5:case"strokeAndAddPathForClipping":ti=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ti=6;break;case 7:case"addToPathForClipping":ti=7}var Lc=Ls.usedRenderingMode!==void 0?Ls.usedRenderingMode:-1;ti!==-1?Dn+=ti+` Tr
`:Lc!==-1&&(Dn+=`0 Tr
`),ti!==-1&&(Ls.usedRenderingMode=ti),mt=me.align||"left";var Ci,Ca=De*Vs,Qo=Or.internal.pageSize.getWidth(),Zo=zt[rt];It=me.charSpace||di,Mt=me.maxWidth||0,sr=Object.assign({autoencode:!0,noBOM:!0},me.flags);var Gs=[],Vi=function(ur){return Or.getStringUnitWidth(ur,{font:Zo,charSpace:It,fontSize:De,doKerning:!1})*De/ss};if(Object.prototype.toString.call(x)==="[object Array]"){var Li;Be=uo(x),mt!=="left"&&(Ci=Be.map(Vi));var Pi,La=0;if(mt==="right"){D-=Ci[0],x=[],Fn=Be.length;for(var Ps=0;Ps<Fn;Ps++)Ps===0?(Pi=Ei(D),Li=$s(se)):(Pi=ae(La-Ci[Ps]),Li=-Ca),x.push([Be[Ps],Pi,Li]),La=Ci[Ps]}else if(mt==="center"){D-=Ci[0]/2,x=[],Fn=Be.length;for(var Ks=0;Ks<Fn;Ks++)Ks===0?(Pi=Ei(D),Li=$s(se)):(Pi=ae((La-Ci[Ks])/2),Li=-Ca),x.push([Be[Ks],Pi,Li]),La=Ci[Ks]}else if(mt==="left"){x=[],Fn=Be.length;for(var Js=0;Js<Fn;Js++)x.push(Be[Js])}else if(mt==="justify"&&Zo.encoding==="Identity-H"){x=[],Fn=Be.length,Mt=Mt!==0?Mt:Qo;for(var Ts=0,tn=0;tn<Fn;tn++)if(Li=tn===0?$s(se):-Ca,Pi=tn===0?Ei(D):Ts,tn<Fn-1){var mo=ae((Mt-Ci[tn])/(Be[tn].split(" ").length-1)),Os=Be[tn].split(" ");x.push([Os[0]+" ",Pi,Li]),Ts=0;for(var os=1;os<Os.length;os++){var go=(Vi(Os[os-1]+" "+Os[os])-Vi(Os[os]))*ss+mo;os==Os.length-1?x.push([Os[os],go,0]):x.push([Os[os]+" ",go,0]),Ts-=go}}else x.push([Be[tn],Pi,Li]);x.push(["",Ts,0])}else{if(mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Fn=Be.length,Mt=Mt!==0?Mt:Qo,tn=0;tn<Fn;tn++){Li=tn===0?$s(se):-Ca,Pi=tn===0?Ei(D):0;var vo=Be[tn].split(" ").length-1,el=vo>0?(Mt-Ci[tn])/vo:0;tn<Fn-1?Gs.push(G(ae(el))):Gs.push(0),x.push([Be[tn],Pi,Li])}}}(typeof me.R2L=="boolean"?me.R2L:Qe)===!0&&(x=Xo(x,function(ur,br,Kr){return[ur.split("").reverse().join(""),br,Kr]})),Re={text:x,x:D,y:se,options:me,mutex:{pdfEscape:ki,activeFontKey:rt,fonts:zt,activeFontSize:De}},Je.publish("postProcessText",Re),x=Re.text,en=Re.mutex.isHex||!1;var tl=zt[rt].encoding;tl!=="WinAnsiEncoding"&&tl!=="StandardEncoding"||(x=Xo(x,function(ur,br,Kr){return[Hs(ur),br,Kr]})),Be=uo(x),x=[];for(var Ys,Pa,Ta,yo=Array.isArray(Be[0])?1:0,Oa="",wo=function(ur,br,Kr){var hn="";return Kr instanceof Xe?(Kr=typeof me.angle=="number"?Tr(Kr,new Xe(1,0,0,1,ur,br)):Tr(new Xe(1,0,0,1,ur,br),Kr),O===P&&(Kr=Tr(new Xe(1,0,0,-1,0,0),Kr)),hn=Kr.join(" ")+` Tm
`):hn=G(ur)+" "+G(br)+` Td
`,hn},Gr=0;Gr<Be.length;Gr++){switch(Oa="",yo){case 1:Ta=(en?"<":"(")+Be[Gr][0]+(en?">":")"),Ys=parseFloat(Be[Gr][1]),Pa=parseFloat(Be[Gr][2]);break;case 0:Ta=(en?"<":"(")+Be[Gr]+(en?">":")"),Ys=Ei(D),Pa=$s(se)}Gs!==void 0&&Gs[Gr]!==void 0&&(Oa=Gs[Gr]+` Tw
`),Gr===0?x.push(Oa+wo(Ys,Pa,dn)+Ta):yo===0?x.push(Oa+Ta):yo===1&&x.push(Oa+wo(Ys,Pa,dn)+Ta)}x=yo===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var hi=`BT
/`;return hi+=rt+" "+De+` Tf
`,hi+=G(De*Vs)+` TL
`,hi+=is+`
`,hi+=Dn,hi+=x,Z(hi+="ET"),N[rt]=!0,Or};var ro=h.__private__.clip=h.clip=function(x){return Z(x==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return ro("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Z("n"),this};var As=h.__private__.isValidStyle=function(x){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(D=!0),D};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(x){return As(x)&&(p=x),this};var Wo=h.__private__.getStyle=h.getStyle=function(x){var D=p;switch(x){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=x}return D},or=h.close=function(){return Z("h"),this};h.stroke=function(){return Z("S"),this},h.fill=function(x){return no("f",x),this},h.fillEvenOdd=function(x){return no("f*",x),this},h.fillStroke=function(x){return no("B",x),this},h.fillStrokeEvenOdd=function(x){return no("B*",x),this};var no=function(x,D){Pr(D)==="object"?Ac(D,x):Z(x)},Na=function(x){x===null||O===P&&x===void 0||(x=Wo(x),Z(x))};function Il(x,D,se,me,Se){var Re=new vu(D||this.boundingBox,se||this.xStep,me||this.yStep,this.gState,Se||this.matrix);Re.stream=this.stream;var Be=x+"$$"+this.cloneIndex+++"$$";return xr(Be,Re),Re}var Ac=function(x,D){var se=ar[x.key],me=xt[se];if(me instanceof pc)Z("q"),Z(jc(D)),me.gState&&h.setGState(me.gState),Z(x.matrix.toString()+" cm"),Z("/"+se+" sh"),Z("Q");else if(me instanceof vu){var Se=new Xe(1,0,0,-1,0,Wi());x.matrix&&(Se=Se.multiply(x.matrix||Hn),se=Il.call(me,x.key,x.boundingBox,x.xStep,x.yStep,Se).id),Z("q"),Z("/Pattern cs"),Z("/"+se+" scn"),me.gState&&h.setGState(me.gState),Z(D),Z("Q")}},jc=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vo=h.moveTo=function(x,D){return Z(G(ae(x))+" "+G(ie(D))+" m"),this},Ho=h.lineTo=function(x,D){return Z(G(ae(x))+" "+G(ie(D))+" l"),this},ci=h.curveTo=function(x,D,se,me,Se,Re){return Z([G(ae(x)),G(ie(D)),G(ae(se)),G(ie(me)),G(ae(Se)),G(ie(Re)),"c"].join(" ")),this};h.__private__.line=h.line=function(x,D,se,me,Se){if(isNaN(x)||isNaN(D)||isNaN(se)||isNaN(me)||!As(Se))throw new Error("Invalid arguments passed to jsPDF.line");return O===j?this.lines([[se-x,me-D]],x,D,[1,1],Se||"S"):this.lines([[se-x,me-D]],x,D,[1,1]).stroke()},h.__private__.lines=h.lines=function(x,D,se,me,Se,Re){var Be,st,mt,It,Mt,sr,Wr,dn,Or,xn,en,Dn;if(typeof x=="number"&&(Dn=se,se=D,D=x,x=Dn),me=me||[1,1],Re=Re||!1,isNaN(D)||isNaN(se)||!Array.isArray(x)||!Array.isArray(me)||!As(Se)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vo(D,se),Be=me[0],st=me[1],It=x.length,xn=D,en=se,mt=0;mt<It;mt++)(Mt=x[mt]).length===2?(xn=Mt[0]*Be+xn,en=Mt[1]*st+en,Ho(xn,en)):(sr=Mt[0]*Be+xn,Wr=Mt[1]*st+en,dn=Mt[2]*Be+xn,Or=Mt[3]*st+en,xn=Mt[4]*Be+xn,en=Mt[5]*st+en,ci(sr,Wr,dn,Or,xn,en));return Re&&or(),Na(Se),this},h.path=function(x){for(var D=0;D<x.length;D++){var se=x[D],me=se.c;switch(se.op){case"m":Vo(me[0],me[1]);break;case"l":Ho(me[0],me[1]);break;case"c":ci.apply(this,me);break;case"h":or()}}return this},h.__private__.rect=h.rect=function(x,D,se,me,Se){if(isNaN(x)||isNaN(D)||isNaN(se)||isNaN(me)||!As(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return O===j&&(me=-me),Z([G(ae(x)),G(ie(D)),G(ae(se)),G(ae(me)),"re"].join(" ")),Na(Se),this},h.__private__.triangle=h.triangle=function(x,D,se,me,Se,Re,Be){if(isNaN(x)||isNaN(D)||isNaN(se)||isNaN(me)||isNaN(Se)||isNaN(Re)||!As(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-x,me-D],[Se-se,Re-me],[x-Se,D-Re]],x,D,[1,1],Be,!0),this},h.__private__.roundedRect=h.roundedRect=function(x,D,se,me,Se,Re,Be){if(isNaN(x)||isNaN(D)||isNaN(se)||isNaN(me)||isNaN(Se)||isNaN(Re)||!As(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var st=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*se),Re=Math.min(Re,.5*me),this.lines([[se-2*Se,0],[Se*st,0,Se,Re-Re*st,Se,Re],[0,me-2*Re],[0,Re*st,-Se*st,Re,-Se,Re],[2*Se-se,0],[-Se*st,0,-Se,-Re*st,-Se,-Re],[0,2*Re-me],[0,-Re*st,Se*st,-Re,Se,-Re]],x+Se,D,[1,1],Be,!0),this},h.__private__.ellipse=h.ellipse=function(x,D,se,me,Se){if(isNaN(x)||isNaN(D)||isNaN(se)||isNaN(me)||!As(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*se,Be=4/3*(Math.SQRT2-1)*me;return Vo(x+se,D),ci(x+se,D-Be,x+Re,D-me,x,D-me),ci(x-Re,D-me,x-se,D-Be,x-se,D),ci(x-se,D+Be,x-Re,D+me,x,D+me),ci(x+Re,D+me,x+se,D+Be,x+se,D),Na(Se),this},h.__private__.circle=h.circle=function(x,D,se,me){if(isNaN(x)||isNaN(D)||isNaN(se)||!As(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,D,se,se,me)},h.setFont=function(x,D,se){return se&&(D=q(D,se)),rt=kc(x,D,{disableWarning:!1}),this};var js=h.__private__.getFont=h.getFont=function(){return zt[kc.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var x,D,se={};for(x in qt)if(qt.hasOwnProperty(x))for(D in se[x]=[],qt[x])qt[x].hasOwnProperty(D)&&se[x].push(D);return se},h.addFont=function(x,D,se,me,Se){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(se=q(se,me)),zo.call(this,x,D,se,Se=Se||"Identity-H")};var ui,Ui=t.lineWidth||.200025,io=h.__private__.getLineWidth=h.getLineWidth=function(){return Ui},Ct=h.__private__.setLineWidth=h.setLineWidth=function(x){return Ui=x,Z(G(ae(x))+" w"),this};h.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(x,D){if(x=x||[],D=D||0,isNaN(D)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(se){return G(ae(se))}).join(" "),D=G(ae(D)),Z("["+x+"] "+D+" d"),this};var Es=h.__private__.getLineHeight=h.getLineHeight=function(){return De*ui};h.__private__.getLineHeight=h.getLineHeight=function(){return De*ui};var Du=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(ui=x),this},Ec=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ui};Du(t.lineHeight);var Ei=h.__private__.getHorizontalCoordinate=function(x){return ae(x)},$s=h.__private__.getVerticalCoordinate=function(x){return O===P?x:Nt[$].mediaBox.topRightY-Nt[$].mediaBox.bottomLeftY-ae(x)},Cc=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(x){return G(Ei(x))},Go=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(x){return G($s(x))},so=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ns(so)},h.__private__.setStrokeColor=h.setDrawColor=function(x,D,se,me){return so=In({ch1:x,ch2:D,ch3:se,ch4:me,pdfColorType:"draw",precision:2}),Z(so),this};var Dl=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ns(Dl)},h.__private__.setFillColor=h.setFillColor=function(x,D,se,me){return Dl=In({ch1:x,ch2:D,ch3:se,ch4:me,pdfColorType:"fill",precision:2}),Z(Dl),this};var is=t.textColor||"0 g",ao=h.__private__.getTextColor=h.getTextColor=function(){return Ns(is)};h.__private__.setTextColor=h.setTextColor=function(x,D,se,me){return is=In({ch1:x,ch2:D,ch3:se,ch4:me,pdfColorType:"text",precision:3}),this};var di=t.charSpace,Ko=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(di||0)};h.__private__.setCharSpace=h.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return di=x,this};var Fl=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(x){var D=h.CapJoinStyles[x];if(D===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fl=D,Z(D+" J"),this};var Ml=0;h.__private__.setLineJoin=h.setLineJoin=function(x){var D=h.CapJoinStyles[x];if(D===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ml=D,Z(D+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(G(ae(x))+" M"),this},h.GState=nf,h.setGState=function(x){(x=typeof x=="string"?ht[Tt[x]]:Jo(null,x)).equals(cr)||(Z("/"+x.id+" gs"),cr=x)};var Jo=function(x,D){if(!x||!Tt[x]){var se=!1;for(var me in ht)if(ht.hasOwnProperty(me)&&ht[me].equals(D)){se=!0;break}if(se)D=ht[me];else{var Se="GS"+(Object.keys(ht).length+1).toString(10);ht[Se]=D,D.id=Se}return x&&(Tt[x]=D.id),Je.publish("addGState",D),D}};h.addGState=function(x,D){return Jo(x,D),this},h.saveGraphicsState=function(){return Z("q"),mr.push({key:rt,size:De,color:is}),this},h.restoreGraphicsState=function(){Z("Q");var x=mr.pop();return rt=x.key,De=x.size,is=x.color,cr=null,this},h.setCurrentTransformationMatrix=function(x){return Z(x.toString()+" cm"),this},h.comment=function(x){return Z("#"+x),this};var zi=function(x,D){var se=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Re){isNaN(Re)||(se=parseFloat(Re))}});var me=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Re){isNaN(Re)||(me=parseFloat(Re))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(Re){Se=Re.toString()}}),this},oo=function(x,D,se,me){zi.call(this,x,D),this.type="rect";var Se=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Be){isNaN(Be)||(Se=parseFloat(Be))}});var Re=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(Be){isNaN(Be)||(Re=parseFloat(Be))}}),this},lo=function(){this.page=Rt,this.currentPage=$,this.pages=Pe.slice(0),this.pagesContext=Nt.slice(0),this.x=nt,this.y=wr,this.matrix=Qt,this.width=ka($),this.height=co($),this.outputDestination=$e,this.id="",this.objectNumber=-1};lo.prototype.restore=function(){Rt=this.page,$=this.currentPage,Nt=this.pagesContext,Pe=this.pages,nt=this.x,wr=this.y,Qt=this.matrix,Bl($,this.width),$i($,this.height),$e=this.outputDestination};var qi=function(x,D,se,me,Se){Rn.push(new lo),Rt=$=0,Pe=[],nt=x,wr=D,Qt=Se,Sa([se,me])};for(var Ws in h.beginFormObject=function(x,D,se,me,Se){return qi(x,D,se,me,Se),this},h.endFormObject=function(x){return(function(D){if(Mr[D])Rn.pop().restore();else{var se=new lo,me="Xo"+(Object.keys(rr).length+1).toString(10);se.id=me,Mr[D]=me,rr[me]=se,Je.publish("addFormObject",se),Rn.pop().restore()}})(x),this},h.doFormObject=function(x,D){var se=rr[Mr[x]];return Z("q"),Z(D.toString()+" cm"),Z("/"+se.id+" Do"),Z("Q"),this},h.getFormObject=function(x){var D=rr[Mr[x]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},h.save=function(x,D){return x=x||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(dc(ks(ji()),x),typeof dc.unload=="function"&&Ft.setTimeout&&setTimeout(dc.unload,911),this):new Promise(function(se,me){try{var Se=dc(ks(ji()),x);typeof dc.unload=="function"&&Ft.setTimeout&&setTimeout(dc.unload,911),se(Se)}catch(Re){me(Re.message)}})},bt.API)bt.API.hasOwnProperty(Ws)&&(Ws==="events"&&bt.API.events.length?(function(x,D){var se,me,Se;for(Se=D.length-1;Se!==-1;Se--)se=D[Se][0],me=D[Se][1],x.subscribe.apply(x,[se].concat(typeof me=="function"?[me]:me))})(Je,bt.API.events):h[Ws]=bt.API[Ws]);function ka(x){return Nt[x].mediaBox.topRightX-Nt[x].mediaBox.bottomLeftX}function Bl(x,D){Nt[x].mediaBox.topRightX=D+Nt[x].mediaBox.bottomLeftX}function co(x){return Nt[x].mediaBox.topRightY-Nt[x].mediaBox.bottomLeftY}function $i(x,D){Nt[x].mediaBox.topRightY=D+Nt[x].mediaBox.bottomLeftY}var Cs=h.getPageWidth=function(x){return ka(x=x||$)/kt},Gn=h.setPageWidth=function(x,D){Bl(x,D*kt)},Wi=h.getPageHeight=function(x){return co(x=x||$)/kt},Yo=h.setPageHeight=function(x,D){$i(x,D*kt)};return h.internal={pdfEscape:ki,getStyle:Wo,getFont:js,getFontSize:Ye,getCharSpace:Ko,getTextColor:ao,getLineHeight:Es,getLineHeightFactor:Ec,getLineWidth:io,write:He,getHorizontalCoordinate:Ei,getVerticalCoordinate:$s,getCoordinateString:Cc,getVerticalCoordinateString:Go,collections:{},newObject:gr,newAdditionalObject:qs,newObjectDeferred:vr,newObjectDeferredBegin:Zr,getFilters:Mi,putStream:Ni,events:Je,scaleFactor:kt,pageSize:{getWidth:function(){return Cs($)},setWidth:function(x){Gn($,x)},getHeight:function(){return Wi($)},setHeight:function(x){Yo($,x)}},encryptionOptions:v,encryption:wn,getEncryptor:function(x){return v!==null?wn.encryptor(x,0):function(D){return D}},output:to,getNumberOfPages:Ai,get pages(){return Pe},out:Z,f2:I,f3:W,getPageInfo:ns,getPageInfoByObjId:Ol,getCurrentPageInfo:Rl,getPDFVersion:_,Point:zi,Rectangle:oo,Matrix:Xe,hasHotfix:Bi},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Cs($)},set:function(x){Gn($,x)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Wi($)},set:function(x){Yo($,x)},enumerable:!0,configurable:!0}),(function(x){for(var D=0,se=yt.length;D<se;D++){var me=zo.call(this,x[D][0],x[D][1],x[D][2],yt[D][3],!0);w===!1&&(N[me]=!0);var Se=x[D][0].split("-");Sc({id:me,fontName:Se[0],fontStyle:Se[1]||""})}Je.publish("addFonts",{fonts:zt,dictionary:qt})}).call(h,yt),rt="F1",Nc(a,r),Je.publish("initialized"),h}pu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},pu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},pu.prototype.processOwnerPassword=function(t,e){return Lm(Cm(e).substr(0,5),t)},pu.prototype.encryptor=function(t,e){var r=Cm(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Lm(r,n)}},nf.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Pr(t)!==Pr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},bt.API={events:[]},bt.version="4.0.0";var vn=bt.API,sg=1,_c=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(t){return t.toFixed(2)},Sl=function(t){return t.toFixed(5)};vn.__acroform__={};var es=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},yv=function(t){return t*sg},qa=function(t){var e=new x5,r=dt.internal.getHeight(t)||0,n=dt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Wt(n)),Number(Wt(r))],e},P6=vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},T6=vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},O6=vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Nn=vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return O6(t,e-1)},kn=vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return P6(t,e-1)},An=vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return T6(t,e-1)},R6=vn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],o=t[1],l=t[2],c=t[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(o+c)||0,d.upperRight_X=r(a+l)||0,d.upperRight_Y=n(o)||0,[Number(Wt(d.lowerLeft_X)),Number(Wt(d.lowerLeft_Y)),Number(Wt(d.upperRight_X)),Number(Wt(d.upperRight_Y))]},I6=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Pm(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Wt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=qa(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},Pm=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var o=r,l=dt.internal.getHeight(t)||0;l=l<0?-l:l;var c=dt.internal.getWidth(t)||0;c=c<0?-c:c;var d=function(I,W,ae){if(I+1<a.length){var ie=W+" "+a[I+1][0];return Rh(ie,t,ae).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var p,v,w=Rh("3",t,o).height,N=t.multiline?l-o:(l-w)/2,h=N+=2,k=0,_=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Rh(e,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var E="",j=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var O=!1;if(a[P].length!==1&&C!==a[P].length-1){if((w+2)*(j+2)+2>l)continue e;E+=a[P][C],O=!0,_=P,P--}else{E=(E+=a[P][C]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var U=parseInt(P),le=d(U,E,o),q=P>=a.length-1;if(le&&!q){E+=" ",C=0;continue}if(le||q){if(q)_=U;else if(t.multiline&&(w+2)*(j+2)+2>l)continue e}else{if(!t.multiline||(w+2)*(j+2)+2>l)continue e;_=U}}for(var G="",K=k;K<=_;K++){var pe=a[K];if(t.multiline){if(K===_){G+=pe[C]+" ",C=(C+1)%pe.length;continue}if(K===k){G+=pe[pe.length-1]+" ";continue}}G+=pe[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,v=Rh(G,t,o).width,t.textAlign){case"right":p=c-v-2;break;case"center":p=(c-v)/2;break;default:p=2}e+=Wt(p)+" "+Wt(h)+` Td
`,e+="("+_c(G)+`) Tj
`,e+=-Wt(p)+` 0 Td
`,h=-(o+2),v=0,k=O?_:_+1,j++,E=""}break}return n.text=e,n.fontSize=o,n},Rh=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},D6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},F6=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},M6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(wa.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(D6)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sg=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new b5,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&F6(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var o=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var c=n[l],d=[],p=c.Rect;if(c.Rect&&(c.Rect=R6(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=dt.createDefaultAppearanceStream(c),Pr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=p,c.hasAppearanceStream&&!c.appearanceStreamContent){var v=I6(c);d.push({key:"AP",value:"<</N "+v+">>"}),a.internal.acroformPlugin.xForms.push(v)}if(c.appearanceStreamContent){var w="";for(var N in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(N)){var h=c.appearanceStreamContent[N];if(w+="/"+N+" ",w+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var l in h)if(h.hasOwnProperty(l)){var k=h[l];typeof k=="function"&&(k=k.call(a,c)),w+="/"+l+" "+k+" ",a.internal.acroformPlugin.xForms.indexOf(k)>=0||a.internal.acroformPlugin.xForms.push(k)}}else typeof(k=h)=="function"&&(k=k.call(a,c)),w+="/"+l+" "+k,a.internal.acroformPlugin.xForms.indexOf(k)>=0||a.internal.acroformPlugin.xForms.push(k);w+=">>"}d.push({key:"AP",value:`<<
`+w+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:c.objId}),a.internal.out("endobj")}o&&(function(_,C){for(var E in _)if(_.hasOwnProperty(E)){var j=E,P=_[E];C.internal.newObjectDeferredBegin(P.objId,!0),Pr(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete _[j]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},w5=vn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(l){return l};if(Array.isArray(t)){for(var a="[",o=0;o<t.length;o++)switch(o!==0&&(a+=" "),Pr(t[o])){case"boolean":case"number":case"object":a+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+_c(n(t[o].toString()))+")"):a+=t[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Hp=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+_c(n(t))+")"},Va=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Va.prototype.toString=function(){return this.objId+" 0 R"},Va.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Va.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:w5(a,this.objId,this.scope)}):a instanceof Va?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var x5=function(){Va.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};es(x5,Va);var b5=function(){Va.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_c(r(t))+")"}},set:function(r){t=r}})};es(b5,Va);var wa=function t(){Va.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nn(e,3)},set:function(E){E?this.F=kn(e,3):this.F=An(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');r=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof sf)return;o="FieldObject"+t.FieldNum++}var E=function(j){return j};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+_c(E(o))+")"},set:function(E){o=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(E){o=E}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/sg:p},set:function(E){p=E}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(E){v=E}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof sf||this instanceof gc))return Hp(w,this.objId,this.scope)},set:function(E){E=E.toString(),w=E}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof ei==0?Hp(N,this.objId,this.scope):N},set:function(E){E=E.toString(),N=this instanceof ei==0?E.substr(0,1)==="("?cu(E.substr(1,E.length-2)):cu(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei==1?cu(N.substr(1,N.length-1)):N},set:function(E){E=E.toString(),N=this instanceof ei==1?"/"+E:E}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ei==0?Hp(h,this.objId,this.scope):h},set:function(E){E=E.toString(),h=this instanceof ei==0?E.substr(0,1)==="("?cu(E.substr(1,E.length-2)):cu(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei==1?cu(h.substr(1,h.length-1)):h},set:function(E){E=E.toString(),h=this instanceof ei==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(E){E=!!E,_=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(E){k=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,1)},set:function(E){E?this.Ff=kn(this.Ff,1):this.Ff=An(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,2)},set:function(E){E?this.Ff=kn(this.Ff,2):this.Ff=An(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,3)},set:function(E){E?this.Ff=kn(this.Ff,3):this.Ff=An(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');C=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(C){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};es(wa,Va);var bu=function(){wa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return w5(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(o,l,c){c||(c=1);for(var d,p=[];d=l.exec(o);)p.push(d[c]);return p})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,18)},set:function(r){r?this.Ff=kn(this.Ff,18):this.Ff=An(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=kn(this.Ff,19):this.Ff=An(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,20)},set:function(r){r?(this.Ff=kn(this.Ff,20),e.sort()):this.Ff=An(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,22)},set:function(r){r?this.Ff=kn(this.Ff,22):this.Ff=An(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,23)},set:function(r){r?this.Ff=kn(this.Ff,23):this.Ff=An(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,27)},set:function(r){r?this.Ff=kn(this.Ff,27):this.Ff=An(this.Ff,27)}}),this.hasAppearanceStream=!1};es(bu,wa);var _u=function(){bu.call(this),this.fontName="helvetica",this.combo=!1};es(_u,bu);var Su=function(){_u.call(this),this.combo=!0};es(Su,_u);var $h=function(){Su.call(this),this.edit=!0};es($h,Su);var ei=function(){wa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,15)},set:function(r){r?this.Ff=kn(this.Ff,15):this.Ff=An(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,16)},set:function(r){r?this.Ff=kn(this.Ff,16):this.Ff=An(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,17)},set:function(r){r?this.Ff=kn(this.Ff,17):this.Ff=An(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,26)},set:function(r){r?this.Ff=kn(this.Ff,26):this.Ff=An(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+_c(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Pr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};es(ei,wa);var Wh=function(){ei.call(this),this.pushButton=!0};es(Wh,ei);var Nu=function(){ei.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};es(Nu,ei);var sf=function(){var t,e;wa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),n)l.push("/"+o+" ("+_c(a(n[o]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Pr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};es(sf,wa),Nu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Nu.prototype.createOption=function(t){var e=new sf;return e.Parent=this,e.optionName=t,this.Kids.push(e),B6.call(this.scope,e),e};var Vh=function(){ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};es(Vh,ei);var gc=function(){wa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,13)},set:function(e){e?this.Ff=kn(this.Ff,13):this.Ff=An(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,21)},set:function(e){e?this.Ff=kn(this.Ff,21):this.Ff=An(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,23)},set:function(e){e?this.Ff=kn(this.Ff,23):this.Ff=An(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,24)},set:function(e){e?this.Ff=kn(this.Ff,24):this.Ff=An(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,25)},set:function(e){e?this.Ff=kn(this.Ff,25):this.Ff=An(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,26)},set:function(e){e?this.Ff=kn(this.Ff,26):this.Ff=An(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};es(gc,wa);var Hh=function(){gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nn(this.Ff,14)},set:function(t){t?this.Ff=kn(this.Ff,14):this.Ff=An(this.Ff,14)}}),this.password=!0};es(Hh,gc);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qa(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),o=Pm(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Wt(dt.internal.getWidth(t))+" "+Wt(dt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Wt(o.fontSize)+" Tf "+a),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=qa(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],o=dt.internal.getHeight(t),l=dt.internal.getWidth(t),c=Pm(t,t.caption);return a.push("1 g"),a.push("0 0 "+Wt(l)+" "+Wt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Wt(l-1)+" "+Wt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Wt(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=qa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(dt.internal.getWidth(t))+" "+Wt(dt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=dt.RadioButton.Circle.YesNormal,e.D[t]=dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qa(t);e.scope=t.scope;var r=[],n=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=dt.internal.Bezier_C,o=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Sl(dt.internal.getWidth(t)/2)+" "+Sl(dt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qa(t);e.scope=t.scope;var r=[],n=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*dt.internal.Bezier_C).toFixed(5)),l=Number((n*dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sl(dt.internal.getWidth(t)/2)+" "+Sl(dt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Sl(dt.internal.getWidth(t)/2)+" "+Sl(dt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qa(t);e.scope=t.scope;var r=[],n=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sl(dt.internal.getWidth(t)/2)+" "+Sl(dt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=dt.RadioButton.Cross.YesNormal,e.D[t]=dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qa(t);e.scope=t.scope;var r=[],n=dt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Wt(dt.internal.getWidth(t)-2)+" "+Wt(dt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(n.x1.x)+" "+Wt(n.x1.y)+" m"),r.push(Wt(n.x2.x)+" "+Wt(n.x2.y)+" l"),r.push(Wt(n.x4.x)+" "+Wt(n.x4.y)+" m"),r.push(Wt(n.x3.x)+" "+Wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qa(t);e.scope=t.scope;var r=dt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(dt.internal.getWidth(t))+" "+Wt(dt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Wt(dt.internal.getWidth(t)-2)+" "+Wt(dt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),n.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),n.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),n.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(dt.internal.getWidth(t))+" "+Wt(dt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};dt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=dt.internal.getWidth(t),r=dt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},dt.internal.getWidth=function(t){var e=0;return Pr(t)==="object"&&(e=yv(t.Rect[2])),e},dt.internal.getHeight=function(t){var e=0;return Pr(t)==="object"&&(e=yv(t.Rect[3])),e};var B6=vn.addField=function(t){if(M6(this,t),!(t instanceof wa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=bu,vn.AcroFormListBox=_u,vn.AcroFormComboBox=Su,vn.AcroFormEditBox=$h,vn.AcroFormButton=ei,vn.AcroFormPushButton=Wh,vn.AcroFormRadioButton=Nu,vn.AcroFormCheckBox=Vh,vn.AcroFormTextField=gc,vn.AcroFormPasswordField=Hh,vn.AcroFormAppearance=dt,vn.AcroForm={ChoiceField:bu,ListBox:_u,ComboBox:Su,EditBox:$h,Button:ei,PushButton:Wh,RadioButton:Nu,CheckBox:Vh,TextField:gc,PasswordField:Hh,Appearance:dt},bt.AcroForm={ChoiceField:bu,ListBox:_u,ComboBox:Su,EditBox:$h,Button:ei,PushButton:Wh,RadioButton:Nu,CheckBox:Vh,TextField:gc,PasswordField:Hh,Appearance:dt};bt.AcroForm;function _5(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(I,W){var ae,ie,oe,V,ee,F=r;if((W=W||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(le(I))for(ee in n)for(oe=n[ee],ae=0;ae<oe.length;ae+=1){for(V=!0,ie=0;ie<oe[ae].length;ie+=1)if(oe[ae][ie]!==void 0&&oe[ae][ie]!==I[ie]){V=!1;break}if(V===!0){F=ee;break}}else for(ee in n)for(oe=n[ee],ae=0;ae<oe.length;ae+=1){for(V=!0,ie=0;ie<oe[ae].length;ie+=1)if(oe[ae][ie]!==void 0&&oe[ae][ie]!==I.charCodeAt(ie)){V=!1;break}if(V===!0){F=ee;break}}return F===r&&W!==r&&(F=W),F},o=function I(W){for(var ae=this.internal.write,ie=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:W.width}),V.push({key:"Height",value:W.height}),W.colorSpace===E.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===E.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var ee="",F=0,ce=W.transparency.length;F<ce;F++)ee+=W.transparency[F]+" "+W.transparency[F]+" ";V.push({key:"Mask",value:"["+ee+"]"})}W.sMask!==void 0&&V.push({key:"SMask",value:W.objectId+1+" 0 R"});var we=W.filter!==void 0?["/"+W.filter]:void 0;if(ie({data:W.data,additionalKeyValues:V,alreadyAppliedFilters:we,objectId:W.objectId}),ae("endobj"),"sMask"in W&&W.sMask!==void 0){var J,T=(J=W.sMaskBitsPerComponent)!==null&&J!==void 0?J:W.bitsPerComponent,$={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:W.sMask};"filter"in W&&($.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(W.width),$.filter=W.filter),I.call(this,$)}if(W.colorSpace===E.INDEXED){var X=this.internal.newObject();ie({data:G(new Uint8Array(W.palette)),objectId:X}),ae("endobj")}},l=function(){var I=this.internal.collections[e+"images"];for(var W in I)o.call(this,I[W])},c=function(){var I,W=this.internal.collections[e+"images"],ae=this.internal.write;for(var ie in W)ae("/I"+(I=W[ie]).index,I.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},p=function(){var I=this.internal.collections[e+"images"];return d.call(this),I},v=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(I){return typeof t["process"+I.toUpperCase()]=="function"},N=function(I){return Pr(I)==="object"&&I.nodeType===1},h=function(I,W){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var ae=""+I.getAttribute("src");if(ae.indexOf("data:image/")===0)return qh(unescape(ae).split("base64,").pop());var ie=t.loadFile(ae,!0);if(ie!==void 0)return ie}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var oe;switch(W){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return qh(I.toDataURL(oe,1).split("base64,").pop())}},k=function(I){var W=this.internal.collections[e+"images"];if(W){for(var ae in W)if(I===W[ae].alias)return W[ae]}},_=function(I,W,ae){return I||W||(I=-96,W=-96),I<0&&(I=-1*ae.width*72/I/this.internal.scaleFactor),W<0&&(W=-1*ae.height*72/W/this.internal.scaleFactor),I===0&&(I=W*ae.width/ae.height),W===0&&(W=I*ae.height/ae.width),[I,W]},C=function(I,W,ae,ie,oe,V){var ee=_.call(this,ae,ie,oe),F=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,we=p.call(this);if(ae=ee[0],ie=ee[1],we[oe.index]=oe,V){V*=Math.PI/180;var J=Math.cos(V),T=Math.sin(V),$=function(ue){return ue.toFixed(4)},X=[$(J),$(T),$(-1*T),$(J),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,F(I),ce(W+ie),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([F(ae),"0","0",F(ie),"0","0","cm"].join(" "))):this.internal.write([F(ae),"0","0",F(ie),F(I),ce(W+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(I){var W,ae,ie=0;if(typeof I=="string")for(ae=I.length,W=0;W<ae;W++)ie=(ie<<5)-ie+I.charCodeAt(W),ie|=0;else if(le(I))for(ae=I.byteLength/2,W=0;W<ae;W++)ie=(ie<<5)-ie+I[W],ie|=0;return ie},O=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var W=!0;return I.length===0&&(W=!1),I.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(W=!1),W},U=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var W=I.indexOf(",");return W<0?null:I.substring(0,W).trim().endsWith("base64")?I.substring(W+1):null};t.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var le=t.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},q=t.__addimage__.binaryStringToUint8Array=function(I){for(var W=I.length,ae=new Uint8Array(W),ie=0;ie<W;ie++)ae[ie]=I.charCodeAt(ie);return ae},G=t.__addimage__.arrayBufferToBinaryString=function(I){for(var W="",ae=le(I)?I:new Uint8Array(I),ie=0;ie<ae.length;ie+=8192)W+=String.fromCharCode.apply(null,ae.subarray(ie,ie+8192));return W};t.addImage=function(){var I,W,ae,ie,oe,V,ee,F,ce;if(typeof arguments[1]=="number"?(W=r,ae=arguments[1],ie=arguments[2],oe=arguments[3],V=arguments[4],ee=arguments[5],F=arguments[6],ce=arguments[7]):(W=arguments[1],ae=arguments[2],ie=arguments[3],oe=arguments[4],V=arguments[5],ee=arguments[6],F=arguments[7],ce=arguments[8]),Pr(I=arguments[0])==="object"&&!N(I)&&"imageData"in I){var we=I;I=we.imageData,W=we.format||W||r,ae=we.x||ae||0,ie=we.y||ie||0,oe=we.w||we.width||oe,V=we.h||we.height||V,ee=we.alias||ee,F=we.compression||F,ce=we.rotation||we.angle||ce}var J=this.internal.getFilters();if(F===void 0&&J.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(ae)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var T=K.call(this,I,W,ee,F);return C.call(this,ae,ie,oe,V,T,ce),this};var K=function(I,W,ae,ie){var oe,V,ee;if(typeof I=="string"&&a(I)===r){I=unescape(I);var F=pe(I,!1);(F!==""||(F=t.loadFile(I,!0))!==void 0)&&(I=F)}if(N(I)&&(I=h(I,W)),W=a(I,W),!w(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((ee=ae)==null||ee.length===0)&&(ae=(function(ce){return typeof ce=="string"||le(ce)?P(ce):le(ce.data)?P(ce.data):null})(I)),(oe=k.call(this,ae))||(I instanceof Uint8Array||W==="RGBA"||(V=I,I=q(I)),oe=this["process"+W.toUpperCase()](I,v.call(this),ae,(function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:j.NONE})(ie),V)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},pe=t.__addimage__.convertBase64ToBinaryString=function(I,W){W=typeof W!="boolean"||W;var ae,ie="";if(typeof I=="string"){var oe;ae=(oe=U(I))!==null&&oe!==void 0?oe:I;try{ie=qh(ae)}catch(V){if(W)throw O(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};t.getImageProperties=function(I){var W,ae,ie="";if(N(I)&&(I=h(I)),typeof I=="string"&&a(I)===r&&((ie=pe(I,!1))===""&&(ie=t.loadFile(I)||""),I=ie),ae=a(I),!w(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(I instanceof Uint8Array||(I=q(I)),!(W=this["process"+ae.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ae,W}})(bt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};bt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),p=r.pageContext.annotations,v=!1,w=0;w<p.length&&!v;w++)switch((n=p[w]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var N=0;N<p.length;N++){n=p[N];var h=this.internal.pdfEscape,k=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(_.objId),j=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+h(E(n.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+h(E(j))+") >>",_.content=o;var P=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(_.objId,"0 R",C.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(k(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var U=this.annotations._nameMap[n.options.name];n.options.pageNumber=U.page,n.options.top=U.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(k(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var le=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+le+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,o,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(r),y:p(n),w:d(r+a),h:p(n+o)},options:l,type:"link"})},t.textWithLink=function(r,n,a,o){var l,c,d=this.getTextWidth(r),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var v=this.splitTextToSize(r,c).length;l=Math.ceil(p*v)}else c=d,l=p;return this.text(r,n,a,o),a+=.2*p,o.align==="center"&&(n-=d/2),o.align==="right"&&(n-=d),this.link(n,a-p,c,l,o),d},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(bt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},c=t.__arabicParser__.isArabicEndLetter=function(_){return l(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(_){return l(_)&&a.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return l(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var p=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return l(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return l(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var v=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return l(_)&&o(_)&&e[_.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(_){var C=0,E=r,j="",P=0;for(C=0;C<_.length;C+=1)E[_.charCodeAt(C)]!==void 0?(P++,typeof(E=E[_.charCodeAt(C)])=="number"&&(j+=String.fromCharCode(E),E=r,P=0),C===_.length-1&&(E=r,j+=_.charAt(C-(P-1)),C-=P-1,P=0)):(E=r,j+=_.charAt(C-P),C-=P,P=0);return j};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var N=t.__arabicParser__.getCorrectForm=function(_,C,E){return l(_)?o(_)===!1?-1:!p(_)||!l(C)&&!l(E)||!l(E)&&c(C)||c(_)&&!l(C)||c(_)&&d(C)||c(_)&&c(C)?0:v(_)&&l(C)&&!c(C)&&l(E)&&p(E)?3:c(_)||!l(E)?1:2:-1},h=function(_){var C=0,E=0,j=0,P="",O="",U="",le=(_=_||"").split("\\s+"),q=[];for(C=0;C<le.length;C+=1){for(q.push(""),E=0;E<le[C].length;E+=1)P=le[C][E],O=le[C][E-1],U=le[C][E+1],l(P)?(j=N(P,O,U),q[C]+=j!==-1?String.fromCharCode(e[P.charCodeAt(0)][j]):P):q[C]+=P;q[C]=w(q[C])}return q.join(" ")},k=t.__arabicParser__.processArabic=t.processArabic=function(){var _,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(C)){var j=0;for(E=[],j=0;j<C.length;j+=1)Array.isArray(C[j])?E.push([h(C[j][0]),C[j][1],C[j][2]]):E.push([h(C[j])]);_=E}else _=h(C);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",k])})(bt.API),bt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(bt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(_){v=_}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(_){w=_}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(_){N=_}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(_){k=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,p){n.call(this);var v=(p=p||{}).fontSize||this.getFontSize(),w=p.font||this.getFont(),N=p.scaleFactor||this.internal.scaleFactor,h=0,k=0,_=0,C=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var E=p.maxWidth;E>0?typeof d=="string"?d=this.splitTextToSize(d,E):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(P,O){return P.concat(C.splitTextToSize(O,E))},[])):d=Array.isArray(d)?d:[d];for(var j=0;j<d.length;j++)h<(_=this.getStringUnitWidth(d[j],{font:w})*v)&&(h=_);return h!==0&&(k=d.length),{w:h/=N,h:Math.max((k*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/N,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var p=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===d.lineNumber?(d.x=(p.x||0)+(p.width||0),d.y=p.y||0):p.y+p.height+d.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=w.top,h&&N&&(this.printHeaderRow(d.lineNumber,!0),d.y+=N[0].height)):d.y=p.y+p.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-v,d.y+v,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+v,{align:"center",baseline:"top",maxWidth:d.width-v-v}):this.text(d.text,d.x+v,d.y+v,{align:"left",baseline:"top",maxWidth:d.width-v-v})),this.internal.__cell__.lastCell=d,this};t.table=function(d,p,v,w,N){if(n.call(this),!v)throw new Error("No data for PDF table.");var h,k,_,C,E=[],j=[],P=[],O={},U={},le=[],q=[],G=(N=N||{}).autoSize||!1,K=N.printHeaders!==!1,pe=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,I=N.margins||Object.assign({width:this.getPageWidth()},e),W=typeof N.padding=="number"?N.padding:3,ae=N.headerBackgroundColor||"#c8c8c8",ie=N.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=pe,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=ie,this.setFontSize(pe),w==null)j=E=Object.keys(v[0]),P=E.map(function(){return"left"});else if(Array.isArray(w)&&Pr(w[0])==="object")for(E=w.map(function(we){return we.name}),j=w.map(function(we){return we.prompt||we.name||""}),P=w.map(function(we){return we.align||"left"}),h=0;h<w.length;h+=1)U[w[h].name]=.7499990551181103*w[h].width;else Array.isArray(w)&&typeof w[0]=="string"&&(j=E=w,P=E.map(function(){return"left"}));if(G||Array.isArray(w)&&typeof w[0]=="string")for(h=0;h<E.length;h+=1){for(O[C=E[h]]=v.map(function(we){return we[C]}),this.setFont(void 0,"bold"),le.push(this.getTextDimensions(j[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=O[C],this.setFont(void 0,"normal"),_=0;_<k.length;_+=1)le.push(this.getTextDimensions(k[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[C]=Math.max.apply(null,le)+W+W,le=[]}if(K){var oe={};for(h=0;h<E.length;h+=1)oe[E[h]]={},oe[E[h]].text=j[h],oe[E[h]].align=P[h];var V=c.call(this,oe,U);q=E.map(function(we){return new o(d,p,U[we],V,oe[we].text,void 0,oe[we].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var ee=w.reduce(function(we,J){return we[J.name]=J.align,we},{});for(h=0;h<v.length;h+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:h,data:v[h]},this);var F=c.call(this,v[h],U);for(_=0;_<E.length;_+=1){var ce=v[h][E[_]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:h,col:_,data:ce},this),l.call(this,new o(d,p,U[E[_]],F,ce,h+2,ee[E[_]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=p,this};var c=function(d,p){var v=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(d).map(function(h){var k=d[h];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,p[h]-v-v)},this).map(function(h){return this.getLineHeightFactor()*h.length*w/N+v+v},this).reduce(function(h,k){return Math.max(h,k)},0)};t.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,p){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){v=this.internal.__cell__.tableHeaderRow[h].clone(),p&&(v.y=this.internal.__cell__.margins.top||0,N.push(v)),v.lineNumber=d;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,v),this.setTextColor(k)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),r=!1}})(bt.API);var S5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},N5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tm=_5(N5),k5=[100,200,300,400,500,600,700,800,900],U6=_5(k5);function Gp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return S5[o=o||"normal"]?o:"normal"})(t.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),a=(function(o){return typeof Tm[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function wv(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var z6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function bv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function _v(t){return t.trimLeft()}function q6(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function $6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ih,Sv,Nv,uu,Dh,kv,Av,jv,Kp=["times"];function Ev(t,e,r,n,a){var o=4,l=Lv;switch(a){case bt.API.image_compression.FAST:o=1,l=Cv;break;case bt.API.image_compression.MEDIUM:o=6,l=Pv;break;case bt.API.image_compression.SLOW:o=9,l=Tv}t=(function(d,p,v,w){for(var N,h=d.length/p,k=new Uint8Array(d.length+h),_=[W6,Cv,Lv,Pv,Tv],C=0;C<h;C+=1){var E=C*p,j=d.subarray(E,E+p);if(w)k.set(w(j,v,N),E+C);else{for(var P=_.length,O=[],U=0;U<P;U+=1)O[U]=_[U](j,v,N);var le=H6(O.concat());k.set(O[le],E+C)}N=j}return k})(t,e,Math.ceil(r*n/8),l);var c=km(t,{level:o});return bt.API.__addimage__.arrayBufferToBinaryString(c)}function W6(t){var e=Array.apply([],t);return e.unshift(0),e}function Cv(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var o=t[a-e]||0;n[a+1]=t[a]-o+256&255}return n}function Lv(t,e,r){var n=t.length,a=[];a[0]=2;for(var o=0;o<n;o+=1){var l=r&&r[o]||0;a[o+1]=t[o]-l+256&255}return a}function Pv(t,e,r){var n=t.length,a=[];a[0]=3;for(var o=0;o<n;o+=1){var l=t[o-e]||0,c=r&&r[o]||0;a[o+1]=t[o]+256-(l+c>>>1)&255}return a}function Tv(t,e,r){var n=t.length,a=[];a[0]=4;for(var o=0;o<n;o+=1){var l=V6(t[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);a[o+1]=t[o]-l+256&255}return a}function V6(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),o=Math.abs(t+e-r-r);return n<=a&&n<=o?t:a<=o?e:r}function H6(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Jp(t,e,r){var n=e*r,a=Math.floor(n/8),o=16-(n-8*a+r),l=(1<<r)-1;return A5(t,a)>>o&l}function Ov(t,e,r,n){var a=r*n,o=Math.floor(a/8),l=16-(a-8*o+n),c=(1<<n)-1,d=(e&c)<<l;(function(p,v,w){if(v+1<p.byteLength)p.setUint16(v,w,!1);else{var N=w>>8&255;p.setUint8(v,N)}})(t,o,A5(t,o)&~(c<<l)&65535|d)}function A5(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function G6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],o=a>>7,l=1<<1+(7&a);t[e++],t[e++];var c=null,d=null;o&&(c=e,d=l,e+=3*l);var p=!0,v=[],w=0,N=null,h=0,k=null;for(this.width=r,this.height=n;p&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,k=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];w=t[e++]|t[e++]<<8,N=t[e++],1&_||(N=null),h=_>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,O=t[e++],U=O>>6&1,le=1<<1+(7&O),q=c,G=d,K=!1;O>>7&&(K=!0,q=e,G=le,e+=3*le);var pe=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}v.push({x:C,y:E,width:j,height:P,has_local_palette:K,palette_offset:q,palette_size:G,data_offset:pe,data_length:e-pe,transparent_index:N,interlaced:!!U,delay:w,disposal:h});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return k},this.frameInfo=function(W){if(W<0||W>=v.length)throw new Error("Frame index out of range.");return v[W]},this.decodeAndBlitFrameBGRA=function(W,ae){var ie=this.frameInfo(W),oe=ie.width*ie.height,V=new Uint8Array(oe);Rv(t,ie.data_offset,V,oe);var ee=ie.palette_offset,F=ie.transparent_index;F===null&&(F=256);var ce=ie.width,we=r-ce,J=ce,T=4*(ie.y*r+ie.x),$=4*((ie.y+ie.height)*r+ie.x),X=T,ue=4*we;ie.interlaced===!0&&(ue+=4*r*7);for(var de=8,ne=0,fe=V.length;ne<fe;++ne){var ge=V[ne];if(J===0&&(J=ce,(X+=ue)>=$&&(ue=4*we+4*r*(de-1),X=T+(ce+we)*(de<<1),de>>=1)),ge===F)X+=4;else{var _e=t[ee+3*ge],Pe=t[ee+3*ge+1],Me=t[ee+3*ge+2];ae[X++]=Me,ae[X++]=Pe,ae[X++]=_e,ae[X++]=255}--J}},this.decodeAndBlitFrameRGBA=function(W,ae){var ie=this.frameInfo(W),oe=ie.width*ie.height,V=new Uint8Array(oe);Rv(t,ie.data_offset,V,oe);var ee=ie.palette_offset,F=ie.transparent_index;F===null&&(F=256);var ce=ie.width,we=r-ce,J=ce,T=4*(ie.y*r+ie.x),$=4*((ie.y+ie.height)*r+ie.x),X=T,ue=4*we;ie.interlaced===!0&&(ue+=4*r*7);for(var de=8,ne=0,fe=V.length;ne<fe;++ne){var ge=V[ne];if(J===0&&(J=ce,(X+=ue)>=$&&(ue=4*we+4*r*(de-1),X=T+(ce+we)*(de<<1),de>>=1)),ge===F)X+=4;else{var _e=t[ee+3*ge],Pe=t[ee+3*ge+1],Me=t[ee+3*ge+2];ae[X++]=_e,ae[X++]=Pe,ae[X++]=Me,ae[X++]=255}--J}}}function Rv(t,e,r,n){for(var a=t[e++],o=1<<a,l=o+1,c=l+1,d=a+1,p=(1<<d)-1,v=0,w=0,N=0,h=t[e++],k=new Int32Array(4096),_=null;;){for(;v<16&&h!==0;)w|=t[e++]<<v,v+=8,h===1?h=t[e++]:--h;if(v<d)break;var C=w&p;if(w>>=d,v-=d,C!==o){if(C===l)break;for(var E=C<c?C:_,j=0,P=E;P>o;)P=k[P]>>8,++j;var O=P;if(N+j+(E!==C?1:0)>n)return void Fr.log("Warning, gif stream longer than expected.");r[N++]=O;var U=N+=j;for(E!==C&&(r[N++]=O),P=E;j--;)P=k[P],r[--U]=255&P,P>>=8;_!==null&&c<4096&&(k[c++]=_<<8|O,c>=p+1&&d<12&&(++d,p=p<<1|1)),_=C}else c=l+1,p=(1<<(d=a+1))-1,_=null}return N!==n&&Fr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yp(t){var e,r,n,a,o,l=Math.floor,c=new Array(64),d=new Array(64),p=new Array(64),v=new Array(64),w=new Array(65535),N=new Array(65535),h=new Array(64),k=new Array(64),_=[],C=0,E=7,j=new Array(64),P=new Array(64),O=new Array(64),U=new Array(256),le=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],pe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(T,$){for(var X=0,ue=0,de=new Array,ne=1;ne<=16;ne++){for(var fe=1;fe<=T[ne];fe++)de[$[ue]]=[],de[$[ue]][0]=X,de[$[ue]][1]=ne,ue++,X++;X*=2}return de}function ee(T){for(var $=T[0],X=T[1]-1;X>=0;)$&1<<X&&(C|=1<<E),X--,--E<0&&(C==255?(F(255),F(0)):F(C),E=7,C=0)}function F(T){_.push(T)}function ce(T){F(T>>8&255),F(255&T)}function we(T,$,X,ue,de){for(var ne,fe=de[0],ge=de[240],_e=(function(De,wt){var Ye,Qe,ot,ir,Kt,Et,Jt,Ut,rt,kt,nt=0;for(rt=0;rt<8;++rt){Ye=De[nt],Qe=De[nt+1],ot=De[nt+2],ir=De[nt+3],Kt=De[nt+4],Et=De[nt+5],Jt=De[nt+6];var wr=Ye+(Ut=De[nt+7]),Qt=Ye-Ut,zt=Qe+Jt,qt=Qe-Jt,mr=ot+Et,xt=ot-Et,ar=ir+Kt,ht=ir-Kt,Tt=wr+ar,cr=wr-ar,Rt=zt+mr,Nt=zt-mr;De[nt]=Tt+Rt,De[nt+4]=Tt-Rt;var Je=.707106781*(Nt+cr);De[nt+2]=cr+Je,De[nt+6]=cr-Je;var kr=.382683433*((Tt=ht+xt)-(Nt=qt+Qt)),rr=.5411961*Tt+kr,Mr=1.306562965*Nt+kr,Rn=.707106781*(Rt=xt+qt),Xe=Qt+Rn,Tr=Qt-Rn;De[nt+5]=Tr+rr,De[nt+3]=Tr-rr,De[nt+1]=Xe+Mr,De[nt+7]=Xe-Mr,nt+=8}for(nt=0,rt=0;rt<8;++rt){Ye=De[nt],Qe=De[nt+8],ot=De[nt+16],ir=De[nt+24],Kt=De[nt+32],Et=De[nt+40],Jt=De[nt+48];var Hn=Ye+(Ut=De[nt+56]),xr=Ye-Ut,Br=Qe+Jt,gr=Qe-Jt,vr=ot+Et,Zr=ot-Et,qs=ir+Kt,ba=ir-Kt,ts=Hn+qs,Ns=Hn-qs,In=Br+vr,Mi=Br-vr;De[nt]=ts+In,De[nt+32]=ts-In;var Ni=.707106781*(Mi+Ns);De[nt+16]=Ns+Ni,De[nt+48]=Ns-Ni;var Ya=.382683433*((ts=ba+Zr)-(Mi=gr+xr)),rs=.5411961*ts+Ya,_a=1.306562965*Mi+Ya,Xa=.707106781*(In=Zr+gr),Qa=xr+Xa,Uo=xr-Xa;De[nt+40]=Uo+rs,De[nt+24]=Uo-rs,De[nt+8]=Qa+_a,De[nt+56]=Qa-_a,nt++}for(rt=0;rt<64;++rt)kt=De[rt]*wt[rt],h[rt]=kt>0?kt+.5|0:kt-.5|0;return h})(T,$),Pe=0;Pe<64;++Pe)k[q[Pe]]=_e[Pe];var Me=k[0]-X;X=k[0],Me==0?ee(ue[0]):(ee(ue[N[ne=32767+Me]]),ee(w[ne]));for(var $e=63;$e>0&&k[$e]==0;)$e--;if($e==0)return ee(fe),X;for(var Ke,Z=1;Z<=$e;){for(var He=Z;k[Z]==0&&Z<=$e;)++Z;var St=Z-He;if(St>=16){Ke=St>>4;for(var yt=1;yt<=Ke;++yt)ee(ge);St&=15}ne=32767+k[Z],ee(de[(St<<4)+N[ne]]),ee(w[ne]),Z++}return $e!=63&&ee(fe),X}function J(T){T=Math.min(Math.max(T,1),100),o!=T&&((function($){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var de=l((X[ue]*$+50)/100);de=Math.min(Math.max(de,1),255),c[q[ue]]=de}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var ge=l((ne[fe]*$+50)/100);ge=Math.min(Math.max(ge,1),255),d[q[fe]]=ge}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Me=0;Me<8;Me++)for(var $e=0;$e<8;$e++)p[Pe]=1/(c[q[Pe]]*_e[Me]*_e[$e]*8),v[Pe]=1/(d[q[Pe]]*_e[Me]*_e[$e]*8),Pe++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,$){$&&J($),_=new Array,C=0,E=7,ce(65496),ce(65504),ce(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),ce(1),ce(1),F(0),F(0),(function(){ce(65499),ce(132),F(0);for(var Qe=0;Qe<64;Qe++)F(c[Qe]);F(1);for(var ot=0;ot<64;ot++)F(d[ot])})(),(function(Qe,ot){ce(65472),ce(17),F(8),ce(ot),ce(Qe),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)})(T.width,T.height),(function(){ce(65476),ce(418),F(0);for(var Qe=0;Qe<16;Qe++)F(G[Qe+1]);for(var ot=0;ot<=11;ot++)F(K[ot]);F(16);for(var ir=0;ir<16;ir++)F(pe[ir+1]);for(var Kt=0;Kt<=161;Kt++)F(I[Kt]);F(1);for(var Et=0;Et<16;Et++)F(W[Et+1]);for(var Jt=0;Jt<=11;Jt++)F(ae[Jt]);F(17);for(var Ut=0;Ut<16;Ut++)F(ie[Ut+1]);for(var rt=0;rt<=161;rt++)F(oe[rt])})(),ce(65498),ce(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var X=0,ue=0,de=0;C=0,E=7,this.encode.displayName="_encode_";for(var ne,fe,ge,_e,Pe,Me,$e,Ke,Z,He=T.data,St=T.width,yt=T.height,De=4*St,wt=0;wt<yt;){for(ne=0;ne<De;){for(Pe=De*wt+ne,$e=-1,Ke=0,Z=0;Z<64;Z++)Me=Pe+(Ke=Z>>3)*De+($e=4*(7&Z)),wt+Ke>=yt&&(Me-=De*(wt+1+Ke-yt)),ne+$e>=De&&(Me-=ne+$e-De+4),fe=He[Me++],ge=He[Me++],_e=He[Me++],j[Z]=(le[fe]+le[ge+256|0]+le[_e+512|0]>>16)-128,P[Z]=(le[fe+768|0]+le[ge+1024|0]+le[_e+1280|0]>>16)-128,O[Z]=(le[fe+1280|0]+le[ge+1536|0]+le[_e+1792|0]>>16)-128;X=we(j,p,X,e,n),ue=we(P,v,ue,r,a),de=we(O,v,de,r,a),ne+=32}wt+=8}if(E>=0){var Ye=[];Ye[1]=E+1,Ye[0]=(1<<E+1)-1,ee(Ye)}return ce(65497),new Uint8Array(_)},t=t||50,(function(){for(var T=String.fromCharCode,$=0;$<256;$++)U[$]=T($)})(),e=V(G,K),r=V(W,ae),n=V(pe,I),a=V(ie,oe),(function(){for(var T=1,$=2,X=1;X<=15;X++){for(var ue=T;ue<$;ue++)N[32767+ue]=X,w[32767+ue]=[],w[32767+ue][1]=X,w[32767+ue][0]=ue;for(var de=-($-1);de<=-T;de++)N[32767+de]=X,w[32767+de]=[],w[32767+de][1]=X,w[32767+de][0]=$-1+de;T<<=1,$<<=1}})(),(function(){for(var T=0;T<256;T++)le[T]=19595*T,le[T+256|0]=38470*T,le[T+512|0]=7471*T+32768,le[T+768|0]=-11059*T,le[T+1024|0]=-21709*T,le[T+1280|0]=32768*T+8421375,le[T+1536|0]=-27439*T,le[T+1792|0]=-5329*T})(),J(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function oa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Iv(t){function e(K){if(!K)throw Error("assert :P")}function r(K,pe,I){for(var W=0;4>W;W++)if(K[pe+W]!=I.charCodeAt(W))return!0;return!1}function n(K,pe,I,W,ae){for(var ie=0;ie<ae;ie++)K[pe+ie]=I[W+ie]}function a(K,pe,I,W){for(var ae=0;ae<W;ae++)K[pe+ae]=I}function o(K){return new Int32Array(K)}function l(K,pe){for(var I=[],W=0;W<K;W++)I.push(new pe);return I}function c(K,pe){var I=[];return(function W(ae,ie,oe){for(var V=oe[ie],ee=0;ee<V&&(ae.push(oe.length>ie+1?[]:new pe),!(oe.length<ie+1));ee++)W(ae[ee],ie+1,oe)})(I,0,K),I}var d=function(){var K=this;function pe(f,y){for(var S=1<<y-1>>>0;f&S;)S>>>=1;return S?(f&S-1)+S:f}function I(f,y,S,L,R){e(!(L%S));do f[y+(L-=S)]=R;while(0<L)}function W(f,y,S,L,R){if(e(2328>=R),512>=R)var B=o(512);else if((B=o(R))==null)return 0;return(function(z,H,Y,te,ve,ke){var re,xe,Ne=H,Oe=1<<Y,je=o(16),Le=o(16);for(e(ve!=0),e(te!=null),e(z!=null),e(0<Y),xe=0;xe<ve;++xe){if(15<te[xe])return 0;++je[te[xe]]}if(je[0]==ve)return 0;for(Le[1]=0,re=1;15>re;++re){if(je[re]>1<<re)return 0;Le[re+1]=Le[re]+je[re]}for(xe=0;xe<ve;++xe)re=te[xe],0<te[xe]&&(ke[Le[re]++]=xe);if(Le[15]==1)return(te=new ae).g=0,te.value=ke[0],I(z,Ne,1,Oe,te),Oe;var Te,Ie=-1,Fe=Oe-1,gt=0,et=1,Bt=1,at=1<<Y;for(xe=0,re=1,ve=2;re<=Y;++re,ve<<=1){if(et+=Bt<<=1,0>(Bt-=je[re]))return 0;for(;0<je[re];--je[re])(te=new ae).g=re,te.value=ke[xe++],I(z,Ne+gt,ve,at,te),gt=pe(gt,re)}for(re=Y+1,ve=2;15>=re;++re,ve<<=1){if(et+=Bt<<=1,0>(Bt-=je[re]))return 0;for(;0<je[re];--je[re]){if(te=new ae,(gt&Fe)!=Ie){for(Ne+=at,Te=1<<(Ie=re)-Y;15>Ie&&!(0>=(Te-=je[Ie]));)++Ie,Te<<=1;Oe+=at=1<<(Te=Ie-Y),z[H+(Ie=gt&Fe)].g=Te+Y,z[H+Ie].value=Ne-H-Ie}te.g=re-Y,te.value=ke[xe++],I(z,Ne+(gt>>Y),ve,at,te),gt=pe(gt,re)}}return et!=2*Le[15]-1?0:Oe})(f,y,S,L,R,B)}function ae(){this.value=this.g=0}function ie(){this.value=this.g=0}function oe(){this.G=l(5,ae),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Vi,ie)}function V(f,y,S,L){e(f!=null),e(y!=null),e(2147483648>L),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=y,f.pa=S,f.Jd=y,f.Yc=S+L,f.Zc=4<=L?S+L-4+1:S,fe(f)}function ee(f,y){for(var S=0;0<y--;)S|=_e(f,128)<<y;return S}function F(f,y){var S=ee(f,y);return ge(f)?-S:S}function ce(f,y,S,L){var R,B=0;for(e(f!=null),e(y!=null),e(4294967288>L),f.Sb=L,f.Ra=0,f.u=0,f.h=0,4<L&&(L=4),R=0;R<L;++R)B+=y[S+R]<<8*R;f.Ra=B,f.bb=L,f.oa=y,f.pa=S}function we(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<La-8>>>0,++f.bb,f.u-=8;ue(f)&&(f.h=1,f.u=0)}function J(f,y){if(e(0<=y),!f.h&&y<=Pi){var S=X(f)&Li[y];return f.u+=y,we(f),S}return f.h=1,f.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(f){return f.Ra>>>(f.u&La-1)>>>0}function ue(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>La}function de(f,y){f.u=y,f.h=ue(f)}function ne(f){f.u>=Ps&&(e(f.u>=Ps),we(f))}function fe(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ge(f){return ee(f,1)}function _e(f,y){var S=f.Ca;0>f.b&&fe(f);var L=f.b,R=S*y>>>8,B=(f.I>>>L>R)+0;for(B?(S-=R,f.I-=R+1<<L>>>0):S=R+1,L=S,R=0;256<=L;)R+=8,L>>=8;return L=7^R+Ks[L],f.b-=L,f.Ca=(S<<L)-1,B}function Pe(f,y,S){f[y+0]=S>>24&255,f[y+1]=S>>16&255,f[y+2]=S>>8&255,f[y+3]=255&S}function Me(f,y){return f[y+0]|f[y+1]<<8}function $e(f,y){return Me(f,y)|f[y+2]<<16}function Ke(f,y){return Me(f,y)|Me(f,y+2)<<16}function Z(f,y){var S=1<<y;return e(f!=null),e(0<y),f.X=o(S),f.X==null?0:(f.Mb=32-y,f.Xa=y,1)}function He(f,y){e(f!=null),e(y!=null),e(f.Xa==y.Xa),n(y.X,0,f.X,0,1<<y.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function yt(f,y,S,L){e(S!=null),e(L!=null);var R=S[0],B=L[0];return R==0&&(R=(f*B+y/2)/y),B==0&&(B=(y*R+f/2)/f),0>=R||0>=B?0:(S[0]=R,L[0]=B,1)}function De(f,y){return f+(1<<y)-1>>>y}function wt(f,y){return((4278255360&f)+(4278255360&y)>>>0&4278255360)+((16711935&f)+(16711935&y)>>>0&16711935)>>>0}function Ye(f,y){K[y]=function(S,L,R,B,z,H,Y){var te;for(te=0;te<z;++te){var ve=K[f](H[Y+te-1],R,B+te);H[Y+te]=wt(S[L+te],ve)}}}function Qe(){this.ud=this.hd=this.jd=0}function ot(f,y){return((4278124286&(f^y))>>>1)+(f&y)>>>0}function ir(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Kt(f,y){return ir(f+(f-y+.5>>1))}function Et(f,y,S){return Math.abs(y-S)-Math.abs(f-S)}function Jt(f,y,S,L,R,B,z){for(L=B[z-1],S=0;S<R;++S)B[z+S]=L=wt(f[y+S],L)}function Ut(f,y,S,L,R){var B;for(B=0;B<S;++B){var z=f[y+B],H=z>>8&255,Y=16711935&(Y=(Y=16711935&z)+((H<<16)+H));L[R+B]=(4278255360&z)+Y>>>0}}function rt(f,y){y.jd=255&f,y.hd=f>>8&255,y.ud=f>>16&255}function kt(f,y,S,L,R,B){var z;for(z=0;z<L;++z){var H=y[S+z],Y=H>>>8,te=H,ve=255&(ve=(ve=H>>>16)+((f.jd<<24>>24)*(Y<<24>>24)>>>5));te=255&(te=(te+=(f.hd<<24>>24)*(Y<<24>>24)>>>5)+((f.ud<<24>>24)*(ve<<24>>24)>>>5)),R[B+z]=(4278255360&H)+(ve<<16)+te}}function nt(f,y,S,L,R){K[y]=function(B,z,H,Y,te,ve,ke,re,xe){for(Y=ke;Y<re;++Y)for(ke=0;ke<xe;++ke)te[ve++]=R(H[L(B[z++])])},K[f]=function(B,z,H,Y,te,ve,ke){var re=8>>B.b,xe=B.Ea,Ne=B.K[0],Oe=B.w;if(8>re)for(B=(1<<B.b)-1,Oe=(1<<re)-1;z<H;++z){var je,Le=0;for(je=0;je<xe;++je)je&B||(Le=L(Y[te++])),ve[ke++]=R(Ne[Le&Oe]),Le>>=re}else K["VP8LMapColor"+S](Y,te,Ne,Oe,ve,ke,z,H,xe)}}function wr(f,y,S,L,R){for(S=y+S;y<S;){var B=f[y++];L[R++]=B>>16&255,L[R++]=B>>8&255,L[R++]=255&B}}function Qt(f,y,S,L,R){for(S=y+S;y<S;){var B=f[y++];L[R++]=B>>16&255,L[R++]=B>>8&255,L[R++]=255&B,L[R++]=B>>24&255}}function zt(f,y,S,L,R){for(S=y+S;y<S;){var B=(z=f[y++])>>16&240|z>>12&15,z=240&z|z>>28&15;L[R++]=B,L[R++]=z}}function qt(f,y,S,L,R){for(S=y+S;y<S;){var B=(z=f[y++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;L[R++]=B,L[R++]=z}}function mr(f,y,S,L,R){for(S=y+S;y<S;){var B=f[y++];L[R++]=255&B,L[R++]=B>>8&255,L[R++]=B>>16&255}}function xt(f,y,S,L,R,B){if(B==0)for(S=y+S;y<S;)Pe(L,((B=f[y++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),R+=32;else n(L,R,f,y,S)}function ar(f,y){K[y][0]=K[f+"0"],K[y][1]=K[f+"1"],K[y][2]=K[f+"2"],K[y][3]=K[f+"3"],K[y][4]=K[f+"4"],K[y][5]=K[f+"5"],K[y][6]=K[f+"6"],K[y][7]=K[f+"7"],K[y][8]=K[f+"8"],K[y][9]=K[f+"9"],K[y][10]=K[f+"10"],K[y][11]=K[f+"11"],K[y][12]=K[f+"12"],K[y][13]=K[f+"13"],K[y][14]=K[f+"0"],K[y][15]=K[f+"0"]}function ht(f){return f==sl||f==_o||f==Gl||f==Kl}function Tt(){this.eb=[],this.size=this.A=this.fb=0}function cr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tt,this.f.kb=new cr,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Je(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kr(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function rr(f,y){var S=f.T,L=y.ba.f.RGBA,R=L.eb,B=L.fb+f.ka*L.A,z=pi[y.ba.S],H=f.y,Y=f.O,te=f.f,ve=f.N,ke=f.ea,re=f.W,xe=y.cc,Ne=y.dc,Oe=y.Mc,je=y.Nc,Le=f.ka,Te=f.ka+f.T,Ie=f.U,Fe=Ie+1>>1;for(Le==0?z(H,Y,null,null,te,ve,ke,re,te,ve,ke,re,R,B,null,null,Ie):(z(y.ec,y.fc,H,Y,xe,Ne,Oe,je,te,ve,ke,re,R,B-L.A,R,B,Ie),++S);Le+2<Te;Le+=2)xe=te,Ne=ve,Oe=ke,je=re,ve+=f.Rc,re+=f.Rc,B+=2*L.A,z(H,(Y+=2*f.fa)-f.fa,H,Y,xe,Ne,Oe,je,te,ve,ke,re,R,B-L.A,R,B,Ie);return Y+=f.fa,f.j+Te<f.o?(n(y.ec,y.fc,H,Y,Ie),n(y.cc,y.dc,te,ve,Fe),n(y.Mc,y.Nc,ke,re,Fe),S--):1&Te||z(H,Y,null,null,te,ve,ke,re,te,ve,ke,re,R,B+L.A,null,null,Ie),S}function Mr(f,y,S){var L=f.F,R=[f.J];if(L!=null){var B=f.U,z=y.ba.S,H=z==Hl||z==Gl;y=y.ba.f.RGBA;var Y=[0],te=f.ka;Y[0]=f.T,f.Kb&&(te==0?--Y[0]:(--te,R[0]-=f.width),f.j+f.ka+f.T==f.o&&(Y[0]=f.o-f.j-te));var ve=y.eb;te=y.fb+te*y.A,f=Wl(L,R[0],f.width,B,Y,ve,te+(H?0:3),y.A),e(S==Y),f&&ht(z)&&bo(ve,te,H,B,Y,y.A)}return 0}function Rn(f){var y=f.ma,S=y.ba.S,L=11>S,R=S==Ra||S==Vl||S==Hl||S==Ar||S==12||ht(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Qo(y.Oa,f,R?11:12))return 0;if(R&&ht(S)&&uo(),f.da)alert("todo:use_scaling");else{if(L){if(y.Ib=kr,f.Kb){if(S=f.U+1>>1,y.memory=o(f.U+2*S),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+f.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=rr,uo()}}else alert("todo:EmitYUV");R&&(y.Jb=Mr,L&&ss())}if(L&&!Mn){for(f=0;256>f;++f)mi[f]=89858*(f-128)+cs>>Qs,gi[f]=-22014*(f-128)+cs,cl[f]=-45773*(f-128),Ao[f]=113618*(f-128)+cs>>Qs;for(f=yr;f<_r;++f)y=76283*(f-16)+cs>>Qs,Fc[f-yr]=cn(y,255),zd[f-yr]=cn(y+8>>4,15);Mn=1}return 1}function Xe(f){var y=f.ma,S=f.U,L=f.T;return e(!(1&f.ka)),0>=S||0>=L?0:(S=y.Ib(f,y),y.Jb!=null&&y.Jb(f,y,S),y.Dc+=S,1)}function Tr(f){f.ma.memory=null}function Hn(f,y,S,L){return J(f,8)!=47?0:(y[0]=J(f,14)+1,S[0]=J(f,14)+1,L[0]=J(f,1),J(f,3)!=0?0:!f.h)}function xr(f,y){if(4>f)return f+1;var S=f-2>>1;return(2+(1&f)<<S)+J(y,S)+1}function Br(f,y){return 120<y?y-120:1<=(S=((S=wf[y-1])>>4)*f+(8-(15&S)))?S:1;var S}function gr(f,y,S){var L=X(S),R=f[y+=255&L].g-8;return 0<R&&(de(S,S.u+8),L=X(S),y+=f[y].value,y+=L&(1<<R)-1),de(S,S.u+f[y].g),f[y].value}function vr(f,y,S){return S.g+=f.g,S.value+=f.value<<y>>>0,e(8>=S.g),f.g}function Zr(f,y,S){var L=f.xc;return e((y=L==0?0:f.vc[f.md*(S>>L)+(y>>L)])<f.Wb),f.Ya[y]}function qs(f,y,S,L){var R=f.ab,B=f.c*y,z=f.C;y=z+y;var H=S,Y=L;for(L=f.Ta,S=f.Ua;0<R--;){var te=f.gc[R],ve=z,ke=y,re=H,xe=Y,Ne=(Y=L,H=S,te.Ea);switch(e(ve<ke),e(ke<=te.nc),te.hc){case 2:tn(re,xe,(ke-ve)*Ne,Y,H);break;case 0:var Oe=ve,je=ke,Le=Y,Te=H,Ie=(at=te).Ea;Oe==0&&(Js(re,xe,null,null,1,Le,Te),Jt(re,xe+1,0,0,Ie-1,Le,Te+1),xe+=Ie,Te+=Ie,++Oe);for(var Fe=1<<at.b,gt=Fe-1,et=De(Ie,at.b),Bt=at.K,at=at.w+(Oe>>at.b)*et;Oe<je;){var Zt=Bt,Jr=at,$t=1;for(Ts(re,xe,Le,Te-Ie,1,Le,Te);$t<Ie;){var tt=($t&~gt)+Fe;tt>Ie&&(tt=Ie),(0,vo[Zt[Jr++]>>8&15])(re,xe+ +$t,Le,Te+$t-Ie,tt-$t,Le,Te+$t),$t=tt}xe+=Ie,Te+=Ie,++Oe&gt||(at+=et)}ke!=te.nc&&n(Y,H-Ne,Y,H+(ke-ve-1)*Ne,Ne);break;case 1:for(Ne=re,je=xe,Ie=(re=te.Ea)-(Te=re&~(Le=(xe=1<<te.b)-1)),Oe=De(re,te.b),Fe=te.K,te=te.w+(ve>>te.b)*Oe;ve<ke;){for(gt=Fe,et=te,Bt=new Qe,at=je+Te,Zt=je+re;je<at;)rt(gt[et++],Bt),el(Bt,Ne,je,xe,Y,H),je+=xe,H+=xe;je<Zt&&(rt(gt[et++],Bt),el(Bt,Ne,je,Ie,Y,H),je+=Ie,H+=Ie),++ve&Le||(te+=Oe)}break;case 3:if(re==Y&&xe==H&&0<te.b){for(je=Y,re=Ne=H+(ke-ve)*Ne-(Te=(ke-ve)*De(te.Ea,te.b)),xe=Y,Le=H,Oe=[],Te=(Ie=Te)-1;0<=Te;--Te)Oe[Te]=xe[Le+Te];for(Te=Ie-1;0<=Te;--Te)je[re+Te]=Oe[Te];mo(te,ve,ke,Y,Ne,Y,H)}else mo(te,ve,ke,re,xe,Y,H)}H=L,Y=S}Y!=S&&n(L,S,H,Y,B)}function ba(f,y){var S=f.V,L=f.Ba+f.c*f.C,R=y-f.C;if(e(y<=f.l.o),e(16>=R),0<R){var B=f.l,z=f.Ta,H=f.Ua,Y=B.width;if(qs(f,R,S,L),R=H=[H],e((S=f.C)<(L=y)),e(B.v<B.va),L>B.o&&(L=B.o),S<B.j){var te=B.j-S;S=B.j,R[0]+=te*Y}if(S>=L?S=0:(R[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=L-S,S=1),S){if(H=H[0],11>(S=f.ca).S){var ve=S.f.RGBA,ke=(L=S.S,R=B.U,B=B.T,te=ve.eb,ve.A),re=B;for(ve=ve.fb+f.Ma*ve.A;0<re--;){var xe=z,Ne=H,Oe=R,je=te,Le=ve;switch(L){case Oc:tl(xe,Ne,Oe,je,Le);break;case Ra:Ys(xe,Ne,Oe,je,Le);break;case sl:Ys(xe,Ne,Oe,je,Le),bo(je,Le,0,Oe,1,0);break;case Dd:yo(xe,Ne,Oe,je,Le);break;case Vl:xt(xe,Ne,Oe,je,Le,1);break;case _o:xt(xe,Ne,Oe,je,Le,1),bo(je,Le,0,Oe,1,0);break;case Hl:xt(xe,Ne,Oe,je,Le,0);break;case Gl:xt(xe,Ne,Oe,je,Le,0),bo(je,Le,1,Oe,1,0);break;case Ar:Pa(xe,Ne,Oe,je,Le);break;case Kl:Pa(xe,Ne,Oe,je,Le),Mu(je,Le,Oe,1,0);break;case Rc:Ta(xe,Ne,Oe,je,Le);break;default:e(0)}H+=Y,ve+=ke}f.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=S.height)}}f.C=y,e(f.C<=f.i)}function ts(f){var y;if(0<f.ua)return 0;for(y=0;y<f.Wb;++y){var S=f.Ya[y].G,L=f.Ya[y].H;if(0<S[1][L[1]+0].g||0<S[2][L[2]+0].g||0<S[3][L[3]+0].g)return 0}return 1}function Ns(f,y,S,L,R,B){if(f.Z!=0){var z=f.qd,H=f.rd;for(e(Kn[f.Z]!=null);y<S;++y)Kn[f.Z](z,H,L,R,L,R,B),z=L,H=R,R+=B;f.qd=z,f.rd=H}}function In(f,y){var S=f.l.ma,L=S.Z==0||S.Z==1?f.l.j:f.C;if(L=f.C<L?L:f.C,e(y<=f.l.o),y>L){var R=f.l.width,B=S.ca,z=S.tb+R*L,H=f.V,Y=f.Ba+f.c*L,te=f.gc;e(f.ab==1),e(te[0].hc==3),os(te[0],L,y,H,Y,B,z),Ns(S,L,y,B,z,R)}f.C=f.Ma=y}function Mi(f,y,S,L,R,B,z){var H=f.$/L,Y=f.$%L,te=f.m,ve=f.s,ke=S+f.$,re=ke;R=S+L*R;var xe=S+L*B,Ne=280+ve.ua,Oe=f.Pb?H:16777216,je=0<ve.ua?ve.Wa:null,Le=ve.wc,Te=ke<xe?Zr(ve,Y,H):null;e(f.C<B),e(xe<=R);var Ie=!1;e:for(;;){for(;Ie||ke<xe;){var Fe=0;if(H>=Oe){var gt=ke-S;e((Oe=f).Pb),Oe.wd=Oe.m,Oe.xd=gt,0<Oe.s.ua&&He(Oe.s.Wa,Oe.s.vb),Oe=H+Dc}if(Y&Le||(Te=Zr(ve,Y,H)),e(Te!=null),Te.Qb&&(y[ke]=Te.qb,Ie=!0),!Ie)if(ne(te),Te.jc){Fe=te,gt=y;var et=ke,Bt=Te.pd[X(Fe)&Vi-1];e(Te.jc),256>Bt.g?(de(Fe,Fe.u+Bt.g),gt[et]=Bt.value,Fe=0):(de(Fe,Fe.u+Bt.g-256),e(256<=Bt.value),Fe=Bt.value),Fe==0&&(Ie=!0)}else Fe=gr(Te.G[0],Te.H[0],te);if(te.h)break;if(Ie||256>Fe){if(!Ie)if(Te.nd)y[ke]=(Te.qb|Fe<<8)>>>0;else{if(ne(te),Ie=gr(Te.G[1],Te.H[1],te),ne(te),gt=gr(Te.G[2],Te.H[2],te),et=gr(Te.G[3],Te.H[3],te),te.h)break;y[ke]=(et<<24|Ie<<16|Fe<<8|gt)>>>0}if(Ie=!1,++ke,++Y>=L&&(Y=0,++H,z!=null&&H<=B&&!(H%16)&&z(f,H),je!=null))for(;re<ke;)Fe=y[re++],je.X[(506832829*Fe&4294967295)>>>je.Mb]=Fe}else if(280>Fe){if(Fe=xr(Fe-256,te),gt=gr(Te.G[4],Te.H[4],te),ne(te),gt=Br(L,gt=xr(gt,te)),te.h)break;if(ke-S<gt||R-ke<Fe)break e;for(et=0;et<Fe;++et)y[ke+et]=y[ke+et-gt];for(ke+=Fe,Y+=Fe;Y>=L;)Y-=L,++H,z!=null&&H<=B&&!(H%16)&&z(f,H);if(e(ke<=R),Y&Le&&(Te=Zr(ve,Y,H)),je!=null)for(;re<ke;)Fe=y[re++],je.X[(506832829*Fe&4294967295)>>>je.Mb]=Fe}else{if(!(Fe<Ne))break e;for(Ie=Fe-280,e(je!=null);re<ke;)Fe=y[re++],je.X[(506832829*Fe&4294967295)>>>je.Mb]=Fe;Fe=ke,e(!(Ie>>>(gt=je).Xa)),y[Fe]=gt.X[Ie],Ie=!0}Ie||e(te.h==ue(te))}if(f.Pb&&te.h&&ke<R)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&He(f.s.vb,f.s.Wa);else{if(te.h)break e;z!=null&&z(f,H>B?B:H),f.a=0,f.$=ke-S}return 1}return f.a=3,0}function Ni(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var y=f.Wa;y!=null&&(y.X=null),f.vb=null,e(f!=null)}function Ya(){var f=new It;return f==null?null:(f.a=0,f.xb=ol,ar("Predictor","VP8LPredictors"),ar("Predictor","VP8LPredictors_C"),ar("PredictorAdd","VP8LPredictorsAdd"),ar("PredictorAdd","VP8LPredictorsAdd_C"),tn=Ut,el=kt,tl=wr,Ys=Qt,Pa=zt,Ta=qt,yo=mr,K.VP8LMapColor32b=Os,K.VP8LMapColor8b=go,f)}function rs(f,y,S,L,R){var B=1,z=[f],H=[y],Y=L.m,te=L.s,ve=null,ke=0;e:for(;;){if(S)for(;B&&J(Y,1);){var re=z,xe=H,Ne=L,Oe=1,je=Ne.m,Le=Ne.gc[Ne.ab],Te=J(je,2);if(Ne.Oc&1<<Te)B=0;else{switch(Ne.Oc|=1<<Te,Le.hc=Te,Le.Ea=re[0],Le.nc=xe[0],Le.K=[null],++Ne.ab,e(4>=Ne.ab),Te){case 0:case 1:Le.b=J(je,3)+2,Oe=rs(De(Le.Ea,Le.b),De(Le.nc,Le.b),0,Ne,Le.K),Le.K=Le.K[0];break;case 3:var Ie,Fe=J(je,8)+1,gt=16<Fe?0:4<Fe?1:2<Fe?2:3;if(re[0]=De(Le.Ea,gt),Le.b=gt,Ie=Oe=rs(Fe,1,0,Ne,Le.K)){var et,Bt=Fe,at=Le,Zt=1<<(8>>at.b),Jr=o(Zt);if(Jr==null)Ie=0;else{var $t=at.K[0],tt=at.w;for(Jr[0]=at.K[0][0],et=1;et<1*Bt;++et)Jr[et]=wt($t[tt+et],Jr[et-1]);for(;et<4*Zt;++et)Jr[et]=0;at.K[0]=null,at.K[0]=Jr,Ie=1}}Oe=Ie;break;case 2:break;default:e(0)}B=Oe}}if(z=z[0],H=H[0],B&&J(Y,1)&&!(B=1<=(ke=J(Y,4))&&11>=ke)){L.a=3;break e}var Ge;if(Ge=B)t:{var rn,Ot,Yt,Rr=L,En=z,fn=H,Vr=ke,bn=S,Cn=Rr.m,Ur=Rr.s,tr=[null],dr=1,zr=0,hr=Md[Vr];r:for(;;){if(bn&&J(Cn,1)){var Yr=J(Cn,3)+2,Xr=De(En,Yr),jr=De(fn,Yr),Jn=Xr*jr;if(!rs(Xr,jr,0,Rr,tr))break r;for(tr=tr[0],Ur.xc=Yr,rn=0;rn<Jn;++rn){var Sr=tr[rn]>>8&65535;tr[rn]=Sr,Sr>=dr&&(dr=Sr+1)}}if(Cn.h)break r;for(Ot=0;5>Ot;++Ot){var Er=So[Ot];!Ot&&0<Vr&&(Er+=1<<Vr),zr<Er&&(zr=Er)}var pn=l(dr*hr,ae),Bn=dr,vi=l(Bn,oe);if(vi==null)var nn=null;else e(65536>=Bn),nn=vi;var sn=o(zr);if(nn==null||sn==null||pn==null){Rr.a=1;break r}var Yn=pn;for(rn=Yt=0;rn<dr;++rn){var Cr=nn[rn],Xn=Cr.G,Ki=Cr.H,us=0,Ln=1,an=0;for(Ot=0;5>Ot;++Ot){Er=So[Ot],Xn[Ot]=Yn,Ki[Ot]=Yt,!Ot&&0<Vr&&(Er+=1<<Vr);i:{var Fa,ea=Er,ul=Rr,Ds=sn,$d=Yn,Yu=Yt,Dr=0,ds=ul.m,Xu=J(ds,1);if(a(Ds,0,0,ea),Xu){var Qu=J(ds,1)+1,Mc=J(ds,1),Bc=J(ds,Mc==0?1:8);Ds[Bc]=1,Qu==2&&(Ds[Bc=J(ds,8)]=1);var Fs=1}else{var qr=o(19),mn=J(ds,4)+4;if(19<mn){ul.a=3;var on=0;break i}for(Fa=0;Fa<mn;++Fa)qr[yf[Fa]]=J(ds,3);var dl=void 0,ta=void 0,hl=ul,Nf=qr,_n=ea,Uc=Ds,Zl=0,Ms=hl.m,hs=8,Ti=l(128,ae);n:for(;W(Ti,0,7,Nf,19);){if(J(Ms,1)){var ec=2+2*J(Ms,3);if((dl=2+J(Ms,ec))>_n)break n}else dl=_n;for(ta=0;ta<_n&&dl--;){ne(Ms);var zc=Ti[0+(127&X(Ms))];de(Ms,Ms.u+zc.g);var Ma=zc.value;if(16>Ma)Uc[ta++]=Ma,Ma!=0&&(hs=Ma);else{var Wd=Ma==16,Zu=Ma-16,Vd=Ic[Zu],ed=J(Ms,Jl[Zu])+Vd;if(ta+ed>_n)break n;for(var Hd=Wd?hs:0;0<ed--;)Uc[ta++]=Hd}}Zl=1;break n}Zl||(hl.a=3),Fs=Zl}(Fs=Fs&&!ds.h)&&(Dr=W($d,Yu,8,Ds,ea)),Fs&&Dr!=0?on=Dr:(ul.a=3,on=0)}if(on==0)break r;if(Ln&&Fd[Ot]==1&&(Ln=Yn[Yt].g==0),us+=Yn[Yt].g,Yt+=on,3>=Ot){var fl,qc=sn[0];for(fl=1;fl<Er;++fl)sn[fl]>qc&&(qc=sn[fl]);an+=qc}}if(Cr.nd=Ln,Cr.Qb=0,Ln&&(Cr.qb=(Xn[3][Ki[3]+0].value<<24|Xn[1][Ki[1]+0].value<<16|Xn[2][Ki[2]+0].value)>>>0,us==0&&256>Xn[0][Ki[0]+0].value&&(Cr.Qb=1,Cr.qb+=Xn[0][Ki[0]+0].value<<8)),Cr.jc=!Cr.Qb&&6>an,Cr.jc){var tc,Oi=Cr;for(tc=0;tc<Vi;++tc){var ra=tc,fs=Oi.pd[ra],Eo=Oi.G[0][Oi.H[0]+ra];256<=Eo.value?(fs.g=Eo.g+256,fs.value=Eo.value):(fs.g=0,fs.value=0,ra>>=vr(Eo,8,fs),ra>>=vr(Oi.G[1][Oi.H[1]+ra],16,fs),ra>>=vr(Oi.G[2][Oi.H[2]+ra],0,fs),vr(Oi.G[3][Oi.H[3]+ra],24,fs))}}}Ur.vc=tr,Ur.Wb=dr,Ur.Ya=nn,Ur.yc=pn,Ge=1;break t}Ge=0}if(!(B=Ge)){L.a=3;break e}if(0<ke){if(te.ua=1<<ke,!Z(te.Wa,ke)){L.a=1,B=0;break e}}else te.ua=0;var $c=L,Wc=z,Gd=H,Vc=$c.s,Hc=Vc.xc;if($c.c=Wc,$c.i=Gd,Vc.md=De(Wc,Hc),Vc.wc=Hc==0?-1:(1<<Hc)-1,S){L.xb=Is;break e}if((ve=o(z*H))==null){L.a=1,B=0;break e}B=(B=Mi(L,ve,0,z,H,H,null))&&!Y.h;break e}return B?(R!=null?R[0]=ve:(e(ve==null),e(S)),L.$=0,S||Ni(te)):Ni(te),B}function _a(f,y){var S=f.c*f.i,L=S+y+16*y;return e(f.c<=y),f.V=o(L),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+S+y,1)}function Xa(f,y){var S=f.C,L=y-S,R=f.V,B=f.Ba+f.c*S;for(e(y<=f.l.o);0<L;){var z=16<L?16:L,H=f.l.ma,Y=f.l.width,te=Y*z,ve=H.ca,ke=H.tb+Y*S,re=f.Ta,xe=f.Ua;qs(f,z,R,B),Bu(re,xe,ve,ke,te),Ns(H,S,S+z,ve,ke,Y),L-=z,R+=z*f.c,S+=z}e(S==y),f.C=f.Ma=y}function Qa(){this.ub=this.yd=this.td=this.Rb=0}function Uo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ru(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ir(){this.Yb=(function(){var f=[];return(function y(S,L,R){for(var B=R[L],z=0;z<B&&(S.push(R.length>L+1?[]:0),!(R.length<L+1));z++)y(S[z],L+1,R)})(f,0,[3,11]),f})()}function Sc(){this.jb=o(3),this.Wc=c([4,8],Ir),this.Xc=c([4,17],Ir)}function zo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ki(){this.ld=this.La=this.dd=this.tc=0}function Sa(){this.Na=this.la=0}function Nc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Za(){this.uc=this.M=this.Nb=0,this.wa=Array(new ki),this.Y=0,this.ya=Array(new qo),this.aa=0,this.l=new $o}function Ai(){this.y=o(16),this.f=o(8),this.ea=o(8)}function kc(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Qa,this.Kc=new Uo,this.ed=new zo,this.Qa=new Ru,this.Ic=this.$c=this.Aa=0,this.D=new Za,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,T),this.ia=0,this.pb=l(4,Nc),this.Pa=new Sc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ai),this.Hd=0,this.rb=Array(new Sa),this.sb=0,this.wa=Array(new ki),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qo),this.L=this.aa=0,this.gd=c([4,2],ki),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cn(f,y){return 0>f?0:f>y?y:f}function $o(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Iu(){var f=new kc;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,No||(No=ks)),f}function un(f,y,S){return f.a==0&&(f.a=y,f.sc=S,f.cb=0),0}function eo(f,y,S){return 3<=S&&f[y+0]==157&&f[y+1]==1&&f[y+2]==42}function ji(f,y){if(f==null)return 0;if(f.a=0,f.sc="OK",y==null)return un(f,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,L=y.w,R=y.ha;if(4>R)return un(f,7,"Truncated header.");var B=S[L+0]|S[L+1]<<8|S[L+2]<<16,z=f.Od;if(z.Rb=!(1&B),z.td=B>>1&7,z.yd=B>>4&1,z.ub=B>>5,3<z.td)return un(f,3,"Incorrect keyframe parameters.");if(!z.yd)return un(f,4,"Frame not displayable.");L+=3,R-=3;var H=f.Kc;if(z.Rb){if(7>R)return un(f,7,"cannot parse picture header");if(!eo(S,L,R))return un(f,3,"Bad code word");H.c=16383&(S[L+4]<<8|S[L+3]),H.Td=S[L+4]>>6,H.i=16383&(S[L+6]<<8|S[L+5]),H.Ud=S[L+6]>>6,L+=7,R-=7,f.za=H.c+15>>4,f.Ub=H.i+15>>4,y.width=H.c,y.height=H.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,a((B=f.Pa).jb,0,255,B.jb.length),e((B=f.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,a(B.Zb,0,0,B.Zb.length),a(B.Lb,0,0,B.Lb)}if(z.ub>R)return un(f,7,"bad partition length");V(B=f.m,S,L,z.ub),L+=z.ub,R-=z.ub,z.Rb&&(H.Ld=ge(B),H.Kd=ge(B)),H=f.Qa;var Y,te=f.Pa;if(e(B!=null),e(H!=null),H.Cb=ge(B),H.Cb){if(H.Bb=ge(B),ge(B)){for(H.Fb=ge(B),Y=0;4>Y;++Y)H.Zb[Y]=ge(B)?F(B,7):0;for(Y=0;4>Y;++Y)H.Lb[Y]=ge(B)?F(B,6):0}if(H.Bb)for(Y=0;3>Y;++Y)te.jb[Y]=ge(B)?ee(B,8):255}else H.Bb=0;if(B.Ka)return un(f,3,"cannot parse segment header");if((H=f.ed).zd=ge(B),H.Tb=ee(B,6),H.wb=ee(B,3),H.Pc=ge(B),H.Pc&&ge(B)){for(te=0;4>te;++te)ge(B)&&(H.vd[te]=F(B,6));for(te=0;4>te;++te)ge(B)&&(H.od[te]=F(B,6))}if(f.L=H.Tb==0?0:H.zd?1:2,B.Ka)return un(f,3,"cannot parse filter header");var ve=R;if(R=Y=L,L=Y+ve,H=ve,f.Xb=(1<<ee(f.m,2))-1,ve<3*(te=f.Xb))S=7;else{for(Y+=3*te,H-=3*te,ve=0;ve<te;++ve){var ke=S[R+0]|S[R+1]<<8|S[R+2]<<16;ke>H&&(ke=H),V(f.Jc[+ve],S,Y,ke),Y+=ke,H-=ke,R+=3}V(f.Jc[+te],S,Y,H),S=Y<L?0:5}if(S!=0)return un(f,S,"cannot parse partitions");for(S=ee(Y=f.m,7),R=ge(Y)?F(Y,4):0,L=ge(Y)?F(Y,4):0,H=ge(Y)?F(Y,4):0,te=ge(Y)?F(Y,4):0,Y=ge(Y)?F(Y,4):0,ve=f.Qa,ke=0;4>ke;++ke){if(ve.Cb){var re=ve.Zb[ke];ve.Fb||(re+=S)}else{if(0<ke){f.pb[ke]=f.pb[0];continue}re=S}var xe=f.pb[ke];xe.Sc[0]=al[cn(re+R,127)],xe.Sc[1]=Yl[cn(re+0,127)],xe.Eb[0]=2*al[cn(re+L,127)],xe.Eb[1]=101581*Yl[cn(re+H,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=al[cn(re+te,117)],xe.Qc[1]=Yl[cn(re+Y,127)],xe.lc=re+Y}if(!z.Rb)return un(f,4,"Not a key frame.");for(ge(B),z=f.Pa,S=0;4>S;++S){for(R=0;8>R;++R)for(L=0;3>L;++L)for(H=0;11>H;++H)te=_e(B,bf[S][R][L][H])?ee(B,8):Ud[S][R][L][H],z.Wc[S][R].Yb[L][H]=te;for(R=0;17>R;++R)z.Xc[S][R]=z.Wc[S][Gu[R]]}return f.kc=ge(B),f.kc&&(f.Bd=ee(B,8)),f.cb=1}function ks(f,y,S,L,R,B,z){var H=y[R].Yb[S];for(S=0;16>R;++R){if(!_e(f,H[S+0]))return R;for(;!_e(f,H[S+1]);)if(H=y[++R].Yb[0],S=0,R==16)return 16;var Y=y[R+1].Yb;if(_e(f,H[S+2])){var te=f,ve=0;if(_e(te,(re=H)[(ke=S)+3]))if(_e(te,re[ke+6])){for(H=0,ke=2*(ve=_e(te,re[ke+8]))+(re=_e(te,re[ke+9+ve])),ve=0,re=Vu[ke];re[H];++H)ve+=ve+_e(te,re[H]);ve+=3+(8<<ke)}else _e(te,re[ke+7])?(ve=7+2*_e(te,165),ve+=_e(te,145)):ve=5+_e(te,159);else ve=_e(te,re[ke+4])?3+_e(te,re[ke+5]):2;H=Y[2]}else ve=1,H=Y[1];Y=z+Hu[R],0>(te=f).b&&fe(te);var ke,re=te.b,xe=(ke=te.Ca>>1)-(te.I>>re)>>31;--te.b,te.Ca+=xe,te.Ca|=1,te.I-=(ke+1&xe)<<re,B[Y]=((ve^xe)-xe)*L[(0<R)+0]}return 16}function to(f){var y=f.rb[f.sb-1];y.la=0,y.Na=0,a(f.zc,0,0,f.zc.length),f.ja=0}function Bi(f,y,S,L,R){R=f[y+S+32*L]+(R>>3),f[y+S+32*L]=-256&R?0>R?0:255:R}function wn(f,y,S,L,R,B){Bi(f,y,0,S,L+R),Bi(f,y,1,S,L+B),Bi(f,y,2,S,L-B),Bi(f,y,3,S,L-R)}function ns(f){return(20091*f>>16)+f}function Ol(f,y,S,L){var R,B=0,z=o(16);for(R=0;4>R;++R){var H=f[y+0]+f[y+8],Y=f[y+0]-f[y+8],te=(35468*f[y+4]>>16)-ns(f[y+12]),ve=ns(f[y+4])+(35468*f[y+12]>>16);z[B+0]=H+ve,z[B+1]=Y+te,z[B+2]=Y-te,z[B+3]=H-ve,B+=4,y++}for(R=B=0;4>R;++R)H=(f=z[B+0]+4)+z[B+8],Y=f-z[B+8],te=(35468*z[B+4]>>16)-ns(z[B+12]),Bi(S,L,0,0,H+(ve=ns(z[B+4])+(35468*z[B+12]>>16))),Bi(S,L,1,0,Y+te),Bi(S,L,2,0,Y-te),Bi(S,L,3,0,H-ve),B++,L+=32}function Rl(f,y,S,L){var R=f[y+0]+4,B=35468*f[y+4]>>16,z=ns(f[y+4]),H=35468*f[y+1]>>16;wn(S,L,0,R+z,f=ns(f[y+1]),H),wn(S,L,1,R+B,f,H),wn(S,L,2,R-B,f,H),wn(S,L,3,R-z,f,H)}function ro(f,y,S,L,R){Ol(f,y,S,L),R&&Ol(f,y+16,S,L+4)}function As(f,y,S,L){wo(f,y+0,S,L,1),wo(f,y+32,S,L+128,1)}function Wo(f,y,S,L){var R;for(f=f[y+0]+4,R=0;4>R;++R)for(y=0;4>y;++y)Bi(S,L,y,R,f)}function or(f,y,S,L){f[y+0]&&ur(f,y+0,S,L),f[y+16]&&ur(f,y+16,S,L+4),f[y+32]&&ur(f,y+32,S,L+128),f[y+48]&&ur(f,y+48,S,L+128+4)}function no(f,y,S,L){var R,B=o(16);for(R=0;4>R;++R){var z=f[y+0+R]+f[y+12+R],H=f[y+4+R]+f[y+8+R],Y=f[y+4+R]-f[y+8+R],te=f[y+0+R]-f[y+12+R];B[0+R]=z+H,B[8+R]=z-H,B[4+R]=te+Y,B[12+R]=te-Y}for(R=0;4>R;++R)z=(f=B[0+4*R]+3)+B[3+4*R],H=B[1+4*R]+B[2+4*R],Y=B[1+4*R]-B[2+4*R],te=f-B[3+4*R],S[L+0]=z+H>>3,S[L+16]=te+Y>>3,S[L+32]=z-H>>3,S[L+48]=te-Y>>3,L+=64}function Na(f,y,S){var L,R=y-32,B=ri,z=255-f[R-1];for(L=0;L<S;++L){var H,Y=B,te=z+f[y-1];for(H=0;H<S;++H)f[y+H]=Y[te+f[R+H]];y+=32}}function Il(f,y){Na(f,y,4)}function Ac(f,y){Na(f,y,8)}function jc(f,y){Na(f,y,16)}function Vo(f,y){var S;for(S=0;16>S;++S)n(f,y+32*S,f,y-32,16)}function Ho(f,y){var S;for(S=16;0<S;--S)a(f,y,f[y-1],16),y+=32}function ci(f,y,S){var L;for(L=0;16>L;++L)a(y,S+32*L,f,16)}function js(f,y){var S,L=16;for(S=0;16>S;++S)L+=f[y-1+32*S]+f[y+S-32];ci(L>>5,f,y)}function ui(f,y){var S,L=8;for(S=0;16>S;++S)L+=f[y-1+32*S];ci(L>>4,f,y)}function Ui(f,y){var S,L=8;for(S=0;16>S;++S)L+=f[y+S-32];ci(L>>4,f,y)}function io(f,y){ci(128,f,y)}function Ct(f,y,S){return f+2*y+S+2>>2}function Es(f,y){var S,L=y-32;for(L=new Uint8Array([Ct(f[L-1],f[L+0],f[L+1]),Ct(f[L+0],f[L+1],f[L+2]),Ct(f[L+1],f[L+2],f[L+3]),Ct(f[L+2],f[L+3],f[L+4])]),S=0;4>S;++S)n(f,y+32*S,L,0,L.length)}function Du(f,y){var S=f[y-1],L=f[y-1+32],R=f[y-1+64],B=f[y-1+96];Pe(f,y+0,16843009*Ct(f[y-1-32],S,L)),Pe(f,y+32,16843009*Ct(S,L,R)),Pe(f,y+64,16843009*Ct(L,R,B)),Pe(f,y+96,16843009*Ct(R,B,B))}function Ec(f,y){var S,L=4;for(S=0;4>S;++S)L+=f[y+S-32]+f[y-1+32*S];for(L>>=3,S=0;4>S;++S)a(f,y+32*S,L,4)}function Ei(f,y){var S=f[y-1+0],L=f[y-1+32],R=f[y-1+64],B=f[y-1-32],z=f[y+0-32],H=f[y+1-32],Y=f[y+2-32],te=f[y+3-32];f[y+0+96]=Ct(L,R,f[y-1+96]),f[y+1+96]=f[y+0+64]=Ct(S,L,R),f[y+2+96]=f[y+1+64]=f[y+0+32]=Ct(B,S,L),f[y+3+96]=f[y+2+64]=f[y+1+32]=f[y+0+0]=Ct(z,B,S),f[y+3+64]=f[y+2+32]=f[y+1+0]=Ct(H,z,B),f[y+3+32]=f[y+2+0]=Ct(Y,H,z),f[y+3+0]=Ct(te,Y,H)}function $s(f,y){var S=f[y+1-32],L=f[y+2-32],R=f[y+3-32],B=f[y+4-32],z=f[y+5-32],H=f[y+6-32],Y=f[y+7-32];f[y+0+0]=Ct(f[y+0-32],S,L),f[y+1+0]=f[y+0+32]=Ct(S,L,R),f[y+2+0]=f[y+1+32]=f[y+0+64]=Ct(L,R,B),f[y+3+0]=f[y+2+32]=f[y+1+64]=f[y+0+96]=Ct(R,B,z),f[y+3+32]=f[y+2+64]=f[y+1+96]=Ct(B,z,H),f[y+3+64]=f[y+2+96]=Ct(z,H,Y),f[y+3+96]=Ct(H,Y,Y)}function Cc(f,y){var S=f[y-1+0],L=f[y-1+32],R=f[y-1+64],B=f[y-1-32],z=f[y+0-32],H=f[y+1-32],Y=f[y+2-32],te=f[y+3-32];f[y+0+0]=f[y+1+64]=B+z+1>>1,f[y+1+0]=f[y+2+64]=z+H+1>>1,f[y+2+0]=f[y+3+64]=H+Y+1>>1,f[y+3+0]=Y+te+1>>1,f[y+0+96]=Ct(R,L,S),f[y+0+64]=Ct(L,S,B),f[y+0+32]=f[y+1+96]=Ct(S,B,z),f[y+1+32]=f[y+2+96]=Ct(B,z,H),f[y+2+32]=f[y+3+96]=Ct(z,H,Y),f[y+3+32]=Ct(H,Y,te)}function Go(f,y){var S=f[y+0-32],L=f[y+1-32],R=f[y+2-32],B=f[y+3-32],z=f[y+4-32],H=f[y+5-32],Y=f[y+6-32],te=f[y+7-32];f[y+0+0]=S+L+1>>1,f[y+1+0]=f[y+0+64]=L+R+1>>1,f[y+2+0]=f[y+1+64]=R+B+1>>1,f[y+3+0]=f[y+2+64]=B+z+1>>1,f[y+0+32]=Ct(S,L,R),f[y+1+32]=f[y+0+96]=Ct(L,R,B),f[y+2+32]=f[y+1+96]=Ct(R,B,z),f[y+3+32]=f[y+2+96]=Ct(B,z,H),f[y+3+64]=Ct(z,H,Y),f[y+3+96]=Ct(H,Y,te)}function so(f,y){var S=f[y-1+0],L=f[y-1+32],R=f[y-1+64],B=f[y-1+96];f[y+0+0]=S+L+1>>1,f[y+2+0]=f[y+0+32]=L+R+1>>1,f[y+2+32]=f[y+0+64]=R+B+1>>1,f[y+1+0]=Ct(S,L,R),f[y+3+0]=f[y+1+32]=Ct(L,R,B),f[y+3+32]=f[y+1+64]=Ct(R,B,B),f[y+3+64]=f[y+2+64]=f[y+0+96]=f[y+1+96]=f[y+2+96]=f[y+3+96]=B}function Dl(f,y){var S=f[y-1+0],L=f[y-1+32],R=f[y-1+64],B=f[y-1+96],z=f[y-1-32],H=f[y+0-32],Y=f[y+1-32],te=f[y+2-32];f[y+0+0]=f[y+2+32]=S+z+1>>1,f[y+0+32]=f[y+2+64]=L+S+1>>1,f[y+0+64]=f[y+2+96]=R+L+1>>1,f[y+0+96]=B+R+1>>1,f[y+3+0]=Ct(H,Y,te),f[y+2+0]=Ct(z,H,Y),f[y+1+0]=f[y+3+32]=Ct(S,z,H),f[y+1+32]=f[y+3+64]=Ct(L,S,z),f[y+1+64]=f[y+3+96]=Ct(R,L,S),f[y+1+96]=Ct(B,R,L)}function is(f,y){var S;for(S=0;8>S;++S)n(f,y+32*S,f,y-32,8)}function ao(f,y){var S;for(S=0;8>S;++S)a(f,y,f[y-1],8),y+=32}function di(f,y,S){var L;for(L=0;8>L;++L)a(y,S+32*L,f,8)}function Ko(f,y){var S,L=8;for(S=0;8>S;++S)L+=f[y+S-32]+f[y-1+32*S];di(L>>4,f,y)}function Fl(f,y){var S,L=4;for(S=0;8>S;++S)L+=f[y+S-32];di(L>>3,f,y)}function Ml(f,y){var S,L=4;for(S=0;8>S;++S)L+=f[y-1+32*S];di(L>>3,f,y)}function Jo(f,y){di(128,f,y)}function zi(f,y,S){var L=f[y-S],R=f[y+0],B=3*(R-L)+Rs[1020+f[y-2*S]-f[y+S]],z=il[112+(B+4>>3)];f[y-S]=ri[255+L+il[112+(B+3>>3)]],f[y+0]=ri[255+R-z]}function oo(f,y,S,L){var R=f[y+0],B=f[y+S];return Hi[255+f[y-2*S]-f[y-S]]>L||Hi[255+B-R]>L}function lo(f,y,S,L){return 4*Hi[255+f[y-S]-f[y+0]]+Hi[255+f[y-2*S]-f[y+S]]<=L}function qi(f,y,S,L,R){var B=f[y-3*S],z=f[y-2*S],H=f[y-S],Y=f[y+0],te=f[y+S],ve=f[y+2*S],ke=f[y+3*S];return 4*Hi[255+H-Y]+Hi[255+z-te]>L?0:Hi[255+f[y-4*S]-B]<=R&&Hi[255+B-z]<=R&&Hi[255+z-H]<=R&&Hi[255+ke-ve]<=R&&Hi[255+ve-te]<=R&&Hi[255+te-Y]<=R}function Ws(f,y,S,L){var R=2*L+1;for(L=0;16>L;++L)lo(f,y+L,S,R)&&zi(f,y+L,S)}function ka(f,y,S,L){var R=2*L+1;for(L=0;16>L;++L)lo(f,y+L*S,1,R)&&zi(f,y+L*S,1)}function Bl(f,y,S,L){var R;for(R=3;0<R;--R)Ws(f,y+=4*S,S,L)}function co(f,y,S,L){var R;for(R=3;0<R;--R)ka(f,y+=4,S,L)}function $i(f,y,S,L,R,B,z,H){for(B=2*B+1;0<R--;){if(qi(f,y,S,B,z))if(oo(f,y,S,H))zi(f,y,S);else{var Y=f,te=y,ve=S,ke=Y[te-2*ve],re=Y[te-ve],xe=Y[te+0],Ne=Y[te+ve],Oe=Y[te+2*ve],je=27*(Te=Rs[1020+3*(xe-re)+Rs[1020+ke-Ne]])+63>>7,Le=18*Te+63>>7,Te=9*Te+63>>7;Y[te-3*ve]=ri[255+Y[te-3*ve]+Te],Y[te-2*ve]=ri[255+ke+Le],Y[te-ve]=ri[255+re+je],Y[te+0]=ri[255+xe-je],Y[te+ve]=ri[255+Ne-Le],Y[te+2*ve]=ri[255+Oe-Te]}y+=L}}function Cs(f,y,S,L,R,B,z,H){for(B=2*B+1;0<R--;){if(qi(f,y,S,B,z))if(oo(f,y,S,H))zi(f,y,S);else{var Y=f,te=y,ve=S,ke=Y[te-ve],re=Y[te+0],xe=Y[te+ve],Ne=il[112+(4+(Oe=3*(re-ke))>>3)],Oe=il[112+(Oe+3>>3)],je=Ne+1>>1;Y[te-2*ve]=ri[255+Y[te-2*ve]+je],Y[te-ve]=ri[255+ke+Oe],Y[te+0]=ri[255+re-Ne],Y[te+ve]=ri[255+xe-je]}y+=L}}function Gn(f,y,S,L,R,B){$i(f,y,S,1,16,L,R,B)}function Wi(f,y,S,L,R,B){$i(f,y,1,S,16,L,R,B)}function Yo(f,y,S,L,R,B){var z;for(z=3;0<z;--z)Cs(f,y+=4*S,S,1,16,L,R,B)}function x(f,y,S,L,R,B){var z;for(z=3;0<z;--z)Cs(f,y+=4,1,S,16,L,R,B)}function D(f,y,S,L,R,B,z,H){$i(f,y,R,1,8,B,z,H),$i(S,L,R,1,8,B,z,H)}function se(f,y,S,L,R,B,z,H){$i(f,y,1,R,8,B,z,H),$i(S,L,1,R,8,B,z,H)}function me(f,y,S,L,R,B,z,H){Cs(f,y+4*R,R,1,8,B,z,H),Cs(S,L+4*R,R,1,8,B,z,H)}function Se(f,y,S,L,R,B,z,H){Cs(f,y+4,1,R,8,B,z,H),Cs(S,L+4,1,R,8,B,z,H)}function Re(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Je,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Be(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function st(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function mt(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new ae}function It(){this.xb=this.a=0,this.l=new $o,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new mt,this.ab=0,this.gc=l(4,st),this.Oc=0}function Mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $o,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sr(f,y,S,L,R,B,z){for(f=f==null?0:f[y+0],y=0;y<z;++y)R[B+y]=f+S[L+y]&255,f=R[B+y]}function Wr(f,y,S,L,R,B,z){var H;if(f==null)sr(null,null,S,L,R,B,z);else for(H=0;H<z;++H)R[B+H]=f[y+H]+S[L+H]&255}function dn(f,y,S,L,R,B,z){if(f==null)sr(null,null,S,L,R,B,z);else{var H,Y=f[y+0],te=Y,ve=Y;for(H=0;H<z;++H)te=ve+(Y=f[y+H])-te,ve=S[L+H]+(-256&te?0>te?0:255:te)&255,te=Y,R[B+H]=ve}}function Or(f,y,S,L){var R=y.width,B=y.o;if(e(f!=null&&y!=null),0>S||0>=L||S+L>B)return null;if(!f.Cc){if(f.ga==null){var z;if(f.ga=new Mt,(z=f.ga==null)||(z=y.width*y.o,e(f.Gb.length==0),f.Gb=o(z),f.Uc=0,f.Gb==null?z=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,z=1),z=!z),!z){z=f.ga;var H=f.Fa,Y=f.P,te=f.qc,ve=f.mb,ke=f.nb,re=Y+1,xe=te-1,Ne=z.l;if(e(H!=null&&ve!=null&&y!=null),Kn[0]=null,Kn[1]=sr,Kn[2]=Wr,Kn[3]=dn,z.ca=ve,z.tb=ke,z.c=y.width,z.i=y.height,e(0<z.c&&0<z.i),1>=te)y=0;else if(z.$a=3&H[Y+0],z.Z=H[Y+0]>>2&3,z.Lc=H[Y+0]>>4&3,Y=H[Y+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||Y)y=0;else if(Ne.put=Xe,Ne.ac=Rn,Ne.bc=Tr,Ne.ma=z,Ne.width=y.width,Ne.height=y.height,Ne.Da=y.Da,Ne.v=y.v,Ne.va=y.va,Ne.j=y.j,Ne.o=y.o,z.$a)e:{e(z.$a==1),y=Ya();t:for(;;){if(y==null){y=0;break e}if(e(z!=null),z.mc=y,y.c=z.c,y.i=z.i,y.l=z.l,y.l.ma=z,y.l.width=z.c,y.l.height=z.i,y.a=0,ce(y.m,H,re,xe),!rs(z.c,z.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&ts(y.s)?(z.ic=1,H=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(H),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(z.ic=0,y=_a(y,z.c)),!y))break t;y=1;break e}z.mc=null,y=0}else y=xe>=z.c*z.i;z=!y}if(z)return null;f.ga.Lc!=1?f.Ga=0:L=B-S}e(f.ga!=null),e(S+L<=B);e:{if(y=(H=f.ga).c,B=H.l.o,H.$a==0){if(re=f.rc,xe=f.Vc,Ne=f.Fa,Y=f.P+1+S*y,te=f.mb,ve=f.nb+S*y,e(Y<=f.P+f.qc),H.Z!=0)for(e(Kn[H.Z]!=null),z=0;z<L;++z)Kn[H.Z](re,xe,Ne,Y,te,ve,y),re=te,xe=ve,ve+=y,Y+=y;else for(z=0;z<L;++z)n(te,ve,Ne,Y,y),re=te,xe=ve,ve+=y,Y+=y;f.rc=re,f.Vc=xe}else{if(e(H.mc!=null),y=S+L,e((z=H.mc)!=null),e(y<=z.i),z.C>=y)y=1;else if(H.ic||ss(),H.ic){H=z.V,re=z.Ba,xe=z.c;var Oe=z.i,je=(Ne=1,Y=z.$/xe,te=z.$%xe,ve=z.m,ke=z.s,z.$),Le=xe*Oe,Te=xe*y,Ie=ke.wc,Fe=je<Te?Zr(ke,te,Y):null;e(je<=Le),e(y<=Oe),e(ts(ke));t:for(;;){for(;!ve.h&&je<Te;){if(te&Ie||(Fe=Zr(ke,te,Y)),e(Fe!=null),ne(ve),256>(Oe=gr(Fe.G[0],Fe.H[0],ve)))H[re+je]=Oe,++je,++te>=xe&&(te=0,++Y<=y&&!(Y%16)&&In(z,Y));else{if(!(280>Oe)){Ne=0;break t}Oe=xr(Oe-256,ve);var gt,et=gr(Fe.G[4],Fe.H[4],ve);if(ne(ve),!(je>=(et=Br(xe,et=xr(et,ve)))&&Le-je>=Oe)){Ne=0;break t}for(gt=0;gt<Oe;++gt)H[re+je+gt]=H[re+je+gt-et];for(je+=Oe,te+=Oe;te>=xe;)te-=xe,++Y<=y&&!(Y%16)&&In(z,Y);je<Te&&te&Ie&&(Fe=Zr(ke,te,Y))}e(ve.h==ue(ve))}In(z,Y>y?y:Y);break t}!Ne||ve.h&&je<Le?(Ne=0,z.a=ve.h?5:3):z.$=je,y=Ne}else y=Mi(z,z.V,z.Ba,z.c,z.i,y,Xa);if(!y){L=0;break e}}S+L>=B&&(f.Cc=1),L=1}if(!L)return null;if(f.Cc&&((L=f.ga)!=null&&(L.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+S*R}function xn(f,y,S,L,R,B){for(;0<R--;){var z,H=f,Y=y+(S?1:0),te=f,ve=y+(S?0:3);for(z=0;z<L;++z){var ke=te[ve+4*z];ke!=255&&(ke*=32897,H[Y+4*z+0]=H[Y+4*z+0]*ke>>23,H[Y+4*z+1]=H[Y+4*z+1]*ke>>23,H[Y+4*z+2]=H[Y+4*z+2]*ke>>23)}y+=B}}function en(f,y,S,L,R){for(;0<L--;){var B;for(B=0;B<S;++B){var z=f[y+2*B+0],H=15&(te=f[y+2*B+1]),Y=4369*H,te=(240&te|te>>4)*Y>>16;f[y+2*B+0]=(240&z|z>>4)*Y>>16&240|(15&z|z<<4)*Y>>16>>4&15,f[y+2*B+1]=240&te|H}y+=R}}function Dn(f,y,S,L,R,B,z,H){var Y,te,ve=255;for(te=0;te<R;++te){for(Y=0;Y<L;++Y){var ke=f[y+Y];B[z+4*Y]=ke,ve&=ke}y+=S,z+=H}return ve!=255}function Vs(f,y,S,L,R){var B;for(B=0;B<R;++B)S[L+B]=f[y+B]>>8}function ss(){bo=xn,Mu=en,Wl=Dn,Bu=Vs}function Hs(f,y,S){K[f]=function(L,R,B,z,H,Y,te,ve,ke,re,xe,Ne,Oe,je,Le,Te,Ie){var Fe,gt=Ie-1>>1,et=H[Y+0]|te[ve+0]<<16,Bt=ke[re+0]|xe[Ne+0]<<16;e(L!=null);var at=3*et+Bt+131074>>2;for(y(L[R+0],255&at,at>>16,Oe,je),B!=null&&(at=3*Bt+et+131074>>2,y(B[z+0],255&at,at>>16,Le,Te)),Fe=1;Fe<=gt;++Fe){var Zt=H[Y+Fe]|te[ve+Fe]<<16,Jr=ke[re+Fe]|xe[Ne+Fe]<<16,$t=et+Zt+Bt+Jr+524296,tt=$t+2*(Zt+Bt)>>3;at=tt+et>>1,et=($t=$t+2*(et+Jr)>>3)+Zt>>1,y(L[R+2*Fe-1],255&at,at>>16,Oe,je+(2*Fe-1)*S),y(L[R+2*Fe-0],255&et,et>>16,Oe,je+(2*Fe-0)*S),B!=null&&(at=$t+Bt>>1,et=tt+Jr>>1,y(B[z+2*Fe-1],255&at,at>>16,Le,Te+(2*Fe-1)*S),y(B[z+2*Fe+0],255&et,et>>16,Le,Te+(2*Fe+0)*S)),et=Zt,Bt=Jr}1&Ie||(at=3*et+Bt+131074>>2,y(L[R+Ie-1],255&at,at>>16,Oe,je+(Ie-1)*S),B!=null&&(at=3*Bt+et+131074>>2,y(B[z+Ie-1],255&at,at>>16,Le,Te+(Ie-1)*S)))}}function uo(){pi[Oc]=_f,pi[Ra]=Ia,pi[Dd]=Sf,pi[Vl]=ll,pi[Hl]=ko,pi[Ar]=Xl,pi[Rc]=Ku,pi[sl]=Ia,pi[_o]=ll,pi[Gl]=ko,pi[Kl]=Xl}function Xo(f){return f&-16384?0>f?0:255:f>>Da}function Aa(f,y){return Xo((19077*f>>8)+(26149*y>>8)-14234)}function ho(f,y,S){return Xo((19077*f>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function ja(f,y){return Xo((19077*f>>8)+(33050*y>>8)-17685)}function Ea(f,y,S,L,R){L[R+0]=Aa(f,S),L[R+1]=ho(f,y,S),L[R+2]=ja(f,y)}function Fn(f,y,S,L,R){L[R+0]=ja(f,y),L[R+1]=ho(f,y,S),L[R+2]=Aa(f,S)}function fo(f,y,S,L,R){var B=ho(f,y,S);y=B<<3&224|ja(f,y)>>3,L[R+0]=248&Aa(f,S)|B>>5,L[R+1]=y}function po(f,y,S,L,R){var B=240&ja(f,y)|15;L[R+0]=240&Aa(f,S)|ho(f,y,S)>>4,L[R+1]=B}function Ul(f,y,S,L,R){L[R+0]=255,Ea(f,y,S,L,R+1)}function zl(f,y,S,L,R){Fn(f,y,S,L,R),L[R+3]=255}function ti(f,y,S,L,R){Ea(f,y,S,L,R),L[R+3]=255}function as(f,y,S){K[f]=function(L,R,B,z,H,Y,te,ve,ke){for(var re=ve+(-2&ke)*S;ve!=re;)y(L[R+0],B[z+0],H[Y+0],te,ve),y(L[R+1],B[z+0],H[Y+0],te,ve+S),R+=2,++z,++Y,ve+=2*S;1&ke&&y(L[R+0],B[z+0],H[Y+0],te,ve)}}function Ls(f,y,S){return S==0?f==0?y==0?6:5:y==0?4:0:S}function Lc(f,y,S,L,R){switch(f>>>30){case 3:wo(y,S,L,R,0);break;case 2:Gr(y,S,L,R);break;case 1:ur(y,S,L,R)}}function Ci(f,y){var S,L,R=y.M,B=y.Nb,z=f.oc,H=f.pc+40,Y=f.oc,te=f.pc+584,ve=f.oc,ke=f.pc+600;for(S=0;16>S;++S)z[H+32*S-1]=129;for(S=0;8>S;++S)Y[te+32*S-1]=129,ve[ke+32*S-1]=129;for(0<R?z[H-1-32]=Y[te-1-32]=ve[ke-1-32]=129:(a(z,H-32-1,127,21),a(Y,te-32-1,127,9),a(ve,ke-32-1,127,9)),L=0;L<f.za;++L){var re=y.ya[y.aa+L];if(0<L){for(S=-1;16>S;++S)n(z,H+32*S-4,z,H+32*S+12,4);for(S=-1;8>S;++S)n(Y,te+32*S-4,Y,te+32*S+4,4),n(ve,ke+32*S-4,ve,ke+32*S+4,4)}var xe=f.Gd,Ne=f.Hd+L,Oe=re.ad,je=re.Hc;if(0<R&&(n(z,H-32,xe[Ne].y,0,16),n(Y,te-32,xe[Ne].f,0,8),n(ve,ke-32,xe[Ne].ea,0,8)),re.Za){var Le=z,Te=H-32+16;for(0<R&&(L>=f.za-1?a(Le,Te,xe[Ne].y[15],4):n(Le,Te,xe[Ne+1].y,0,4)),S=0;4>S;S++)Le[Te+128+S]=Le[Te+256+S]=Le[Te+384+S]=Le[Te+0+S];for(S=0;16>S;++S,je<<=2)Le=z,Te=H+Ju[S],Gi[re.Ob[S]](Le,Te),Lc(je,Oe,16*+S,Le,Te)}else if(Le=Ls(L,R,re.Ob[0]),ni[Le](z,H),je!=0)for(S=0;16>S;++S,je<<=2)Lc(je,Oe,16*+S,z,H+Ju[S]);for(S=re.Gc,Le=Ls(L,R,re.Dd),fi[Le](Y,te),fi[Le](ve,ke),je=Oe,Le=Y,Te=te,255&(re=0|S)&&(170&re?hi(je,256,Le,Te):br(je,256,Le,Te)),re=ve,je=ke,255&(S>>=8)&&(170&S?hi(Oe,320,re,je):br(Oe,320,re,je)),R<f.Ub-1&&(n(xe[Ne].y,0,z,H+480,16),n(xe[Ne].f,0,Y,te+224,8),n(xe[Ne].ea,0,ve,ke+224,8)),S=8*B*f.B,xe=f.sa,Ne=f.ta+16*L+16*B*f.R,Oe=f.qa,re=f.ra+8*L+S,je=f.Ha,Le=f.Ia+8*L+S,S=0;16>S;++S)n(xe,Ne+S*f.R,z,H+32*S,16);for(S=0;8>S;++S)n(Oe,re+S*f.B,Y,te+32*S,8),n(je,Le+S*f.B,ve,ke+32*S,8)}}function Ca(f,y,S,L,R,B,z,H,Y){var te=[0],ve=[0],ke=0,re=Y!=null?Y.kd:0,xe=Y??new Be;if(f==null||12>S)return 7;xe.data=f,xe.w=y,xe.ha=S,y=[y],S=[S],xe.gb=[xe.gb];e:{var Ne=y,Oe=S,je=xe.gb;if(e(f!=null),e(Oe!=null),e(je!=null),je[0]=0,12<=Oe[0]&&!r(f,Ne[0],"RIFF")){if(r(f,Ne[0]+8,"WEBP")){je=3;break e}var Le=Ke(f,Ne[0]+4);if(12>Le||4294967286<Le){je=3;break e}if(re&&Le>Oe[0]-8){je=7;break e}je[0]=Le,Ne[0]+=12,Oe[0]-=12}je=0}if(je!=0)return je;for(Le=0<xe.gb[0],S=S[0];;){e:{var Te=f;Oe=y,je=S;var Ie=te,Fe=ve,gt=Ne=[0];if((at=ke=[ke])[0]=0,8>je[0])je=7;else{if(!r(Te,Oe[0],"VP8X")){if(Ke(Te,Oe[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var et=Ke(Te,Oe[0]+8),Bt=1+$e(Te,Oe[0]+12);if(2147483648<=Bt*(Te=1+$e(Te,Oe[0]+15))){je=3;break e}gt!=null&&(gt[0]=et),Ie!=null&&(Ie[0]=Bt),Fe!=null&&(Fe[0]=Te),Oe[0]+=18,je[0]-=18,at[0]=1}je=0}}if(ke=ke[0],Ne=Ne[0],je!=0)return je;if(Oe=!!(2&Ne),!Le&&ke)return 3;if(B!=null&&(B[0]=!!(16&Ne)),z!=null&&(z[0]=Oe),H!=null&&(H[0]=0),z=te[0],Ne=ve[0],ke&&Oe&&Y==null){je=0;break}if(4>S){je=7;break}if(Le&&ke||!Le&&!ke&&!r(f,y[0],"ALPH")){S=[S],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{et=f,je=y,Le=S;var at=xe.gb;Ie=xe.na,Fe=xe.P,gt=xe.Sa,Bt=22,e(et!=null),e(Le!=null),Te=je[0];var Zt=Le[0];for(e(Ie!=null),e(gt!=null),Ie[0]=null,Fe[0]=null,gt[0]=0;;){if(je[0]=Te,Le[0]=Zt,8>Zt){je=7;break e}var Jr=Ke(et,Te+4);if(4294967286<Jr){je=3;break e}var $t=8+Jr+1&-2;if(Bt+=$t,0<at&&Bt>at){je=3;break e}if(!r(et,Te,"VP8 ")||!r(et,Te,"VP8L")){je=0;break e}if(Zt[0]<$t){je=7;break e}r(et,Te,"ALPH")||(Ie[0]=et,Fe[0]=Te+8,gt[0]=Jr),Te+=$t,Zt-=$t}}if(S=S[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],je!=0)break}S=[S],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(at=f,je=y,Le=S,Ie=xe.gb[0],Fe=xe.Ja,gt=xe.xa,et=je[0],Te=!r(at,et,"VP8 "),Bt=!r(at,et,"VP8L"),e(at!=null),e(Le!=null),e(Fe!=null),e(gt!=null),8>Le[0])je=7;else{if(Te||Bt){if(at=Ke(at,et+4),12<=Ie&&at>Ie-12){je=3;break e}if(re&&at>Le[0]-8){je=7;break e}Fe[0]=at,je[0]+=8,Le[0]-=8,gt[0]=Bt}else gt[0]=5<=Le[0]&&at[et+0]==47&&!(at[et+4]>>5),Fe[0]=Le[0];je=0}if(S=S[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],y=y[0],je!=0)break;if(4294967286<xe.Ja)return 3;if(H==null||Oe||(H[0]=xe.xa?2:1),z=[z],Ne=[Ne],xe.xa){if(5>S){je=7;break}H=z,re=Ne,Oe=B,f==null||5>S?f=0:5<=S&&f[y+0]==47&&!(f[y+4]>>5)?(Le=[0],at=[0],Ie=[0],ce(Fe=new $,f,y,S),Hn(Fe,Le,at,Ie)?(H!=null&&(H[0]=Le[0]),re!=null&&(re[0]=at[0]),Oe!=null&&(Oe[0]=Ie[0]),f=1):f=0):f=0}else{if(10>S){je=7;break}H=Ne,f==null||10>S||!eo(f,y+3,S-3)?f=0:(re=f[y+0]|f[y+1]<<8|f[y+2]<<16,Oe=16383&(f[y+7]<<8|f[y+6]),f=16383&(f[y+9]<<8|f[y+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=xe.Ja||!Oe||!f?f=0:(z&&(z[0]=Oe),H&&(H[0]=f),f=1))}if(!f||(z=z[0],Ne=Ne[0],ke&&(te[0]!=z||ve[0]!=Ne)))return 3;Y!=null&&(Y[0]=xe,Y.offset=y-Y.w,e(4294967286>y-Y.w),e(Y.offset==Y.ha-S));break}return je==0||je==7&&ke&&Y==null?(B!=null&&(B[0]|=xe.na!=null&&0<xe.na.length),L!=null&&(L[0]=z),R!=null&&(R[0]=Ne),0):je}function Qo(f,y,S){var L=y.width,R=y.height,B=0,z=0,H=L,Y=R;if(y.Da=f!=null&&0<f.Da,y.Da&&(H=f.cd,Y=f.bd,B=f.v,z=f.j,11>S||(B&=-2,z&=-2),0>B||0>z||0>=H||0>=Y||B+H>L||z+Y>R))return 0;if(y.v=B,y.j=z,y.va=B+H,y.o=z+Y,y.U=H,y.T=Y,y.da=f!=null&&0<f.da,y.da){if(!yt(H,Y,S=[f.ib],B=[f.hb]))return 0;y.ib=S[0],y.hb=B[0]}return y.ob=f!=null&&f.ob,y.Kb=f==null||!f.Sd,y.da&&(y.ob=y.ib<3*L/4&&y.hb<3*R/4,y.Kb=0),1}function Zo(f){if(f==null)return 2;if(11>f.S){var y=f.f.RGBA;y.fb+=(f.height-1)*y.A,y.A=-y.A}else y=f.f.kb,f=f.height,y.O+=(f-1)*y.fa,y.fa=-y.fa,y.N+=(f-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(f-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(f-1)*y.lb,y.lb=-y.lb);return 0}function Gs(f,y,S,L){if(L==null||0>=f||0>=y)return 2;if(S!=null){if(S.Da){var R=S.cd,B=S.bd,z=-2&S.v,H=-2&S.j;if(0>z||0>H||0>=R||0>=B||z+R>f||H+B>y)return 2;f=R,y=B}if(S.da){if(!yt(f,y,R=[S.ib],B=[S.hb]))return 2;f=R[0],y=B[0]}}L.width=f,L.height=y;e:{var Y=L.width,te=L.height;if(f=L.S,0>=Y||0>=te||!(f>=Oc&&13>f))f=2;else{if(0>=L.Rd&&L.sd==null){z=B=R=y=0;var ve=(H=Y*Ql[f])*te;if(11>f||(B=(te+1)/2*(y=(Y+1)/2),f==12&&(z=(R=Y)*te)),(te=o(ve+2*B+z))==null){f=1;break e}L.sd=te,11>f?((Y=L.f.RGBA).eb=te,Y.fb=0,Y.A=H,Y.size=ve):((Y=L.f.kb).y=te,Y.O=0,Y.fa=H,Y.Fd=ve,Y.f=te,Y.N=0+ve,Y.Ab=y,Y.Cd=B,Y.ea=te,Y.W=0+ve+B,Y.Db=y,Y.Ed=B,f==12&&(Y.F=te,Y.J=0+ve+2*B),Y.Tc=z,Y.lb=R)}if(y=1,R=L.S,B=L.width,z=L.height,R>=Oc&&13>R)if(11>R)f=L.f.RGBA,y&=(H=Math.abs(f.A))*(z-1)+B<=f.size,y&=H>=B*Ql[R],y&=f.eb!=null;else{f=L.f.kb,H=(B+1)/2,ve=(z+1)/2,Y=Math.abs(f.fa),te=Math.abs(f.Ab);var ke=Math.abs(f.Db),re=Math.abs(f.lb),xe=re*(z-1)+B;y&=Y*(z-1)+B<=f.Fd,y&=te*(ve-1)+H<=f.Cd,y=(y&=ke*(ve-1)+H<=f.Ed)&Y>=B&te>=H&ke>=H,y&=f.y!=null,y&=f.f!=null,y&=f.ea!=null,R==12&&(y&=re>=B,y&=xe<=f.Tc,y&=f.F!=null)}else y=0;f=y?0:2}}return f!=0||S!=null&&S.fd&&(f=Zo(L)),f}var Vi=64,Li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pi=24,La=32,Ps=8,Ks=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),K.Predictor0=function(){return 4278190080},K.Predictor1=function(f){return f},K.Predictor2=function(f,y,S){return y[S+0]},K.Predictor3=function(f,y,S){return y[S+1]},K.Predictor4=function(f,y,S){return y[S-1]},K.Predictor5=function(f,y,S){return ot(ot(f,y[S+1]),y[S+0])},K.Predictor6=function(f,y,S){return ot(f,y[S-1])},K.Predictor7=function(f,y,S){return ot(f,y[S+0])},K.Predictor8=function(f,y,S){return ot(y[S-1],y[S+0])},K.Predictor9=function(f,y,S){return ot(y[S+0],y[S+1])},K.Predictor10=function(f,y,S){return ot(ot(f,y[S-1]),ot(y[S+0],y[S+1]))},K.Predictor11=function(f,y,S){var L=y[S+0];return 0>=Et(L>>24&255,f>>24&255,(y=y[S-1])>>24&255)+Et(L>>16&255,f>>16&255,y>>16&255)+Et(L>>8&255,f>>8&255,y>>8&255)+Et(255&L,255&f,255&y)?L:f},K.Predictor12=function(f,y,S){var L=y[S+0];return(ir((f>>24&255)+(L>>24&255)-((y=y[S-1])>>24&255))<<24|ir((f>>16&255)+(L>>16&255)-(y>>16&255))<<16|ir((f>>8&255)+(L>>8&255)-(y>>8&255))<<8|ir((255&f)+(255&L)-(255&y)))>>>0},K.Predictor13=function(f,y,S){var L=y[S-1];return(Kt((f=ot(f,y[S+0]))>>24&255,L>>24&255)<<24|Kt(f>>16&255,L>>16&255)<<16|Kt(f>>8&255,L>>8&255)<<8|Kt(255&f,255&L))>>>0};var Js=K.PredictorAdd0;K.PredictorAdd1=Jt,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Ts=K.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var tn,mo=K.ColorIndexInverseTransform,Os=K.MapARGB,os=K.VP8LColorIndexInverseTransformAlpha,go=K.MapAlpha,vo=K.VP8LPredictorsAdd=[];vo.length=16,(K.VP8LPredictors=[]).length=16,(K.VP8LPredictorsAdd_C=[]).length=16,(K.VP8LPredictors_C=[]).length=16;var el,tl,Ys,Pa,Ta,yo,Oa,wo,Gr,hi,ur,br,Kr,hn,ls,ql,rl,Xs,Pc,nl,Tc,Fu,$l,xo,bo,Mu,Wl,Bu,Uu=o(511),zu=o(2041),qu=o(225),$u=o(767),Wu=0,Rs=zu,il=qu,ri=$u,Hi=Uu,Oc=0,Ra=1,Dd=2,Vl=3,Hl=4,Ar=5,Rc=6,sl=7,_o=8,Gl=9,Kl=10,Jl=[2,3,7],Ic=[3,3,11],So=[280,256,256,256,40],Fd=[0,1,1,1,0],yf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Md=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dc=8,al=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],No=null,Vu=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ud=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ni=[],Gi=[],fi=[],Is=1,ol=2,Kn=[],pi=[];Hs("UpsampleRgbLinePair",Ea,3),Hs("UpsampleBgrLinePair",Fn,3),Hs("UpsampleRgbaLinePair",ti,4),Hs("UpsampleBgraLinePair",zl,4),Hs("UpsampleArgbLinePair",Ul,4),Hs("UpsampleRgba4444LinePair",po,2),Hs("UpsampleRgb565LinePair",fo,2);var _f=K.UpsampleRgbLinePair,Sf=K.UpsampleBgrLinePair,Ia=K.UpsampleRgbaLinePair,ll=K.UpsampleBgraLinePair,ko=K.UpsampleArgbLinePair,Xl=K.UpsampleRgba4444LinePair,Ku=K.UpsampleRgb565LinePair,Qs=16,cs=1<<Qs-1,yr=-227,_r=482,Da=6,Mn=0,mi=o(256),Ao=o(256),cl=o(256),gi=o(256),Fc=o(_r-yr),zd=o(_r-yr);as("YuvToRgbRow",Ea,3),as("YuvToBgrRow",Fn,3),as("YuvToRgbaRow",ti,4),as("YuvToBgraRow",zl,4),as("YuvToArgbRow",Ul,4),as("YuvToRgba4444Row",po,2),as("YuvToRgb565Row",fo,2);var Ju=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jo=[0,2,8],qd=[8,7,6,4,4,2,2,2,1,1,1,1],Zs=1;this.WebPDecodeRGBA=function(f,y,S,L,R){var B=Ra,z=new Re,H=new Rt;z.ba=H,H.S=B,H.width=[H.width],H.height=[H.height];var Y=H.width,te=H.height,ve=new Nt;if(ve==null||f==null)var ke=2;else e(ve!=null),ke=Ca(f,y,S,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(ke!=0?Y=0:(Y!=null&&(Y[0]=ve.width[0]),te!=null&&(te[0]=ve.height[0]),Y=1),Y){H.width=H.width[0],H.height=H.height[0],L!=null&&(L[0]=H.width),R!=null&&(R[0]=H.height);e:{if(L=new $o,(R=new Be).data=f,R.w=y,R.ha=S,R.kd=1,y=[0],e(R!=null),((f=Ca(R.data,R.w,R.ha,null,null,null,y,null,R))==0||f==7)&&y[0]&&(f=4),(y=f)==0){if(e(z!=null),L.data=R.data,L.w=R.w+R.offset,L.ha=R.ha-R.offset,L.put=Xe,L.ac=Rn,L.bc=Tr,L.ma=z,R.xa){if((f=Ya())==null){z=1;break e}if((function(re,xe){var Ne=[0],Oe=[0],je=[0];t:for(;;){if(re==null)return 0;if(xe==null)return re.a=2,0;if(re.l=xe,re.a=0,ce(re.m,xe.data,xe.w,xe.ha),!Hn(re.m,Ne,Oe,je)){re.a=3;break t}if(re.xb=ol,xe.width=Ne[0],xe.height=Oe[0],!rs(Ne[0],Oe[0],1,re,null))break t;return 1}return e(re.a!=0),0})(f,L)){if(L=(y=Gs(L.width,L.height,z.Oa,z.ba))==0){t:{L=f;r:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((S=L.l)!=null),e((R=S.ma)!=null),L.xb!=0){if(L.ca=R.ba,L.tb=R.tb,e(L.ca!=null),!Qo(R.Oa,S,Vl)){L.a=2;break r}if(!_a(L,S.width)||S.da)break r;if((S.da||ht(L.ca.S))&&ss(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&ss()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Z(L.s.vb,L.s.Wa.Xa)){L.a=1;break r}L.xb=0}if(!Mi(L,L.V,L.Ba,L.c,L.i,S.o,ba))break r;R.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(y=f.a)}else y=f.a}else{if((f=new Iu)==null){z=1;break e}if(f.Fa=R.na,f.P=R.P,f.qc=R.Sa,ji(f,L)){if((y=Gs(L.width,L.height,z.Oa,z.ba))==0){if(f.Aa=0,S=z.Oa,e((R=f)!=null),S!=null){if(0<(Y=0>(Y=S.Md)?0:100<Y?255:255*Y/100)){for(te=ve=0;4>te;++te)12>(ke=R.pb[te]).lc&&(ke.ia=Y*qd[0>ke.lc?0:ke.lc]>>3),ve|=ke.ia;ve&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=S.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}(function(re,xe){if(re==null)return 0;if(xe==null)return un(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!ji(re,xe))return 0;if(e(re.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(re.L=0);var Ne=jo[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=xe.v-Ne>>4,re.zb=xe.j-Ne>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=xe.o+15+Ne>>4,re.Hb=xe.va+15+Ne>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Oe=re.ed;for(Ne=0;4>Ne;++Ne){var je;if(re.Qa.Cb){var Le=re.Qa.Lb[Ne];re.Qa.Fb||(Le+=Oe.Tb)}else Le=Oe.Tb;for(je=0;1>=je;++je){var Te=re.gd[Ne][je],Ie=Le;if(Oe.Pc&&(Ie+=Oe.vd[0],je&&(Ie+=Oe.od[0])),0<(Ie=0>Ie?0:63<Ie?63:Ie)){var Fe=Ie;0<Oe.wb&&(Fe=4<Oe.wb?Fe>>2:Fe>>1)>9-Oe.wb&&(Fe=9-Oe.wb),1>Fe&&(Fe=1),Te.dd=Fe,Te.tc=2*Ie+Fe,Te.ld=40<=Ie?2:15<=Ie?1:0}else Te.tc=0;Te.La=je}}}Ne=0}else un(re,6,"Frame setup failed"),Ne=re.a;if(Ne=Ne==0){if(Ne){re.$c=0,0<re.Aa||(re.Ic=Zs);t:{Ne=re.Ic,Oe=4*(Fe=re.za);var gt=32*Fe,et=Fe+1,Bt=0<re.L?Fe*(0<re.Aa?2:1):0,at=(re.Aa==2?2:1)*Fe;if((Te=Oe+832+(je=3*(16*Ne+jo[re.L])/2*gt)+(Le=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Te)Ne=0;else{if(Te>re.Vb){if(re.Vb=0,re.Ec=o(Te),re.Fc=0,re.Ec==null){Ne=un(re,1,"no memory during frame initialization.");break t}re.Vb=Te}Te=re.Ec,Ie=re.Fc,re.Ac=Te,re.Bc=Ie,Ie+=Oe,re.Gd=l(gt,Ai),re.Hd=0,re.rb=l(et+1,Sa),re.sb=1,re.wa=Bt?l(Bt,ki):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Fe),e(!0),re.oc=Te,re.pc=Ie,Ie+=832,re.ya=l(at,qo),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Fe),re.R=16*Fe,re.B=8*Fe,Fe=(gt=jo[re.L])*re.R,gt=gt/2*re.B,re.sa=Te,re.ta=Ie+Fe,re.qa=re.sa,re.ra=re.ta+16*Ne*re.R+gt,re.Ha=re.qa,re.Ia=re.ra+8*Ne*re.B+gt,re.$c=0,Ie+=je,re.mb=Le?Te:null,re.nb=Le?Ie:null,e(Ie+Le<=re.Fc+re.Vb),to(re),a(re.Ac,re.Bc,0,Oe),Ne=1}}if(Ne){if(xe.ka=0,xe.y=re.sa,xe.O=re.ta,xe.f=re.qa,xe.N=re.ra,xe.ea=re.Ha,xe.Vd=re.Ia,xe.fa=re.R,xe.Rc=re.B,xe.F=null,xe.J=0,!Wu){for(Ne=-255;255>=Ne;++Ne)Uu[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)zu[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)qu[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)$u[255+Ne]=0>Ne?0:255<Ne?255:Ne;Wu=1}Oa=no,wo=ro,hi=As,ur=Wo,br=or,Gr=Rl,Kr=Gn,hn=Wi,ls=D,ql=se,rl=Yo,Xs=x,Pc=me,nl=Se,Tc=Ws,Fu=ka,$l=Bl,xo=co,Gi[0]=Ec,Gi[1]=Il,Gi[2]=Es,Gi[3]=Du,Gi[4]=Ei,Gi[5]=Cc,Gi[6]=$s,Gi[7]=Go,Gi[8]=Dl,Gi[9]=so,ni[0]=js,ni[1]=jc,ni[2]=Vo,ni[3]=Ho,ni[4]=ui,ni[5]=Ui,ni[6]=io,fi[0]=Ko,fi[1]=Ac,fi[2]=is,fi[3]=ao,fi[4]=Ml,fi[5]=Fl,fi[6]=Jo,Ne=1}else Ne=0}Ne&&(Ne=(function(Zt,Jr){for(Zt.M=0;Zt.M<Zt.Va;++Zt.M){var $t,tt=Zt.Jc[Zt.M&Zt.Xb],Ge=Zt.m,rn=Zt;for($t=0;$t<rn.za;++$t){var Ot=Ge,Yt=rn,Rr=Yt.Ac,En=Yt.Bc+4*$t,fn=Yt.zc,Vr=Yt.ya[Yt.aa+$t];if(Yt.Qa.Bb?Vr.$b=_e(Ot,Yt.Pa.jb[0])?2+_e(Ot,Yt.Pa.jb[2]):_e(Ot,Yt.Pa.jb[1]):Vr.$b=0,Yt.kc&&(Vr.Ad=_e(Ot,Yt.Bd)),Vr.Za=!_e(Ot,145)+0,Vr.Za){var bn=Vr.Ob,Cn=0;for(Yt=0;4>Yt;++Yt){var Ur,tr=fn[0+Yt];for(Ur=0;4>Ur;++Ur){tr=xf[Rr[En+Ur]][tr];for(var dr=Bd[_e(Ot,tr[0])];0<dr;)dr=Bd[2*dr+_e(Ot,tr[dr])];tr=-dr,Rr[En+Ur]=tr}n(bn,Cn,Rr,En,4),Cn+=4,fn[0+Yt]=tr}}else tr=_e(Ot,156)?_e(Ot,128)?1:3:_e(Ot,163)?2:0,Vr.Ob[0]=tr,a(Rr,En,tr,4),a(fn,0,tr,4);Vr.Dd=_e(Ot,142)?_e(Ot,114)?_e(Ot,183)?1:3:2:0}if(rn.m.Ka)return un(Zt,7,"Premature end-of-partition0 encountered.");for(;Zt.ja<Zt.za;++Zt.ja){if(rn=tt,Ot=(Ge=Zt).rb[Ge.sb-1],Rr=Ge.rb[Ge.sb+Ge.ja],$t=Ge.ya[Ge.aa+Ge.ja],En=Ge.kc?$t.Ad:0)Ot.la=Rr.la=0,$t.Za||(Ot.Na=Rr.Na=0),$t.Hc=0,$t.Gc=0,$t.ia=0;else{var zr,hr;if(Ot=Rr,Rr=rn,En=Ge.Pa.Xc,fn=Ge.ya[Ge.aa+Ge.ja],Vr=Ge.pb[fn.$b],Yt=fn.ad,bn=0,Cn=Ge.rb[Ge.sb-1],tr=Ur=0,a(Yt,bn,0,384),fn.Za)var Yr=0,Xr=En[3];else{dr=o(16);var jr=Ot.Na+Cn.Na;if(jr=No(Rr,En[1],jr,Vr.Eb,0,dr,0),Ot.Na=Cn.Na=(0<jr)+0,1<jr)Oa(dr,0,Yt,bn);else{var Jn=dr[0]+3>>3;for(dr=0;256>dr;dr+=16)Yt[bn+dr]=Jn}Yr=1,Xr=En[0]}var Sr=15&Ot.la,Er=15&Cn.la;for(dr=0;4>dr;++dr){var pn=1&Er;for(Jn=hr=0;4>Jn;++Jn)Sr=Sr>>1|(pn=(jr=No(Rr,Xr,jr=pn+(1&Sr),Vr.Sc,Yr,Yt,bn))>Yr)<<7,hr=hr<<2|(3<jr?3:1<jr?2:Yt[bn+0]!=0),bn+=16;Sr>>=4,Er=Er>>1|pn<<7,Ur=(Ur<<8|hr)>>>0}for(Xr=Sr,Yr=Er>>4,zr=0;4>zr;zr+=2){for(hr=0,Sr=Ot.la>>4+zr,Er=Cn.la>>4+zr,dr=0;2>dr;++dr){for(pn=1&Er,Jn=0;2>Jn;++Jn)jr=pn+(1&Sr),Sr=Sr>>1|(pn=0<(jr=No(Rr,En[2],jr,Vr.Qc,0,Yt,bn)))<<3,hr=hr<<2|(3<jr?3:1<jr?2:Yt[bn+0]!=0),bn+=16;Sr>>=2,Er=Er>>1|pn<<5}tr|=hr<<4*zr,Xr|=Sr<<4<<zr,Yr|=(240&Er)<<zr}Ot.la=Xr,Cn.la=Yr,fn.Hc=Ur,fn.Gc=tr,fn.ia=43690&tr?0:Vr.ia,En=!(Ur|tr)}if(0<Ge.L&&(Ge.wa[Ge.Y+Ge.ja]=Ge.gd[$t.$b][$t.Za],Ge.wa[Ge.Y+Ge.ja].La|=!En),rn.Ka)return un(Zt,7,"Premature end-of-file encountered.")}if(to(Zt),Ge=Jr,rn=1,$t=(tt=Zt).D,Ot=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if($t.M=tt.M,$t.uc=Ot,Ci(tt,$t),rn=1,$t=(hr=tt.D).Nb,Ot=(tr=jo[tt.L])*tt.R,Rr=tr/2*tt.B,dr=16*$t*tt.R,Jn=8*$t*tt.B,En=tt.sa,fn=tt.ta-Ot+dr,Vr=tt.qa,Yt=tt.ra-Rr+Jn,bn=tt.Ha,Cn=tt.Ia-Rr+Jn,Er=(Sr=hr.M)==0,Ur=Sr>=tt.Va-1,tt.Aa==2&&Ci(tt,hr),hr.uc)for(pn=(jr=tt).D.M,e(jr.D.uc),hr=jr.yb;hr<jr.Hb;++hr){Yr=hr,Xr=pn;var Bn=(vi=(an=jr).D).Nb;zr=an.R;var vi=vi.wa[vi.Y+Yr],nn=an.sa,sn=an.ta+16*Bn*zr+16*Yr,Yn=vi.dd,Cr=vi.tc;if(Cr!=0)if(e(3<=Cr),an.L==1)0<Yr&&Fu(nn,sn,zr,Cr+4),vi.La&&xo(nn,sn,zr,Cr),0<Xr&&Tc(nn,sn,zr,Cr+4),vi.La&&$l(nn,sn,zr,Cr);else{var Xn=an.B,Ki=an.qa,us=an.ra+8*Bn*Xn+8*Yr,Ln=an.Ha,an=an.Ia+8*Bn*Xn+8*Yr;Bn=vi.ld,0<Yr&&(hn(nn,sn,zr,Cr+4,Yn,Bn),ql(Ki,us,Ln,an,Xn,Cr+4,Yn,Bn)),vi.La&&(Xs(nn,sn,zr,Cr,Yn,Bn),nl(Ki,us,Ln,an,Xn,Cr,Yn,Bn)),0<Xr&&(Kr(nn,sn,zr,Cr+4,Yn,Bn),ls(Ki,us,Ln,an,Xn,Cr+4,Yn,Bn)),vi.La&&(rl(nn,sn,zr,Cr,Yn,Bn),Pc(Ki,us,Ln,an,Xn,Cr,Yn,Bn))}}if(tt.ia&&alert("todo:DitherRow"),Ge.put!=null){if(hr=16*Sr,Sr=16*(Sr+1),Er?(Ge.y=tt.sa,Ge.O=tt.ta+dr,Ge.f=tt.qa,Ge.N=tt.ra+Jn,Ge.ea=tt.Ha,Ge.W=tt.Ia+Jn):(hr-=tr,Ge.y=En,Ge.O=fn,Ge.f=Vr,Ge.N=Yt,Ge.ea=bn,Ge.W=Cn),Ur||(Sr-=tr),Sr>Ge.o&&(Sr=Ge.o),Ge.F=null,Ge.J=null,tt.Fa!=null&&0<tt.Fa.length&&hr<Sr&&(Ge.J=Or(tt,Ge,hr,Sr-hr),Ge.F=tt.mb,Ge.F==null&&Ge.F.length==0)){rn=un(tt,3,"Could not decode alpha data.");break t}hr<Ge.j&&(tr=Ge.j-hr,hr=Ge.j,e(!(1&tr)),Ge.O+=tt.R*tr,Ge.N+=tt.B*(tr>>1),Ge.W+=tt.B*(tr>>1),Ge.F!=null&&(Ge.J+=Ge.width*tr)),hr<Sr&&(Ge.O+=Ge.v,Ge.N+=Ge.v>>1,Ge.W+=Ge.v>>1,Ge.F!=null&&(Ge.J+=Ge.v),Ge.ka=hr-Ge.j,Ge.U=Ge.va-Ge.v,Ge.T=Sr-hr,rn=Ge.put(Ge))}$t+1!=tt.Ic||Ur||(n(tt.sa,tt.ta-Ot,En,fn+16*tt.R,Ot),n(tt.qa,tt.ra-Rr,Vr,Yt+8*tt.B,Rr),n(tt.Ha,tt.Ia-Rr,bn,Cn+8*tt.B,Rr))}if(!rn)return un(Zt,6,"Output aborted.")}return 1})(re,xe)),xe.bc!=null&&xe.bc(xe),Ne&=1}return Ne?(re.cb=0,Ne):0})(f,L)||(y=f.a)}}else y=f.a}y==0&&z.Oa!=null&&z.Oa.fd&&(y=Zo(z.ba))}z=y}B=z!=0?null:11>B?H.f.RGBA.eb:H.f.kb.y}else B=null;return B};var Ql=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(K,pe){for(var I="",W=0;W<4;W++)I+=String.fromCharCode(K[pe++]);return I}function v(K,pe){return K[pe+0]|K[pe+1]<<8}function w(K,pe){return(K[pe+0]|K[pe+1]<<8|K[pe+2]<<16)>>>0}function N(K,pe){return(K[pe+0]|K[pe+1]<<8|K[pe+2]<<16|K[pe+3]<<24)>>>0}new d;var h=[0],k=[0],_=[],C=new d,E=t,j=(function(K,pe){var I={},W=0,ae=!1,ie=0,oe=0;if(I.frames=[],!(function(T,$){for(var X=0;X<4;X++)if(T[$+X]!="RIFF".charCodeAt(X))return!0;return!1})(K,pe)){for(N(K,pe+=4),pe+=8;pe<K.length;){var V=p(K,pe),ee=N(K,pe+=4);pe+=4;var F=ee+(1&ee);switch(V){case"VP8 ":case"VP8L":I.frames[W]===void 0&&(I.frames[W]={}),(J=I.frames[W]).src_off=ae?oe:pe-8,J.src_size=ie+ee+8,W++,ae&&(ae=!1,ie=0,oe=0);break;case"VP8X":(J=I.header={}).feature_flags=K[pe];var ce=pe+4;J.canvas_width=1+w(K,ce),ce+=3,J.canvas_height=1+w(K,ce),ce+=3;break;case"ALPH":ae=!0,ie=F+8,oe=pe-8;break;case"ANIM":(J=I.header).bgcolor=N(K,pe),ce=pe+4,J.loop_count=v(K,ce),ce+=2;break;case"ANMF":var we,J;(J=I.frames[W]={}).offset_x=2*w(K,pe),pe+=3,J.offset_y=2*w(K,pe),pe+=3,J.width=1+w(K,pe),pe+=3,J.height=1+w(K,pe),pe+=3,J.duration=w(K,pe),pe+=3,we=K[pe++],J.dispose=1&we,J.blend=we>>1&1}V!="ANMF"&&(pe+=F)}return I}})(E,0);j.response=E,j.rgbaoutput=!0,j.dataurl=!1;var P=j.header?j.header:null,O=j.frames?j.frames:null;if(P){P.loop_counter=P.loop_count,h=[P.canvas_height],k=[P.canvas_width];for(var U=0;U<O.length&&O[U].blend!=0;U++);}var le=O[0],q=C.WebPDecodeRGBA(E,le.src_off,le.src_size,k,h);le.rgba=q,le.imgwidth=k[0],le.imgheight=h[0];for(var G=0;G<k[0]*h[0]*4;G++)_[G]=q[G];return this.width=k,this.height=h,this.data=_,this}(function(t){var e,r,n,a,o,l,c,d,p,v=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new d,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new l,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new l,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,p=new v}]);var w=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=T;Object.defineProperty(this,"pdf",{get:function(){return $}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Z){X=!!Z}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Z){ue=!!Z}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Z){isNaN(Z)||(de=Z)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(Z){isNaN(Z)||(ne=Z)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Z){var He;typeof Z=="number"?He=[Z,Z,Z,Z]:((He=new Array(4))[0]=Z[0],He[1]=Z.length>=2?Z[1]:He[0],He[2]=Z.length>=3?Z[2]:He[0],He[3]=Z.length>=4?Z[3]:He[1]),p.margin=He}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Z){fe=Z}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Z){ge=Z}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(Z){_e=Z}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Z){Z instanceof v&&(p=Z)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Z){p.path=Z}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Z){Pe=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var He;He=N(Z),this.ctx.fillStyle=He.style,this.ctx.isFillTransparent=He.a===0,this.ctx.fillOpacity=He.a,this.pdf.setFillColor(He.r,He.g,He.b,{a:He.a}),this.pdf.setTextColor(He.r,He.g,He.b,{a:He.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var He=N(Z);this.ctx.strokeStyle=He.style,this.ctx.isStrokeTransparent=He.a===0,this.ctx.strokeOpacity=He.a,He.a===0?this.pdf.setDrawColor(255,255,255):(He.a,this.pdf.setDrawColor(He.r,He.g,He.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var Me=null,$e=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Z){Me=null,$e=null,Ke=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var He;if(this.ctx.font=Z,(He=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var St=He[1];He[2];var yt=He[3],De=He[4];He[5];var wt=He[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(Ye==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var Qe=(function(nt){var wr,Qt,zt=[],qt=nt.trim();if(qt==="")return Kp;if(qt in xv)return[xv[qt]];for(;qt!=="";){switch(Qt=null,wr=(qt=_v(qt)).charAt(0)){case'"':case"'":Qt=q6(qt.substring(1),wr);break;default:Qt=$6(qt)}if(Qt===null||(zt.push(Qt[0]),(qt=_v(Qt[1]))!==""&&qt.charAt(0)!==","))return Kp;qt=qt.replace(/^,/,"")}return zt})(wt);if(this.fontFaces){var ot=(function(nt,wr){var Qt=nt.getFontList(),zt=JSON.stringify(Qt);if(Me===null||$e!==zt){var qt=(function(mr){var xt=[];return Object.keys(mr).forEach(function(ar){mr[ar].forEach(function(ht){var Tt=null;switch(ht){case"bold":Tt={family:ar,weight:"bold"};break;case"italic":Tt={family:ar,style:"italic"};break;case"bolditalic":Tt={family:ar,weight:"bold",style:"italic"};break;case"":case"normal":Tt={family:ar}}Tt!==null&&(Tt.ref={name:ar,style:ht},xt.push(Tt))})}),xt})(Qt);Me=(function(mr){for(var xt={},ar=0;ar<mr.length;++ar){var ht=Gp(mr[ar]),Tt=ht.family,cr=ht.stretch,Rt=ht.style,Nt=ht.weight;xt[Tt]=xt[Tt]||{},xt[Tt][cr]=xt[Tt][cr]||{},xt[Tt][cr][Rt]=xt[Tt][cr][Rt]||{},xt[Tt][cr][Rt][Nt]=ht}return xt})(qt.concat(wr)),$e=zt}return Me})(this.pdf,this.fontFaces),ir=Qe.map(function(nt){return{family:nt,stretch:"normal",weight:yt,style:St}}),Kt=(function(nt,wr,Qt){for(var zt=(Qt=Qt||{}).defaultFontFamily||"times",qt=Object.assign({},z6,Qt.genericFontFamilies||{}),mr=null,xt=null,ar=0;ar<wr.length;++ar)if(qt[(mr=Gp(wr[ar])).family]&&(mr.family=qt[mr.family]),nt.hasOwnProperty(mr.family)){xt=nt[mr.family];break}if(!(xt=xt||nt[zt]))throw new Error("Could not find a font-family for the rule '"+bv(mr)+"' and default family '"+zt+"'.");if(xt=(function(ht,Tt){if(Tt[ht])return Tt[ht];var cr=Tm[ht],Rt=cr<=Tm.normal?-1:1,Nt=wv(Tt,N5,cr,Rt);if(!Nt)throw new Error("Could not find a matching font-stretch value for "+ht);return Nt})(mr.stretch,xt),xt=(function(ht,Tt){if(Tt[ht])return Tt[ht];for(var cr=S5[ht],Rt=0;Rt<cr.length;++Rt)if(Tt[cr[Rt]])return Tt[cr[Rt]];throw new Error("Could not find a matching font-style for "+ht)})(mr.style,xt),!(xt=(function(ht,Tt){if(Tt[ht])return Tt[ht];if(ht===400&&Tt[500])return Tt[500];if(ht===500&&Tt[400])return Tt[400];var cr=U6[ht],Rt=wv(Tt,k5,cr,ht<400?-1:1);if(!Rt)throw new Error("Could not find a matching font-weight for value "+ht);return Rt})(mr.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+bv(mr)+"'.");return xt})(ot,ir);this.pdf.setFont(Kt.ref.name,Kt.ref.style)}else{var Et="";(yt==="bold"||parseInt(yt,10)>=700||St==="bold")&&(Et="bold"),St==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var Jt="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<Qe.length;rt++){if(this.pdf.internal.getFont(Qe[rt],Et,{noFallback:!0,disableWarning:!0})!==void 0){Jt=Qe[rt];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(Qe[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Jt=Qe[rt],Et="bold";else if(this.pdf.internal.getFont(Qe[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Jt=Qe[rt],Et="normal";break}}if(Jt===""){for(var kt=0;kt<Qe.length;kt++)if(Ut[Qe[kt]]){Jt=Ut[Qe[kt]];break}}Jt=Jt===""?"Times":Jt,this.pdf.setFont(Jt,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};w.prototype.setLineDash=function(T){this.lineDash=T},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){O.call(this,"fill",!1)},w.prototype.stroke=function(){O.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(T,$){if(isNaN(T)||isNaN($))throw Fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new l(T,$));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(T,$)},w.prototype.closePath=function(){var T=new l(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Pr(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){T=new l(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(T.x,T.y)},w.prototype.lineTo=function(T,$){if(isNaN(T)||isNaN($))throw Fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new l(T,$));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new l(X.x,X.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},w.prototype.quadraticCurveTo=function(T,$,X,ue){if(isNaN(X)||isNaN(ue)||isNaN(T)||isNaN($))throw Fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new l(X,ue)),ne=this.ctx.transform.applyToPoint(new l(T,$));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:de.x,y:de.y}),this.ctx.lastPoint=new l(de.x,de.y)},w.prototype.bezierCurveTo=function(T,$,X,ue,de,ne){if(isNaN(de)||isNaN(ne)||isNaN(T)||isNaN($)||isNaN(X)||isNaN(ue))throw Fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new l(de,ne)),ge=this.ctx.transform.applyToPoint(new l(T,$)),_e=this.ctx.transform.applyToPoint(new l(X,ue));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:_e.x,y2:_e.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new l(fe.x,fe.y)},w.prototype.arc=function(T,$,X,ue,de,ne){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(ue)||isNaN(de))throw Fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new l(T,$));T=fe.x,$=fe.y;var ge=this.ctx.transform.applyToPoint(new l(0,X)),_e=this.ctx.transform.applyToPoint(new l(0,0));X=Math.sqrt(Math.pow(ge.x-_e.x,2)+Math.pow(ge.y-_e.y,2))}Math.abs(de-ue)>=2*Math.PI&&(ue=0,de=2*Math.PI),this.path.push({type:"arc",x:T,y:$,radius:X,startAngle:ue,endAngle:de,counterclockwise:ne})},w.prototype.arcTo=function(T,$,X,ue,de){throw new Error("arcTo not implemented.")},w.prototype.rect=function(T,$,X,ue){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(ue))throw Fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,$),this.lineTo(T+X,$),this.lineTo(T+X,$+ue),this.lineTo(T,$+ue),this.lineTo(T,$),this.lineTo(T+X,$),this.lineTo(T,$)},w.prototype.fillRect=function(T,$,X,ue){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(ue))throw Fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,$,X,ue),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},w.prototype.strokeRect=function(T,$,X,ue){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(ue))throw Fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(T,$,X,ue),this.stroke())},w.prototype.clearRect=function(T,$,X,ue){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(ue))throw Fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,$,X,ue))},w.prototype.save=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage($),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},w.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage($),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(T){var $,X,ue,de;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))$=0,X=0,ue=0,de=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(ne!==null)$=parseInt(ne[1]),X=parseInt(ne[2]),ue=parseInt(ne[3]),de=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)$=parseInt(ne[1]),X=parseInt(ne[2]),ue=parseInt(ne[3]),de=parseFloat(ne[4]);else{if(de=1,typeof T=="string"&&T.charAt(0)!=="#"){var fe=new g5(T);T=fe.ok?fe.toHex():"#000000"}T.length===4?($=T.substring(1,2),$+=$,X=T.substring(2,3),X+=X,ue=T.substring(3,4),ue+=ue):($=T.substring(1,3),X=T.substring(3,5),ue=T.substring(5,7)),$=parseInt($,16),X=parseInt(X,16),ue=parseInt(ue,16)}}return{r:$,g:X,b:ue,a:de,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(T,$,X,ue){if(isNaN($)||isNaN(X)||typeof T!="string")throw Fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!h.call(this)){var de=F(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;W.call(this,{text:T,x:$,y:X,scale:ne,angle:de,align:this.textAlign,maxWidth:ue})}},w.prototype.strokeText=function(T,$,X,ue){if(isNaN($)||isNaN(X)||typeof T!="string")throw Fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){ue=isNaN(ue)?void 0:ue;var de=F(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;W.call(this,{text:T,x:$,y:X,scale:ne,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ue})}},w.prototype.measureText=function(T){if(typeof T!="string")throw Fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,X=this.pdf.internal.scaleFactor,ue=$.internal.getFontSize(),de=$.getStringUnitWidth(T)*ue/$.internal.scaleFactor;return new function(ne){var fe=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:de*=Math.round(96*X/72*1e4)/1e4})},w.prototype.scale=function(T,$){if(isNaN(T)||isNaN($))throw Fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new d(T,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},w.prototype.rotate=function(T){if(isNaN(T))throw Fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new d(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply($)},w.prototype.translate=function(T,$){if(isNaN(T)||isNaN($))throw Fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new d(1,0,0,1,T,$);this.ctx.transform=this.ctx.transform.multiply(X)},w.prototype.transform=function(T,$,X,ue,de,ne){if(isNaN(T)||isNaN($)||isNaN(X)||isNaN(ue)||isNaN(de)||isNaN(ne))throw Fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new d(T,$,X,ue,de,ne);this.ctx.transform=this.ctx.transform.multiply(fe)},w.prototype.setTransform=function(T,$,X,ue,de,ne){T=isNaN(T)?1:T,$=isNaN($)?0:$,X=isNaN(X)?0:X,ue=isNaN(ue)?1:ue,de=isNaN(de)?0:de,ne=isNaN(ne)?0:ne,this.ctx.transform=new d(T,$,X,ue,de,ne)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(T,$,X,ue,de,ne,fe,ge,_e){var Pe=this.pdf.getImageProperties(T),Me=1,$e=1,Ke=1,Z=1;ue!==void 0&&ge!==void 0&&(Ke=ge/ue,Z=_e/de,Me=Pe.width/ue*ge/ue,$e=Pe.height/de*_e/de),ne===void 0&&(ne=$,fe=X,$=0,X=0),ue!==void 0&&ge===void 0&&(ge=ue,_e=de),ue===void 0&&ge===void 0&&(ge=Pe.width,_e=Pe.height);var He=this.ctx.transform.decompose(),St=F(He.rotate.shx),yt=new d,De=(yt=(yt=(yt=yt.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new c(ne-$*Ke,fe-X*Z,ue*Me,de*$e));if(this.autoPaging){for(var wt,Ye=C.call(this,De),Qe=[],ot=0;ot<Ye.length;ot+=1)Qe.indexOf(Ye[ot])===-1&&Qe.push(Ye[ot]);P(Qe);for(var ir=Qe[0],Kt=Qe[Qe.length-1],Et=ir;Et<Kt+1;Et++){this.pdf.setPage(Et);var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=Et===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Et===1?0:rt+(Et-2)*kt;if(this.ctx.clip_path.length!==0){var wr=this.path;wt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(wt,this.posX+this.margin[3],-nt+Ut+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=wr}var Qt=JSON.parse(JSON.stringify(De));Qt=j([Qt],this.posX+this.margin[3],-nt+Ut+this.ctx.prevPageLastElemOffset)[0];var zt=(Et>ir||Et<Kt)&&_.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,kt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,St),zt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",De.x,De.y,De.w,De.h,null,null,St)};var C=function(T,$,X){var ue=[];$=$||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ue.push(Math.floor((T.y+de)/X)+1);break;case"arc":ue.push(Math.floor((T.y+de-T.radius)/X)+1),ue.push(Math.floor((T.y+de+T.radius)/X)+1);break;case"qct":var ne=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ue.push(Math.floor((ne.y+de)/X)+1),ue.push(Math.floor((ne.y+ne.h+de)/X)+1);break;case"bct":var fe=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ue.push(Math.floor((fe.y+de)/X)+1),ue.push(Math.floor((fe.y+fe.h+de)/X)+1);break;case"rect":ue.push(Math.floor((T.y+de)/X)+1),ue.push(Math.floor((T.y+T.h+de)/X)+1)}for(var ge=0;ge<ue.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<ue[ge];)E.call(this);return ue},E=function(){var T=this.fillStyle,$=this.strokeStyle,X=this.font,ue=this.lineCap,de=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=$,this.font=X,this.lineCap=ue,this.lineWidth=de,this.lineJoin=ne},j=function(T,$,X){for(var ue=0;ue<T.length;ue++)switch(T[ue].type){case"bct":T[ue].x2+=$,T[ue].y2+=X;case"qct":T[ue].x1+=$,T[ue].y1+=X;default:T[ue].x+=$,T[ue].y+=X}return T},P=function(T){return T.sort(function($,X){return $-X})},O=function(T,$){var X=this.fillStyle,ue=this.strokeStyle,de=this.lineCap,ne=this.lineWidth,fe=Math.abs(ne*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var _e,Pe,Me=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),Ke=[],Z=0;Z<$e.length;Z++)if($e[Z].x!==void 0)for(var He=C.call(this,$e[Z]),St=0;St<He.length;St+=1)Ke.indexOf(He[St])===-1&&Ke.push(He[St]);for(var yt=0;yt<Ke.length;yt++)for(;this.pdf.internal.getNumberOfPages()<Ke[yt];)E.call(this);P(Ke);for(var De=Ke[0],wt=Ke[Ke.length-1],Ye=De;Ye<wt+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=X,this.strokeStyle=ue,this.lineCap=de,this.lineWidth=fe,this.lineJoin=ge;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Ye===1?this.posY+this.margin[0]:this.margin[0],ir=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=Ye===1?0:ir+(Ye-2)*Kt;if(this.ctx.clip_path.length!==0){var Jt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(_e,this.posX+this.margin[3],-Et+ot+this.ctx.prevPageLastElemOffset),U.call(this,T,!0),this.path=Jt}if(Pe=JSON.parse(JSON.stringify(Me)),this.path=j(Pe,this.posX+this.margin[3],-Et+ot+this.ctx.prevPageLastElemOffset),$===!1||Ye===0){var Ut=(Ye>De||Ye<wt)&&_.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Kt,null).clip().discardPath()),U.call(this,T,$),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}this.path=Me}else this.lineWidth=fe,U.call(this,T,$),this.lineWidth=ne},U=function(T,$){if((T!=="stroke"||$||!k.call(this))&&(T==="stroke"||$||!h.call(this))){for(var X,ue,de=[],ne=this.path,fe=0;fe<ne.length;fe++){var ge=ne[fe];switch(ge.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:ge,deltas:[],abs:[]});break;case"lt":var _e=de.length;if(ne[fe-1]&&!isNaN(ne[fe-1].x)&&(X=[ge.x-ne[fe-1].x,ge.y-ne[fe-1].y],_e>0)){for(;_e>=0;_e--)if(de[_e-1].close!==!0&&de[_e-1].begin!==!0){de[_e-1].deltas.push(X),de[_e-1].abs.push(ge);break}}break;case"bct":X=[ge.x1-ne[fe-1].x,ge.y1-ne[fe-1].y,ge.x2-ne[fe-1].x,ge.y2-ne[fe-1].y,ge.x-ne[fe-1].x,ge.y-ne[fe-1].y],de[de.length-1].deltas.push(X);break;case"qct":var Pe=ne[fe-1].x+2/3*(ge.x1-ne[fe-1].x),Me=ne[fe-1].y+2/3*(ge.y1-ne[fe-1].y),$e=ge.x+2/3*(ge.x1-ge.x),Ke=ge.y+2/3*(ge.y1-ge.y),Z=ge.x,He=ge.y;X=[Pe-ne[fe-1].x,Me-ne[fe-1].y,$e-ne[fe-1].x,Ke-ne[fe-1].y,Z-ne[fe-1].x,He-ne[fe-1].y],de[de.length-1].deltas.push(X);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(ge)}}ue=$?null:T==="stroke"?"stroke":"fill";for(var St=!1,yt=0;yt<de.length;yt++)if(de[yt].arc)for(var De=de[yt].abs,wt=0;wt<De.length;wt++){var Ye=De[wt];Ye.type==="arc"?G.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,$,!St):ae.call(this,Ye.x,Ye.y),St=!0}else if(de[yt].close===!0)this.pdf.internal.out("h"),St=!1;else if(de[yt].begin!==!0){var Qe=de[yt].start.x,ot=de[yt].start.y;ie.call(this,de[yt].deltas,Qe,ot),St=!0}ue&&K.call(this,ue),$&&pe.call(this)}},le=function(T){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-X;case"top":return T+$-X;case"hanging":return T+$-2*X;case"middle":return T+$/2-X;default:return T}},q=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function($,X){this.colorStops.push([$,X])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(T,$,X,ue,de,ne,fe,ge,_e){for(var Pe=V.call(this,X,ue,de,ne),Me=0;Me<Pe.length;Me++){var $e=Pe[Me];Me===0&&(_e?I.call(this,$e.x1+T,$e.y1+$):ae.call(this,$e.x1+T,$e.y1+$)),oe.call(this,T,$,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}ge?pe.call(this):K.call(this,fe)},K=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},pe=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(T,$){this.pdf.internal.out(r(T)+" "+n($)+" m")},W=function(T){var $;switch(T.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var X,ue,de,ne=this.pdf.getTextDimensions(T.text),fe=le.call(this,T.y),ge=q.call(this,fe)-ne.h,_e=this.ctx.transform.applyToPoint(new l(T.x,fe));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),Me=new d;Me=(Me=(Me=Me.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var $e=this.ctx.transform.applyToRectangle(new c(T.x,fe,ne.w,ne.h)),Ke=Me.applyToRectangle(new c(T.x,ge,ne.w,ne.h)),Z=C.call(this,Ke),He=[],St=0;St<Z.length;St+=1)He.indexOf(Z[St])===-1&&He.push(Z[St]);P(He);for(var yt=He[0],De=He[He.length-1],wt=yt;wt<De+1;wt++){this.pdf.setPage(wt);var Ye=wt===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[2],ir=ot-this.margin[0],Kt=this.pdf.internal.pageSize.width-this.margin[1],Et=Kt-this.margin[3],Jt=wt===1?0:Qe+(wt-2)*ir;if(this.ctx.clip_path.length!==0){var Ut=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(X,this.posX+this.margin[3],-1*Jt+Ye),U.call(this,"fill",!0),this.path=Ut}var rt=j([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Jt+Ye+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*T.scale),de=this.lineWidth,this.lineWidth=de*T.scale);var kt=this.autoPaging!=="text";if(kt||rt.y+rt.h<=ot){if(kt||rt.y>=Ye&&rt.x<=Kt){var nt=kt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Kt-rt.x)[0],wr=j([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Jt+Ye+this.ctx.prevPageLastElemOffset)[0],Qt=kt&&(wt>yt||wt<De)&&_.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,ir,null).clip().discardPath()),this.pdf.text(nt,wr.x,wr.y,{angle:T.angle,align:$,renderingMode:T.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else rt.y<ot&&(this.ctx.prevPageLastElemOffset+=ot-rt.y);T.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=de)}}else T.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*T.scale),de=this.lineWidth,this.lineWidth=de*T.scale),this.pdf.text(T.text,_e.x+this.posX,_e.y+this.posY,{angle:T.angle,align:$,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=de)},ae=function(T,$,X,ue){X=X||0,ue=ue||0,this.pdf.internal.out(r(T+X)+" "+n($+ue)+" l")},ie=function(T,$,X){return this.pdf.lines(T,$,X,null,null)},oe=function(T,$,X,ue,de,ne,fe,ge){this.pdf.internal.out([e(a(X+T)),e(o(ue+$)),e(a(de+T)),e(o(ne+$)),e(a(fe+T)),e(o(ge+$)),"c"].join(" "))},V=function(T,$,X,ue){for(var de=2*Math.PI,ne=Math.PI/2;$>X;)$-=de;var fe=Math.abs(X-$);fe<de&&ue&&(fe=de-fe);for(var ge=[],_e=ue?-1:1,Pe=$;fe>1e-5;){var Me=Pe+_e*Math.min(fe,ne);ge.push(ee.call(this,T,Pe,Me)),fe-=Math.abs(Me-Pe),Pe=Me}return ge},ee=function(T,$,X){var ue=(X-$)/2,de=T*Math.cos(ue),ne=T*Math.sin(ue),fe=de,ge=-ne,_e=fe*fe+ge*ge,Pe=_e+fe*de+ge*ne,Me=4/3*(Math.sqrt(2*_e*Pe)-Pe)/(fe*ne-ge*de),$e=fe-Me*ge,Ke=ge+Me*fe,Z=$e,He=-Ke,St=ue+$,yt=Math.cos(St),De=Math.sin(St);return{x1:T*Math.cos($),y1:T*Math.sin($),x2:$e*yt-Ke*De,y2:$e*De+Ke*yt,x3:Z*yt-He*De,y3:Z*De+He*yt,x4:T*Math.cos(X),y4:T*Math.sin(X)}},F=function(T){return 180*T/Math.PI},ce=function(T,$,X,ue,de,ne){var fe=T+.5*(X-T),ge=$+.5*(ue-$),_e=de+.5*(X-de),Pe=ne+.5*(ue-ne),Me=Math.min(T,de,fe,_e),$e=Math.max(T,de,fe,_e),Ke=Math.min($,ne,ge,Pe),Z=Math.max($,ne,ge,Pe);return new c(Me,Ke,$e-Me,Z-Ke)},we=function(T,$,X,ue,de,ne,fe,ge){var _e,Pe,Me,$e,Ke,Z,He,St,yt,De,wt,Ye,Qe,ot,ir=X-T,Kt=ue-$,Et=de-X,Jt=ne-ue,Ut=fe-de,rt=ge-ne;for(Pe=0;Pe<41;Pe++)yt=(He=(Me=T+(_e=Pe/40)*ir)+_e*((Ke=X+_e*Et)-Me))+_e*(Ke+_e*(de+_e*Ut-Ke)-He),De=(St=($e=$+_e*Kt)+_e*((Z=ue+_e*Jt)-$e))+_e*(Z+_e*(ne+_e*rt-Z)-St),Pe==0?(wt=yt,Ye=De,Qe=yt,ot=De):(wt=Math.min(wt,yt),Ye=Math.min(Ye,De),Qe=Math.max(Qe,yt),ot=Math.max(ot,De));return new c(Math.round(wt),Math.round(Ye),Math.round(Qe-wt),Math.round(ot-Ye))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,$,X=(T=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:$}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(bt.API),(function(t){var e=function(l){var c,d,p,v,w,N,h,k,_,C;for(d=[],p=0,v=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;v>p;p+=4)(w=(l.charCodeAt(p)<<24)+(l.charCodeAt(p+1)<<16)+(l.charCodeAt(p+2)<<8)+l.charCodeAt(p+3))!==0?(N=(w=((w=((w=((w=(w-(C=w%85))/85)-(_=w%85))/85)-(k=w%85))/85)-(h=w%85))/85)%85,d.push(N+33,h+33,k+33,_+33,C+33)):d.push(122);return(function(E,j){for(var P=j;P>0;P--)E.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},r=function(l){var c,d,p,v,w,N=String,h="length",k=255,_="charCodeAt",C="slice",E="replace";for(l[C](-2),l=l[C](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),p=[],v=0,w=(l+=c="uuuuu"[C](l[h]%5||5))[h];w>v;v+=5)d=52200625*(l[_](v)-33)+614125*(l[_](v+1)-33)+7225*(l[_](v+2)-33)+85*(l[_](v+3)-33)+(l[_](v+4)-33),p.push(k&d>>24,k&d>>16,k&d>>8,k&d);return(function(j,P){for(var O=P;O>0;O--)j.pop()})(p,c[h]),N.fromCharCode.apply(N,p)},n=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",p=0;p<l.length;p+=2)d+=String.fromCharCode("0x"+(l[p]+l[p+1]));return d},o=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=km(c)).reduce(function(p,v){return p+String.fromCharCode(v)},"")};t.processDataByFilters=function(l,c){var d=0,p=l||"",v=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":p=r(p),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=e(p),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=a(p),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=n(p),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=o(p),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:p,reverseChain:v.reverse().join(" ")}}})(bt.API),(function(t){t.loadFile=function(e,r,n){return(function(a,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(d,p,v){var w=new XMLHttpRequest,N=0,h=function(k){var _=k.length,C=[],E=String.fromCharCode;for(N=0;N<_;N+=1)C.push(E(255&k.charCodeAt(N)));return C.join("")};if(w.open("GET",d,!p),w.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(w.onload=function(){w.status===200?v(h(this.responseText)):v(void 0)}),w.send(null),p&&w.status===200)return h(w.responseText)})(a,o,l)}catch{}return c})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(bt.API),(function(t){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):Cp(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):Cp(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=Pr(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(c,d){var p=document.createElement(c);for(var v in d.className&&(p.className=d.className),d.innerHTML&&d.dompurify&&(p.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)p.style[v]=d.style[v];return p},o=function c(d,p){for(var v=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),w=d.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||v.appendChild(c(w,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(v.width=d.width,v.height=d.height,v.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(v.value=d.value),v.addEventListener("load",function(){v.scrollTop=d.scrollTop,v.scrollLeft=d.scrollLeft},!0)),v},l=function c(d){var p=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),v=c.convert(Promise.resolve(),p);return(v=v.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(p){switch(n(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(r).then(function(p){return this.set({src:a("div",{innerHTML:c,dompurify:p})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,d(this.prop.container,p)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var p=this.opt.jsPDF,v=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=v,v)for(var h=0;h<v.length;++h){var k=v[h],_=k.src.find(function(C){return C.format==="truetype"});_&&p.addFont(_.url,k.ref.name,k.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,p.context2d.save(!0),d(this.prop.container,N)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(n(c)!=="object")return this;var d=Object.keys(c||{}).map(function(p){if(p in l.template.prop)return function(){this.prop[p]=c[p]};switch(p){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[p]=c[p]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var p=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(p):p})},l.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(p,v){return Math.floor(p*v/72*96)}return this.then(function(){(c=c||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,p,v){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),p!=null&&(this.progress.n=p),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,p,v){return this.setProgress(c?this.progress.val+c:null,d||null,p?this.progress.n+p:null,v?this.progress.stack.concat(v):null)},l.prototype.then=function(c,d){var p=this;return this.thenCore(c,d,function(v,w){return p.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(N){return p.updateProgress(null,v),N}).then(v,w).then(function(N){return p.updateProgress(1),N})})},l.prototype.thenCore=function(c,d,p){p=p||Promise.prototype.then;var v=this;c&&(c=c.bind(v)),d&&(d=d.bind(v));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:l.convert(Object.assign({},v),Promise.prototype),N=p.call(w,c,d);return l.convert(N,v.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(p){d=d.thenCore(p)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,bt.getPageSize=function(c,d,p){if(Pr(c)==="object"){var v=c;c=v.orientation,d=v.unit||d,p=v.format||p}d=d||"mm",p=p||"a4",c=(""+(c||"P")).toLowerCase();var w,N=(""+p).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+d}var k,_=0,C=0;if(h.hasOwnProperty(N))_=h[N][1]/w,C=h[N][0]/w;else try{_=p[1],C=p[0]}catch{throw new Error("Invalid format: "+p)}if(c==="p"||c==="portrait")c="p",C>_&&(k=C,C=_,_=k);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",_>C&&(k=C,C=_,_=k)}return{width:C,height:_,unit:d,k:w,orientation:c}},t.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Gp):null;var p=new l(d);return d.worker?p:p.from(c).doCallback()}})(bt.API),bt.API.addJS=function(t){return Nv=t,this.internal.events.subscribe("postPutResources",function(){Ih=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ih+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Sv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Nv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ih!==void 0&&Sv!==void 0&&this.internal.out("/Names <</JavaScript "+Ih+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),o=0;o<a.length;o++){var l=a[o],c=n.exec(l);if(c!=null){var d=c[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,v=[];for(o=0;o<p;o++){var w=r.internal.newObject();v.push(w);var N=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<v.length;o++)r.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,o){var l={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var l=n.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<n.children.length;p++)this.renderItems(n.children[p])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])})(bt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,o,l,c){var d,p=this.decode.DCT_DECODE,v=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(w){for(var N,h=256*w.charCodeAt(4)+w.charCodeAt(5),k=w.length,_={width:0,height:0,numcomponents:1},C=4;C<k;C+=2){if(C+=h,e.indexOf(w.charCodeAt(C+1))!==-1){N=256*w.charCodeAt(C+5)+w.charCodeAt(C+6),_={width:256*w.charCodeAt(C+7)+w.charCodeAt(C+8),height:N,numcomponents:w.charCodeAt(C+9)};break}h=256*w.charCodeAt(C+2)+w.charCodeAt(C+3)}return _})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}v={data:r,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:p,index:n,alias:a}}return v}})(bt.API),bt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,o=A6(t,{checkCrc:!0}),l=o.width,c=o.height,d=o.channels,p=o.palette,v=o.depth;a=p&&d===1?(function(G){for(var K=G.width,pe=G.height,I=G.data,W=G.palette,ae=G.depth,ie=!1,oe=[],V=[],ee=void 0,F=!1,ce=0,we=0;we<W.length;we++){var J=E1(W[we],4),T=J[0],$=J[1],X=J[2],ue=J[3];oe.push(T,$,X),ue!=null&&(ue===0?(ce++,V.length<1&&V.push(we)):ue<255&&(F=!0))}if(F||ce>1){ie=!0,V=void 0;var de=K*pe;ee=new Uint8Array(de);for(var ne=new DataView(I.buffer),fe=0;fe<de;fe++){var ge=Jp(ne,fe,ae),_e=E1(W[ge],4)[3];ee[fe]=_e}}else ce===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ie?8:void 0,colorBytes:I,alphaBytes:ee,needSMask:ie,palette:oe,mask:V}})(o):d===2||d===4?(function(G){for(var K=G.data,pe=G.width,I=G.height,W=G.channels,ae=G.depth,ie=W===2?"DeviceGray":"DeviceRGB",oe=W-1,V=pe*I,ee=oe,F=V*ee,ce=1*V,we=Math.ceil(F*ae/8),J=Math.ceil(ce*ae/8),T=new Uint8Array(we),$=new Uint8Array(J),X=new DataView(K.buffer),ue=new DataView(T.buffer),de=new DataView($.buffer),ne=!1,fe=0;fe<V;fe++){for(var ge=fe*W,_e=0;_e<ee;_e++)Ov(ue,Jp(X,ge+_e,ae),fe*ee+_e,ae);var Pe=Jp(X,ge+ee,ae);Pe<(1<<ae)-1&&(ne=!0),Ov(de,Pe,1*fe,ae)}return{colorSpace:ie,colorsPerPixel:oe,sMaskBitsPerComponent:ne?ae:void 0,colorBytes:T,alphaBytes:$,needSMask:ne}})(o):(function(G){var K=G.data,pe=G.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:pe,colorsPerPixel:pe==="DeviceGray"?1:3,colorBytes:K instanceof Uint16Array?(function(I){for(var W=I.length,ae=new Uint8Array(2*W),ie=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),oe=0;oe<W;oe++)ie.setUint16(2*oe,I[oe],!1);return ae})(K):K,needSMask:!1}})(o);var w,N,h,k=a,_=k.colorSpace,C=k.colorsPerPixel,E=k.sMaskBitsPerComponent,j=k.colorBytes,P=k.alphaBytes,O=k.needSMask,U=k.palette,le=k.mask,q=null;return n!==bt.API.image_compression.NONE&&typeof km=="function"?(q=(function(G){var K;switch(G){case bt.API.image_compression.FAST:K=11;break;case bt.API.image_compression.MEDIUM:K=13;break;case bt.API.image_compression.SLOW:K=14;break;default:K=12}return K})(n),w=this.decode.FLATE_DECODE,N="/Predictor ".concat(q," /Colors ").concat(C," /BitsPerComponent ").concat(v," /Columns ").concat(l),t=Ev(j,Math.ceil(l*C*v/8),C,v,n),O&&(h=Ev(P,Math.ceil(l*E/8),1,E,n))):(w=void 0,N=void 0,t=j,O&&(h=P)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:w,decodeParameters:N,transparency:le,palette:U,sMask:h,predictor:q,width:l,height:c,bitsPerComponent:v,sMaskBitsPerComponent:E,colorSpace:_}}},(function(t){t.processGIF89A=function(e,r,n,a){var o=new G6(e),l=o.width,c=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var p={data:d,width:l,height:c},v=new Yp(100).encode(p,100);return t.processJPEG.call(this,v,r,n,a)},t.processGIF87A=t.processGIF89A})(bt.API),oa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Fr.log("bit decode error:"+r)}},oa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var d=this.palette[o>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}r!==0&&(this.pos+=4-r)}},oa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,c=o>>4,d=15&o,p=this.palette[c];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*a+1>=this.width)break;p=this.palette[d],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},oa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},oa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,p=o>>15?255:0,v=n*this.width*4+4*a;this.data[v]=d,this.data[v+1]=c,this.data[v+2]=l,this.data[v+3]=p}this.pos+=t}},oa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&r)/r*255|0,p=(l>>11)/e*255|0,v=a*this.width*4+4*o;this.data[v]=p,this.data[v+1]=d,this.data[v+2]=c,this.data[v+3]=255}this.pos+=t}},oa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=o,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},oa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=l}},oa.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var o=new oa(e,!1),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},p=new Yp(100).encode(d,100);return t.processJPEG.call(this,p,r,n,a)}})(bt.API),Iv.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var o=new Iv(e),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},p=new Yp(100).encode(d,100);return t.processJPEG.call(this,p,r,n,a)}})(bt.API),bt.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,o=new Uint8Array(a/4*3),l=new Uint8Array(a/4),c=0,d=0,p=0;p<a;p+=4){var v=n[p],w=n[p+1],N=n[p+2],h=n[p+3];o[c++]=v,o[c++]=w,o[c++]=N,l[d++]=h}var k=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:k,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},bt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},uu=bt.API,Dh=uu.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,d=c.fof?c.fof:1,p=e.kerning?e.kerning:a.metadata.Unicode.kerning,v=p.fof?p.fof:1,w=e.doKerning!==!1,N=0,h=t.length,k=0,_=c[0]||d,C=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?C.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/o)||0)/1e3):(N=w&&Pr(p[n])==="object"&&!isNaN(parseInt(p[n][k],10))?p[n][k]/v:0,C.push((c[n]||_)/d+N)),k=n;return C},kv=uu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return uu.processArabic&&(t=uu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Dh.apply(this,arguments).reduce(function(o,l){return o+l},0)},Av=function(t,e,r,n){for(var a=[],o=0,l=t.length,c=0;o!==l&&c+e[o]<r;)c+=e[o],o++;a.push(t.slice(0,o));var d=o;for(c=0;o!==l;)c+e[o]>n&&(a.push(t.slice(d,o)),c=0,d=o),c+=e[o],o++;return d!==o&&a.push(t.slice(d,o)),a},jv=function(t,e,r){r||(r={});var n,a,o,l,c,d,p,v=[],w=[v],N=r.textIndent||0,h=0,k=0,_=t.split(" "),C=Dh.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var E=Array(d).join(" "),j=[];_.map(function(O){(O=O.split(/\s*\n/)).length>1?j=j.concat(O.map(function(U,le){return(le&&U.length?`
`:"")+U})):j.push(O[0])}),_=j,d=kv.apply(this,[E,r])}for(o=0,l=_.length;o<l;o++){var P=0;if(n=_[o],d&&n[0]==`
`&&(n=n.substr(1),P=1),N+h+(k=(a=Dh.apply(this,[n,r])).reduce(function(O,U){return O+U},0))>e||P){if(k>e){for(c=Av.apply(this,[n,a,e-(N+h),e]),v.push(c.shift()),v=[c.pop()];c.length;)w.push([c.shift()]);k=a.slice(n.length-(v[0]?v[0].length:0)).reduce(function(O,U){return O+U},0)}else v=[n];w.push(v),N=k+d,h=C}else v.push(n),N+=h+k,h=C}return p=d?function(O,U){return(U?E:"")+O.join(" ")}:function(O){return O.join(" ")},w.map(p)},uu.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var w=this.internal.getFont(v.fontName,v.fontStyle),N="Unicode";return w.metadata[N]?{widths:w.metadata[N].widths||{0:1},kerning:w.metadata[N].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/a;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=r.lineIndent;var c,d,p=[];for(c=0,d=n.length;c<d;c++)p=p.concat(jv.apply(this,[n[c],l,o]));return p},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},o=0;o<16;o++)n[r[o]]=e[o],a[e[o]]=r[o];var l=function(N){return"0x"+parseInt(N,10).toString(16)},c=t.__fontmetrics__.compress=function(N){var h,k,_,C,E=["{"];for(var j in N){if(h=N[j],isNaN(parseInt(j,10))?k="'"+j+"'":(j=parseInt(j,10),k=(k=l(j).slice(2)).slice(0,-1)+a[k.slice(-1)]),typeof h=="number")h<0?(_=l(h).slice(3),C="-"):(_=l(h).slice(2),C=""),_=C+_.slice(0,-1)+a[_.slice(-1)];else{if(Pr(h)!=="object")throw new Error("Don't know what to do with value type "+Pr(h)+".");_=c(h)}E.push(k+_)}return E.push("}"),E.join("")},d=t.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,k,_,C,E={},j=1,P=E,O=[],U="",le="",q=N.length-1,G=1;G<q;G+=1)(C=N[G])=="'"?h?(_=h.join(""),h=void 0):h=[]:h?h.push(C):C=="{"?(O.push([P,_]),P={},_=void 0):C=="}"?((k=O.pop())[0][k[1]]=P,_=void 0,P=k[0]):C=="-"?j=-1:_===void 0?n.hasOwnProperty(C)?(U+=n[C],_=parseInt(U,16)*j,j=1,U=""):U+=C:n.hasOwnProperty(C)?(le+=n[C],P[_]=parseInt(le,16)*j,j=1,_=void 0,le=""):le+=C;return E},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},w={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(N){var h=N.font,k=w.Unicode[h.postScriptName];k&&(h.metadata.Unicode={},h.metadata.Unicode.widths=k.widths,h.metadata.Unicode.kerning=k.kerning);var _=v.Unicode[h.postScriptName];_&&(h.metadata.Unicode.encoding=_,h.encoding=_.codePages[0])}])})(bt.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=r.charCodeAt(o);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(qh(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])})(bt),bt.API.addSvgAsImage=function(t,e,r,n,a,o,l,c){if(isNaN(e)||isNaN(r))throw Fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=a;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Ft.canvg?Promise.resolve(Ft.canvg):Cp(()=>import("./index.es-1eztLKFZ.js"),[])).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(p,t,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(v)}).then(function(){w.addImage(d.toDataURL("image/jpeg",1),e,r,n,a,l,c)})},bt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},bt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],p=0,v=0,w=0;function N(k,_){var C,E=!1;for(C=0;C<k.length;C+=1)k[C]===_&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=c.length;for(w=0;w<h;w+=1)r[c[w]].value=r[c[w]].defaultValue,r[c[w]].explicitSet=!1}if(Pr(t)==="object"){for(a in t)if(o=t[a],N(c,a)&&o!==void 0){if(r[a].type==="boolean"&&typeof o=="boolean")r[a].value=o;else if(r[a].type==="name"&&N(r[a].valueSet,o))r[a].value=o;else if(r[a].type==="integer"&&Number.isInteger(o))r[a].value=o;else if(r[a].type==="array"){for(p=0;p<o.length;p+=1)if(n=!0,o[p].length===1&&typeof o[p][0]=="number")d.push(String(o[p]-1));else if(o[p].length>1){for(v=0;v<o[p].length;v+=1)typeof o[p][v]!="number"&&(n=!1);n===!0&&d.push([o[p][0]-1,o[p][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,_=[];for(k in r)r[k].explicitSet===!0&&(r[k].type==="name"?_.push("/"+k+" /"+r[k].value):_.push("/"+k+" "+r[k].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+l.length+c.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+o+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(bt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(o,l){for(var c,d=l.metadata.Unicode.widths,p=["","0","00","000","0000"],v=[""],w=0,N=o.length;w<N;++w){if(c=l.metadata.characterToGlyph(o.charCodeAt(w)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(w),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return v.join("");c=c.toString(16),v.push(p[4-c.length],c)}return v.join("")},n=function(o){var l,c,d,p,v,w,N;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],w=0,N=(c=Object.keys(o).sort(function(h,k){return h-k})).length;w<N;w++)l=c[w],d.length>=100&&(v+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(p=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+p+">"));return d.length&&(v+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,p=l.newObject,v=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,N=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),h="",k=0;k<N.length;k++)h+=String.fromCharCode(N[k]);var _=p();v({data:h,addLength1:!0,objectId:_}),d("endobj");var C=p();v({data:n(c.metadata.toUnicode),addLength1:!0,objectId:C}),d("endobj");var E=p();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+mu(c.fontName)),d("/FontFile2 "+_+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var j=p();d("<<"),d("/Type /Font"),d("/BaseFont /"+mu(c.fontName)),d("/FontDescriptor "+E+" 0 R"),d("/W "+t.API.PDFObject.convert(w)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=p(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+C+" 0 R"),d("/BaseFont /"+mu(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+j+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,p=l.newObject,v=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,N="",h=0;h<w.length;h++)N+=String.fromCharCode(w[h]);var k=p();v({data:N,addLength1:!0,objectId:k}),d("endobj");var _=p();v({data:n(c.metadata.toUnicode),addLength1:!0,objectId:_}),d("endobj");var C=p();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+k+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+mu(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=p();for(var E=0;E<c.metadata.hmtx.widths.length;E++)c.metadata.hmtx.widths[E]=parseInt(c.metadata.hmtx.widths[E]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+mu(c.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var l,c=o.text||"",d=o.x,p=o.y,v=o.options||{},w=o.mutex||{},N=w.pdfEscape,h=w.activeFontKey,k=w.fonts,_=h,C="",E=0,j="",P=k[_].encoding;if(k[_].encoding!=="Identity-H")return{text:c,x:d,y:p,options:v,mutex:w};for(j=c,_=h,Array.isArray(c)&&(j=c[0]),E=0;E<j.length;E+=1)k[_].metadata.hasOwnProperty("cmap")&&(l=k[_].metadata.cmap.unicode.codeMap[j[E].charCodeAt(0)]),l||j[E].charCodeAt(0)<256&&k[_].metadata.hasOwnProperty("Unicode")?C+=j[E]:C+="";var O="";return parseInt(_.slice(1))<14||P==="WinAnsiEncoding"?O=N(C,_).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(O=r(C,k[_])),w.isHex=!0,{text:O,x:d,y:p,options:v,mutex:w}};e.events.push(["postProcessText",function(o){var l=o.text||"",c=[],d={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?c.push([a(Object.assign({},d,{text:l[p][0]})).text,l[p][1],l[p][2]]):c.push(a(Object.assign({},d,{text:l[p]})).text);o.text=c}else o.text=a(Object.assign({},d,{text:l})).text}])})(bt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(bt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,o,l,c,d,p,v,w=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,P=0;this.__bidiEngine__={};var O=function(I){var W=I.charCodeAt(),ae=W>>8,ie=_[ae];return ie!==void 0?w[256*ie+(255&W)]:ae===252||ae===253?"AL":E.test(ae)?"L":ae===8?"R":"N"},U=function(I){for(var W,ae=0;ae<I.length;ae++){if((W=O(I.charAt(ae)))==="L")return!1;if(W==="R")return!0}return!1},le=function(I,W,ae,ie){var oe,V,ee,F,ce=W[ie];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(ce="AN");break;case"AL":j=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":ie<1||ie+1>=W.length||(oe=ae[ie-1])!=="EN"&&oe!=="AN"||(V=W[ie+1])!=="EN"&&V!=="AN"?ce="N":j&&(V="AN"),ce=V===oe?V:"N";break;case"ES":ce=(oe=ie>0?ae[ie-1]:"B")==="EN"&&ie+1<W.length&&W[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&ae[ie-1]==="EN"){ce="EN";break}if(j){ce="N";break}for(ee=ie+1,F=W.length;ee<F&&W[ee]==="ET";)ee++;ce=ee<F&&W[ee]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(F=W.length,ee=ie+1;ee<F&&W[ee]==="NSM";)ee++;if(ee<F){var we=I[ie],J=we>=1425&&we<=2303||we===64286;if(oe=W[ee],J&&(oe==="R"||oe==="AL")){ce="R";break}}}ce=ie<1||(oe=W[ie-1])==="B"?"N":ae[ie-1];break;case"B":j=!1,a=!0,ce=P;break;case"S":o=!0,ce="N"}return ce},q=function(I,W,ae){var ie=I.split("");return ae&&G(ie,ae,{hiLevel:P}),ie.reverse(),W&&W.reverse(),ie.join("")},G=function(I,W,ae){var ie,oe,V,ee,F,ce=-1,we=I.length,J=0,T=[],$=P?h:N,X=[];for(j=!1,a=!1,o=!1,oe=0;oe<we;oe++)X[oe]=O(I[oe]);for(V=0;V<we;V++){if(F=J,T[V]=le(I,X,T,V),ie=240&(J=$[F][k[T[V]]]),J&=15,W[V]=ee=$[J][5],ie>0)if(ie===16){for(oe=ce;oe<V;oe++)W[oe]=1;ce=-1}else ce=-1;if($[J][6])ce===-1&&(ce=V);else if(ce>-1){for(oe=ce;oe<V;oe++)W[oe]=ee;ce=-1}X[V]==="B"&&(W[V]=0),ae.hiLevel|=ee}o&&(function(ue,de,ne){for(var fe=0;fe<ne;fe++)if(ue[fe]==="S"){de[fe]=P;for(var ge=fe-1;ge>=0&&ue[ge]==="WS";ge--)de[ge]=P}})(X,W,we)},K=function(I,W,ae,ie,oe){if(!(oe.hiLevel<I)){if(I===1&&P===1&&!a)return W.reverse(),void(ae&&ae.reverse());for(var V,ee,F,ce,we=W.length,J=0;J<we;){if(ie[J]>=I){for(F=J+1;F<we&&ie[F]>=I;)F++;for(ce=J,ee=F-1;ce<ee;ce++,ee--)V=W[ce],W[ce]=W[ee],W[ee]=V,ae&&(V=ae[ce],ae[ce]=ae[ee],ae[ee]=V);J=F}J++}}},pe=function(I,W,ae){var ie=I.split(""),oe={hiLevel:P};return ae||(ae=[]),G(ie,ae,oe),(function(V,ee,F){if(F.hiLevel!==0&&v)for(var ce,we=0;we<V.length;we++)ee[we]===1&&(ce=C.indexOf(V[we]))>=0&&(V[we]=C[ce+1])})(ie,ae,oe),K(2,ie,W,ae,oe),K(1,ie,W,ae,oe),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(I,W,ae){if((function(oe,V){if(V)for(var ee=0;ee<oe.length;ee++)V[ee]=ee;c===void 0&&(c=U(oe)),p===void 0&&(p=U(oe))})(I,W),l||!d||p)if(l&&d&&c^p)P=c?1:0,I=q(I,W,ae);else if(!l&&d&&p)P=c?1:0,I=pe(I,W,ae),I=q(I,W);else if(!l||c||d||p){if(l&&!d&&c^p)I=q(I,W),c?(P=0,I=pe(I,W,ae)):(P=1,I=pe(I,W,ae),I=q(I,W));else if(l&&c&&!d&&p)P=1,I=pe(I,W,ae),I=q(I,W);else if(!l&&!d&&c^p){var ie=v;c?(P=1,I=pe(I,W,ae),P=0,v=!1,I=pe(I,W,ae),v=ie):(P=0,I=pe(I,W,ae),I=q(I,W),P=1,v=!1,I=pe(I,W,ae),v=ie,I=q(I,W))}}else P=0,I=pe(I,W,ae);else P=c?1:0,I=pe(I,W,ae);return I},this.__bidiEngine__.setOptions=function(I){I&&(l=I.isInputVisual,d=I.isOutputVisual,c=I.isInputRtl,p=I.isOutputRtl,v=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(l=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?l.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):l.push([r.doBidiReorder(a[c])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(bt),bt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ll(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new lA(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new K6(this.contents),this.head=new Y6(this),this.name=new tA(this),this.cmap=new j5(this),this.toUnicode={},this.hhea=new X6(this),this.maxp=new rA(this),this.hmtx=new nA(this),this.post=new Z6(this),this.os2=new Q6(this),this.loca=new oA(this),this.glyf=new iA(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,p;for(p=[],l=0,c=(d=this.bbox).length;l<c;l++)e=d[l],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,o,l,c;for(l=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var xa,Ll=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,o,l,c,d;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*o+65536*l+256*c+d},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)r=e[n],o.push(this.writeByte(r));return o},t})(),K6=(function(){var t;function e(r){var n,a,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,o,l,c,d,p,v,w,N,h,k,_;for(_ in h=Object.keys(r).length,d=Math.log(2),w=16*Math.floor(Math.log(h)/d),l=Math.floor(w/d),v=16*h-w,(a=new Ll).writeInt(this.scalarType),a.writeShort(h),a.writeShort(w),a.writeShort(l),a.writeShort(v),o=16*h,p=a.pos+o,c=null,k=[],r)for(N=r[_],a.writeString(_),a.writeInt(t(N)),a.writeInt(p),a.writeInt(N.length),k=k.concat(N),_==="head"&&(c=p),p+=N.length;p%4;)k.push(0),p++;return a.write(k),n=2981146554-t(a.data),a.pos=c+8,a.writeUInt32(n),a.data},t=function(r){var n,a,o,l;for(r=E5.call(r);r.length%4;)r.push(0);for(o=new Ll(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=o.readUInt32();return 4294967295&a},e})(),J6={}.hasOwnProperty,Ja=function(t,e){for(var r in e)J6.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};xa=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Y6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Ll).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),Dv=(function(){function t(e,r){var n,a,o,l,c,d,p,v,w,N,h,k,_,C,E,j,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(h=e.readUInt16(),N=h/2,e.pos+=6,o=(function(){var O,U;for(U=[],d=O=0;0<=N?O<N:O>N;d=0<=N?++O:--O)U.push(e.readUInt16());return U})(),e.pos+=2,_=(function(){var O,U;for(U=[],d=O=0;0<=N?O<N:O>N;d=0<=N?++O:--O)U.push(e.readUInt16());return U})(),p=(function(){var O,U;for(U=[],d=O=0;0<=N?O<N:O>N;d=0<=N?++O:--O)U.push(e.readUInt16());return U})(),v=(function(){var O,U;for(U=[],d=O=0;0<=N?O<N:O>N;d=0<=N?++O:--O)U.push(e.readUInt16());return U})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var O,U;for(U=[],d=O=0;0<=a?O<a:O>a;d=0<=a?++O:--O)U.push(e.readUInt16());return U})(),d=E=0,P=o.length;E<P;d=++E)for(C=o[d],n=j=k=_[d];k<=C?j<=C:j>=C;n=k<=C?++j:--j)v[d]===0?l=n+p[d]:(l=c[v[d]/2+(n-k)-(N-d)]||0)!==0&&(l+=p[d]),this.codeMap[n]=65535&l}e.pos=w}return t.encode=function(e,r){var n,a,o,l,c,d,p,v,w,N,h,k,_,C,E,j,P,O,U,le,q,G,K,pe,I,W,ae,ie,oe,V,ee,F,ce,we,J,T,$,X,ue,de,ne,fe,ge,_e,Pe,Me;switch(ie=new Ll,l=Object.keys(e).sort(function($e,Ke){return $e-Ke}),r){case"macroman":for(_=0,C=(function(){var $e=[];for(k=0;k<256;++k)$e.push(0);return $e})(),j={0:0},o={},oe=0,ce=l.length;oe<ce;oe++)j[ge=e[a=l[oe]]]==null&&(j[ge]=++_),o[a]={old:e[a],new:j[e[a]]},C[a]=j[e[a]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(C),{charMap:o,subtable:ie.data,maxGlyphID:_+1};case"unicode":for(W=[],w=[],P=0,j={},n={},E=p=null,V=0,we=l.length;V<we;V++)j[U=e[a=l[V]]]==null&&(j[U]=++P),n[a]={old:U,new:j[U]},c=j[U]-a,E!=null&&c===p||(E&&w.push(E),W.push(a),p=c),E=a;for(E&&w.push(E),w.push(65535),W.push(65535),pe=2*(K=W.length),G=2*Math.pow(Math.log(K)/Math.LN2,2),N=Math.log(G/2)/Math.LN2,q=2*K-G,d=[],le=[],h=[],k=ee=0,J=W.length;ee<J;k=++ee){if(I=W[k],v=w[k],I===65535){d.push(0),le.push(0);break}if(I-(ae=n[I].new)>=32768)for(d.push(0),le.push(2*(h.length+K-k)),a=F=I;I<=v?F<=v:F>=v;a=I<=v?++F:--F)h.push(n[a].new);else d.push(ae-I),le.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*K+2*h.length),ie.writeUInt16(0),ie.writeUInt16(pe),ie.writeUInt16(G),ie.writeUInt16(N),ie.writeUInt16(q),ne=0,T=w.length;ne<T;ne++)a=w[ne],ie.writeUInt16(a);for(ie.writeUInt16(0),fe=0,$=W.length;fe<$;fe++)a=W[fe],ie.writeUInt16(a);for(_e=0,X=d.length;_e<X;_e++)c=d[_e],ie.writeUInt16(c);for(Pe=0,ue=le.length;Pe<ue;Pe++)O=le[Pe],ie.writeUInt16(O);for(Me=0,de=h.length;Me<de;Me++)_=h[Me],ie.writeUInt16(_);return{charMap:n,subtable:ie.data,maxGlyphID:P+1}}},t})(),j5=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new Dv(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=Dv.encode(e,r),(a=new Ll).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),X6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Q6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Z6=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(e.readUInt32());return d}).call(this)}},t})(),eA=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},tA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,o,l,c,d,p,v,w,N;for(e.pos=this.offset,e.readShort(),r=e.readShort(),c=e.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(d={},o=v=0,w=n.length;v<w;o=++v)a=n[o],e.pos=a.offset,p=e.readString(a.length),l=new eA(p,a),d[N=a.nameID]==null&&(d[N]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t})(),rA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),nA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,o,l,c,d;for(e.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,v;for(v=[],r=p=0;0<=a?p<a:p>a;r=0<=a?++p:--p)v.push(e.readInt16());return v})(),this.widths=(function(){var p,v,w,N;for(N=[],p=0,v=(w=this.metrics).length;p<v;p++)o=w[p],N.push(o.advance);return N}).call(this),n=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(n));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),E5=[].slice,iA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,o,l,c,d,p,v,w;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,l=(c=new Ll(r.read(a))).readShort(),p=c.readShort(),w=c.readShort(),d=c.readShort(),v=c.readShort(),this.cache[e]=l===-1?new aA(c,p,w,d,v):new sA(c,l,p,w,d,v),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,o,l,c,d;for(l=[],o=[],c=0,d=r.length;c<d;c++)a=e[r[c]],o.push(l.length),a&&(l=l.concat(a.encode(n)));return o.push(l.length),{table:l,offsets:o}},t})(),sA=(function(){function t(e,r,n,a,o,l){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),aA=(function(){function t(e,r,n,a,o){var l,c;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ll(E5.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),oA=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ja(t,xa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<n.length;++l)if(n[l]=a,o<r.length&&r[o]==l){++o,n[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var p=new Array(4*n.length),v=0;v<n.length;++v)p[4*v+3]=255&n[v],p[4*v+2]=(65280&n[v])>>8,p[4*v+1]=(16711680&n[v])>>16,p[4*v]=(4278190080&n[v])>>24;return p},t})(),lA=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,o;for(r in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,o,l,c,d;for(a={},l=0,c=e.length;l<c;l++)a[o=e[l]]=this.font.glyf.glyphFor(o);for(o in r=[],a)(n=a[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in d=this.glyphsFor(r))n=d[o],a[o]=n;return a},t.prototype.encode=function(e,r){var n,a,o,l,c,d,p,v,w,N,h,k,_,C,E;for(a in n=j5.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),h={0:0},E=n.charMap)h[(d=E[a]).old]=d.new;for(k in N=n.maxGlyphID,l)k in h||(h[k]=N++);return v=(function(j){var P,O;for(P in O={},j)O[j[P]]=P;return O})(h),w=Object.keys(v).sort(function(j,P){return j-P}),_=(function(){var j,P,O;for(O=[],j=0,P=w.length;j<P;j++)c=w[j],O.push(v[c]);return O})(),o=this.font.glyf.encode(l,_,h),p=this.font.loca.encode(o.offsets,_),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t})();bt.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,o,l;if(Array.isArray(r))return"["+(function(){var c,d,p;for(p=[],c=0,d=r.length;c<d;c++)n=r[c],p.push(e.convert(n));return p})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in o=["<<"],r)l=r[a],o.push("/"+a+" "+e.convert(l));return o.push(">>"),o.join(`
`)}return""+r},e})();const cA=({quotationId:t,onNavigate:e})=>{const{accessToken:r}=Ss(),[n,a]=Q.useState(null),[o,l]=Q.useState(null),[c,d]=Q.useState(!0);Q.useEffect(()=>{p()},[t,r]);const p=async()=>{if(r)try{const[h,k]=await Promise.all([Nr.getQuotation(r,t),Nr.getProfile(r)]);a(h.quotation),l(k.profile)}catch(h){console.error("Error fetching data:",h)}finally{d(!1)}},v=async()=>{if(confirm("Weet je zeker dat je deze offerte wilt verwijderen?")&&r)try{await Nr.deleteQuotation(r,t),e("quotations")}catch(h){console.error("Error deleting quotation:",h)}},w=async()=>{if(confirm("Wil je deze offerte omzetten naar een factuur?")&&r)try{const h=await Nr.convertQuotationToInvoice(r,t);alert(`Factuur ${h.invoice.invoiceNumber} is aangemaakt!`),e(`invoice-detail-${h.invoice.id}`)}catch(h){console.error("Error converting to invoice:",h),alert("Er is een fout opgetreden bij het omzetten naar factuur.")}},N=async()=>{if(!n||!o){alert("Gegevens worden geladen, probeer het over een moment opnieuw.");return}try{console.log("Starting PDF export...");const h=new bt,k=h.internal.pageSize.getWidth(),_=h.internal.pageSize.getHeight(),C=20,E=120;let j=C;const P=[0,102,153],O=[100,100,100],U=[40,40,40],le=[180,80,60];if(o.logo)try{h.addImage(o.logo,"AUTO",C,j,50,25,void 0,"FAST")}catch(fe){console.log("Could not add logo:",fe),h.setFontSize(20),h.setFont("helvetica","bold"),h.setTextColor(...P),h.text(o.companyName||"Bedrijfsnaam",C,j+15)}else h.setFontSize(20),h.setFont("helvetica","bold"),h.setTextColor(...P),h.text(o.companyName||"Bedrijfsnaam",C,j+15);h.setFontSize(10),h.setFont("helvetica","bold"),h.setTextColor(...U),h.text(o.companyName||"",E,j+5),h.setFont("helvetica","normal"),h.setTextColor(...O);let q=j+12;o.address&&o.address.split(`
`).forEach(ge=>{h.text(ge,E,q),q+=5}),q+=2,o.phone&&(h.text(o.phone,E,q),q+=5),o.email&&(h.setTextColor(...P),h.text(o.email,E,q),q+=7),h.setTextColor(...O),o.kvkNumber&&(h.text(`KvK: ${o.kvkNumber}`,E,q),q+=5),o.vatNumber&&h.text(o.vatNumber,E,q),j+=50,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...U),h.text(n.clientName,C,j),j+=5,h.setTextColor(...O),n.clientAddress.split(`
`).forEach(fe=>{h.text(fe,C,j),j+=5}),j+=20,h.setFontSize(24),h.setFont("helvetica","bold"),h.setTextColor(...U),h.text("Offerte",C,j),j+=12,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...O);const K=C,pe=C+35;h.text("Offertenummer:",K,j),h.setTextColor(...U),h.text(n.quotationNumber,pe,j),j+=6,h.setTextColor(...O),h.text("Offertedatum:",K,j),h.setTextColor(...U),h.text(new Date(n.date).toLocaleDateString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric"}),pe,j),j+=6;const I=n.expiryDate?new Date(n.expiryDate):(()=>{const fe=new Date(n.date);return fe.setDate(fe.getDate()+30),fe})();h.setTextColor(...O),h.text("Geldig tot:",K,j),h.setTextColor(...U),h.text(I.toLocaleDateString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric"}),pe,j),j+=15;const W=C,ae=115,ie=145,oe=k-C;h.setDrawColor(...P),h.setLineWidth(.5),h.line(C,j,k-C,j),j+=6,h.setFontSize(9),h.setFont("helvetica","normal"),h.setTextColor(...P),h.text("Omschrijving",W,j),h.text("Bedrag",ae,j),h.text("Aantal",ie,j),h.text("Totaal",oe,j,{align:"right"}),j+=4,h.setDrawColor(...P),h.line(C,j,k-C,j),j+=8;const V=fe=>fe.toLocaleString("nl-NL",{minimumFractionDigits:2,maximumFractionDigits:2});h.setTextColor(...U),h.setFontSize(10);const ee=n.lineItems&&n.lineItems.length>0?n.lineItems:[{description:n.description,unitPrice:n.price,quantity:1,vatPercentage:n.vatPercentage}];ee.forEach(fe=>{const ge=(parseFloat(fe.unitPrice)||0)*(parseFloat(fe.quantity)||1);j>_-80&&(h.addPage(),j=C);const _e=h.splitTextToSize(fe.description||"",85);if(h.setTextColor(...U),h.setFontSize(10),h.text(_e[0]||"",W,j),h.text("",ae,j),h.text(V(parseFloat(fe.unitPrice)||0),ae+8,j),h.text(String(fe.quantity||1),ie,j),h.text("",oe-25,j),h.text(V(ge),oe,j,{align:"right"}),_e.length>1)for(let Pe=1;Pe<Math.min(_e.length,3);Pe++)j+=5,h.setTextColor(...O),h.setFontSize(9),h.text(_e[Pe],W,j);j+=8}),j+=10;const F=130,ce=k-C;let we=0;const J={};ee.forEach(fe=>{const ge=(parseFloat(fe.unitPrice)||0)*(parseFloat(fe.quantity)||1);we+=ge;const _e=String(fe.vatPercentage||21);J[_e]||(J[_e]=0),J[_e]+=ge*parseFloat(_e)/100});const T=Object.values(J).reduce((fe,ge)=>fe+ge,0),$=we+T;h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...O),h.text("Subtotaal",F,j),h.text("",ce-25,j),h.setTextColor(...U),h.text(V(we),ce,j,{align:"right"}),j+=7,Object.entries(J).forEach(([fe,ge])=>{ge>0&&(h.setTextColor(...O),h.text(`${fe}% btw`,F,j),h.text("",ce-25,j),h.setTextColor(...U),h.text(V(ge),ce,j,{align:"right"}),j+=7)}),j+=5,h.setFont("helvetica","bold"),h.setTextColor(...U),h.text("Totaal",F,j),h.text("",ce-30,j),h.setFontSize(12),h.text(V($),ce,j,{align:"right"});const X=_-40;h.setFontSize(9),h.setFont("helvetica","italic"),h.setTextColor(...le),h.splitTextToSize("Wij verzoeken u vriendelijk om bij akkoord deze offerte ondertekend te retourneren.",k-C*2).forEach((fe,ge)=>{h.text(fe,k/2,X+ge*5,{align:"center"})});const ne=`Offerte-${n.quotationNumber}.pdf`;console.log("Saving PDF as:",ne),h.save(ne),alert("PDF succesvol gedownload!")}catch(h){console.error("PDF export error:",h),alert("Er is een fout opgetreden bij het maken van de PDF. Probeer het opnieuw.")}};return c?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:"Laden..."}):n?m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx(pt,{variant:"ghost",onClick:()=>e("quotations"),children:" Terug naar Overzicht"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(pt,{variant:"outline",onClick:()=>e(`edit-quotation-${t}`),children:"Bewerken"}),m.jsx(pt,{onClick:N,children:"Download PDF"})]})]})})}),m.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs(Ht,{className:"mb-6",children:[m.jsx(Wn,{children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx(Vn,{className:"text-2xl mb-2",children:"Offerte Details"}),m.jsx("p",{className:"text-gray-600",children:n.quotationNumber})]}),m.jsx("span",{className:`text-sm px-3 py-1 rounded ${kd(n.status)}`,children:Nd(n.status)})]})}),m.jsxs(nr,{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Klantgegevens"}),m.jsx("p",{className:"font-medium",children:n.clientName}),m.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:n.clientAddress})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Datum"}),m.jsx("p",{children:new Date(n.date).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Omschrijving Werkzaamheden"}),m.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n.description})]}),m.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Prijs excl. BTW:"}),m.jsxs("span",{children:["",n.price.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("span",{children:["BTW (",n.vatPercentage,"%):"]}),m.jsxs("span",{children:["",eg(n.price,n.vatPercentage).toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[m.jsx("span",{children:"Totaal incl. BTW:"}),m.jsxs("span",{children:["",Fy(n.price,n.vatPercentage).toFixed(2)]})]})]}),m.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[(n.status==="sent"||n.status==="accepted")&&m.jsx(pt,{onClick:w,className:"bg-green-600 hover:bg-green-700",children:"Omzetten naar Factuur"}),m.jsx(pt,{variant:"destructive",onClick:v,children:"Verwijderen"})]})]})]})})]}):m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"mb-4",children:"Offerte niet gevonden"}),m.jsx(pt,{onClick:()=>e("quotations"),children:"Terug naar Overzicht"})]})})},Fv=()=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),description:"",unitPrice:"",quantity:"1",vatPercentage:"21"}),Mv=({invoiceId:t,onNavigate:e,onSaved:r})=>{const{accessToken:n,loading:a}=Ss(),[o,l]=Q.useState(!1),[c,d]=Q.useState(""),[p,v]=Q.useState(""),[w,N]=Q.useState([Fv()]),[h,k]=Q.useState([]),[_,C]=Q.useState(""),[E,j]=Q.useState({clientName:"",clientAddress:"",status:"draft",date:new Date().toISOString().split("T")[0],dueDate:"",paymentTermDays:"30",notes:""});Q.useEffect(()=>{(async()=>{if(n)try{const ee=await Nr.getClients(n);k(ee.clients||[])}catch(ee){console.error("Error fetching clients:",ee)}})()},[n]),Q.useEffect(()=>{if(!E.dueDate&&!t){const V=new Date;V.setDate(V.getDate()+30),j(ee=>({...ee,dueDate:V.toISOString().split("T")[0]}))}},[]),Q.useEffect(()=>{t&&O()},[t]);const P=V=>{if(C(V),V==="new"){j(F=>({...F,clientName:"",clientAddress:""}));return}const ee=h.find(F=>F.id===V);if(ee){const F=[];ee.address&&F.push(ee.address),(ee.postalCode||ee.city)&&F.push([ee.postalCode,ee.city].filter(Boolean).join(" ")),ee.country&&ee.country!=="Nederland"&&F.push(ee.country),j(ce=>({...ce,clientName:ee.name,clientAddress:F.join(`
`)}))}},O=async()=>{var V,ee;if(!(!n||!t))try{const ce=(await Nr.getInvoice(n,t)).invoice;j({clientName:ce.clientName,clientAddress:ce.clientAddress,status:ce.status,date:ce.date.split("T")[0],dueDate:ce.dueDate?ce.dueDate.split("T")[0]:"",paymentTermDays:String(ce.paymentTermDays||30),notes:ce.notes||""}),ce.lineItems&&ce.lineItems.length>0?N(ce.lineItems.map(we=>({...we,unitPrice:String(we.unitPrice),quantity:String(we.quantity),vatPercentage:String(we.vatPercentage)}))):N([{id:"1",description:ce.description||"",unitPrice:((V=ce.price)==null?void 0:V.toString())||"",quantity:"1",vatPercentage:((ee=ce.vatPercentage)==null?void 0:ee.toString())||"21"}])}catch(F){console.error("Error fetching invoice:",F)}},U=()=>{N([...w,Fv()])},le=V=>{w.length>1&&N(w.filter(ee=>ee.id!==V))},q=(V,ee,F)=>{N(w.map(ce=>ce.id===V?{...ce,[ee]:F}:ce))},G=V=>{const ee=parseFloat(V.unitPrice)||0,F=parseFloat(V.quantity)||0;return ee*F},K=V=>{const ee=G(V),F=parseFloat(V.vatPercentage)||0;return ee*F/100},pe=()=>w.reduce((V,ee)=>V+G(ee),0),I=()=>{const V={};return w.forEach(ee=>{const F=ee.vatPercentage;V[F]||(V[F]=0),V[F]+=K(ee)}),V},W=()=>w.reduce((V,ee)=>V+K(ee),0),ae=()=>pe()+W(),ie=V=>{j(ee=>{const F=new Date(ee.date||new Date);return F.setDate(F.getDate()+parseInt(V)),{...ee,paymentTermDays:V,dueDate:F.toISOString().split("T")[0]}})},oe=async V=>{V.preventDefault(),d(""),v(""),l(!0);try{if(!n)throw new Error("Je bent niet ingelogd. Log opnieuw in.");const ee=w.filter(we=>we.description.trim()&&parseFloat(we.unitPrice)>0);if(ee.length===0)throw new Error("Voeg minimaal n regel met omschrijving en prijs toe.");const F=ee.map(we=>we.description).join(`
`),ce={...E,description:F,price:pe(),vatPercentage:21,paymentTermDays:parseInt(E.paymentTermDays),lineItems:ee.map(we=>({...we,unitPrice:parseFloat(we.unitPrice)||0,quantity:parseFloat(we.quantity)||1,vatPercentage:parseFloat(we.vatPercentage)||21}))};t?await Nr.updateInvoice(n,t,ce):await Nr.createInvoice(n,ce),v("Factuur succesvol opgeslagen!"),setTimeout(()=>{r?r():e("invoices")},1e3)}catch(ee){console.error("Invoice save error:",ee),d(ee.message||"Er is een onbekende fout opgetreden bij het opslaan")}finally{l(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsx(pt,{variant:"ghost",onClick:()=>e("dashboard"),children:" Terug naar Dashboard"})})}),m.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs(Ht,{children:[m.jsxs(Wn,{children:[m.jsx(Vn,{children:t?"Factuur Bewerken":"Nieuwe Factuur"}),m.jsx(Di,{children:"Vul de gegevens in voor je factuur"})]}),m.jsx(nr,{children:m.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Klantgegevens"}),h.length>0&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{children:"Selecteer bestaande klant"}),m.jsxs(ha,{value:_,onValueChange:P,children:[m.jsx(pa,{children:m.jsx(fa,{placeholder:"Kies een klant of voer handmatig in..."})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"new",children:"-- Nieuwe klant (handmatig invullen) --"}),h.map(V=>m.jsxs(Gt,{value:V.id,children:[V.name," ",V.city&&`(${V.city})`]},V.id))]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"clientName",children:"Klant Naam *"}),m.jsx(lr,{id:"clientName",value:E.clientName,onChange:V=>j({...E,clientName:V.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"clientAddress",children:"Klant Adres *"}),m.jsx(Ad,{id:"clientAddress",value:E.clientAddress,onChange:V=>j({...E,clientAddress:V.target.value}),rows:3,required:!0})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Factuur Details"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"date",children:"Factuurdatum *"}),m.jsx(lr,{id:"date",type:"date",value:E.date,onChange:V=>j({...E,date:V.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"paymentTermDays",children:"Betalingstermijn"}),m.jsxs(ha,{value:E.paymentTermDays,onValueChange:ie,children:[m.jsx(pa,{children:m.jsx(fa,{})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"14",children:"14 dagen"}),m.jsx(Gt,{value:"30",children:"30 dagen"}),m.jsx(Gt,{value:"60",children:"60 dagen"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"dueDate",children:"Vervaldatum *"}),m.jsx(lr,{id:"dueDate",type:"date",value:E.dueDate,onChange:V=>j({...E,dueDate:V.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"status",children:"Status *"}),m.jsxs(ha,{value:E.status,onValueChange:V=>j({...E,status:V}),children:[m.jsx(pa,{children:m.jsx(fa,{})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"draft",children:"Concept"}),m.jsx(Gt,{value:"sent",children:"Verstuurd"}),m.jsx(Gt,{value:"paid",children:"Betaald"}),m.jsx(Gt,{value:"overdue",children:"Vervallen"})]})]})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Werkzaamheden"}),m.jsx(pt,{type:"button",variant:"outline",size:"sm",onClick:U,children:"+ Regel toevoegen"})]}),m.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-2 text-sm font-medium text-gray-600 px-2",children:[m.jsx("div",{className:"col-span-5",children:"Omschrijving"}),m.jsx("div",{className:"col-span-2",children:"Bedrag"}),m.jsx("div",{className:"col-span-2",children:"Aantal"}),m.jsx("div",{className:"col-span-2",children:"BTW"}),m.jsx("div",{className:"col-span-1"})]}),w.map((V,ee)=>m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-2 p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"col-span-1 md:col-span-5",children:[m.jsx(Vt,{className:"md:hidden text-xs text-gray-500",children:"Omschrijving"}),m.jsx(lr,{placeholder:"Omschrijving werkzaamheden",value:V.description,onChange:F=>q(V.id,"description",F.target.value)})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsx(Vt,{className:"md:hidden text-xs text-gray-500",children:"Bedrag ()"}),m.jsx(lr,{type:"number",step:"0.01",placeholder:"0,00",value:V.unitPrice,onChange:F=>q(V.id,"unitPrice",F.target.value)})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsx(Vt,{className:"md:hidden text-xs text-gray-500",children:"Aantal"}),m.jsx(lr,{type:"number",step:"1",min:"1",placeholder:"1",value:V.quantity,onChange:F=>q(V.id,"quantity",F.target.value)})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsx(Vt,{className:"md:hidden text-xs text-gray-500",children:"BTW %"}),m.jsxs(ha,{value:V.vatPercentage,onValueChange:F=>q(V.id,"vatPercentage",F),children:[m.jsx(pa,{children:m.jsx(fa,{})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"0",children:"0%"}),m.jsx(Gt,{value:"9",children:"9%"}),m.jsx(Gt,{value:"21",children:"21%"})]})]})]}),m.jsx("div",{className:"col-span-1 md:col-span-1 flex items-end justify-end md:justify-center",children:m.jsx(pt,{type:"button",variant:"ghost",size:"sm",onClick:()=>le(V.id),disabled:w.length===1,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:""})}),m.jsxs("div",{className:"col-span-1 md:hidden text-right text-sm font-medium text-gray-700",children:["Totaal: ",G(V).toFixed(2)]})]},V.id)),m.jsx(pt,{type:"button",variant:"ghost",size:"sm",onClick:U,className:"w-full border-2 border-dashed",children:"+ Nog een regel toevoegen"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"notes",children:"Opmerkingen (optioneel)"}),m.jsx(Ad,{id:"notes",value:E.notes,onChange:V=>j({...E,notes:V.target.value}),rows:3,placeholder:"Extra opmerkingen voor op de factuur..."})]}),pe()>0&&m.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Subtotaal:"}),m.jsxs("span",{children:["",pe().toFixed(2)]})]}),Object.entries(I()).map(([V,ee])=>ee>0&&m.jsxs("div",{className:"flex justify-between text-gray-600",children:[m.jsxs("span",{children:["BTW ",V,"%:"]}),m.jsxs("span",{children:["",ee.toFixed(2)]})]},V)),m.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[m.jsx("span",{children:"Totaal incl. BTW:"}),m.jsxs("span",{children:["",ae().toFixed(2)]})]})]}),c&&m.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:c}),p&&m.jsx("div",{className:"text-green-600 text-sm p-3 bg-green-50 rounded",children:p}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx(pt,{type:"submit",disabled:o,children:o?"Bezig...":t?"Bijwerken":"Aanmaken"}),m.jsx(pt,{type:"button",variant:"outline",onClick:()=>e("dashboard"),children:"Annuleren"})]})]})})]})})]})},Bv=t=>({draft:"Concept",sent:"Verstuurd",paid:"Betaald",overdue:"Vervallen"})[t]||t,Uv=t=>({draft:"bg-gray-100 text-gray-800",sent:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",uA=({onNavigate:t})=>{const{accessToken:e}=Ss(),[r,n]=Q.useState([]),[a,o]=Q.useState(!0),[l,c]=Q.useState(""),[d,p]=Q.useState("all"),[v,w]=Q.useState("date-desc"),[N,h]=Q.useState("grouped");Q.useEffect(()=>{k()},[e]);const k=async()=>{if(e)try{const P=await Nr.getInvoices(e),O=new Date,U=(P.invoices||[]).map(le=>le.status==="sent"&&le.dueDate&&new Date(le.dueDate)<O?{...le,status:"overdue"}:le);n(U)}catch(P){console.error("Error fetching invoices:",P)}finally{o(!1)}},_=Q.useMemo(()=>{let P=[...r];if(d!=="all"&&(P=P.filter(O=>O.status===d)),l){const O=l.toLowerCase();P=P.filter(U=>{var le,q,G;return((le=U.clientName)==null?void 0:le.toLowerCase().includes(O))||((q=U.invoiceNumber)==null?void 0:q.toLowerCase().includes(O))||((G=U.description)==null?void 0:G.toLowerCase().includes(O))})}return P.sort((O,U)=>{switch(v){case"date-desc":return new Date(U.date).getTime()-new Date(O.date).getTime();case"date-asc":return new Date(O.date).getTime()-new Date(U.date).getTime();case"due-desc":return new Date(U.dueDate||U.date).getTime()-new Date(O.dueDate||O.date).getTime();case"due-asc":return new Date(O.dueDate||O.date).getTime()-new Date(U.dueDate||U.date).getTime();case"price-desc":return(U.price||0)-(O.price||0);case"price-asc":return(O.price||0)-(U.price||0);case"client-asc":return(O.clientName||"").localeCompare(U.clientName||"");case"client-desc":return(U.clientName||"").localeCompare(O.clientName||"");default:return 0}}),P},[r,d,l,v]),C=Q.useMemo(()=>{const P={};return _.forEach(O=>{const le=new Date(O.date).toLocaleDateString("nl-NL",{month:"long",year:"numeric"});P[le]||(P[le]=[]),P[le].push(O)}),P},[_]),E=Q.useMemo(()=>{const P=_.reduce((q,G)=>q+(G.price||0),0),O=_.filter(q=>q.status==="paid").reduce((q,G)=>q+(G.price||0),0),U=_.filter(q=>q.status==="sent"||q.status==="overdue").reduce((q,G)=>q+(G.price||0),0),le={draft:_.filter(q=>q.status==="draft").length,sent:_.filter(q=>q.status==="sent").length,paid:_.filter(q=>q.status==="paid").length,overdue:_.filter(q=>q.status==="overdue").length};return{total:P,paidTotal:O,openTotal:U,byStatus:le,count:_.length}},[_]),j=P=>new Date(P).toLocaleDateString("nl-NL",{day:"numeric",month:"short",year:"numeric"});return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Alle Facturen"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx(pt,{onClick:()=>t("create-invoice"),children:"+ Nieuwe Factuur"}),m.jsx(pt,{variant:"outline",onClick:()=>t("dashboard"),children:"Dashboard"})]})]})})}),m.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Totaal waarde"}),m.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",E.total.toFixed(2)]})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Betaald"}),m.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",E.paidTotal.toFixed(2)]})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Open"}),m.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["",E.openTotal.toFixed(2)]})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Verstuurd"}),m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:E.byStatus.sent})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Vervallen"}),m.jsx("p",{className:"text-2xl font-bold text-red-600",children:E.byStatus.overdue})]})})]}),m.jsx(Ht,{className:"mb-6",children:m.jsxs(nr,{className:"p-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx(lr,{placeholder:"Zoek op naam, nummer of omschrijving...",value:l,onChange:P=>c(P.target.value),className:"md:col-span-2"}),m.jsxs(ha,{value:d,onValueChange:p,children:[m.jsx(pa,{children:m.jsx(fa,{placeholder:"Filter op status"})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"all",children:"Alle Statussen"}),m.jsx(Gt,{value:"draft",children:"Concept"}),m.jsx(Gt,{value:"sent",children:"Verstuurd"}),m.jsx(Gt,{value:"paid",children:"Betaald"}),m.jsx(Gt,{value:"overdue",children:"Vervallen"})]})]}),m.jsxs(ha,{value:v,onValueChange:P=>w(P),children:[m.jsx(pa,{children:m.jsx(fa,{placeholder:"Sorteren"})}),m.jsxs(ma,{children:[m.jsx(Gt,{value:"date-desc",children:"Nieuwste eerst"}),m.jsx(Gt,{value:"date-asc",children:"Oudste eerst"}),m.jsx(Gt,{value:"due-asc",children:"Vervaldatum oplopend"}),m.jsx(Gt,{value:"due-desc",children:"Vervaldatum aflopend"}),m.jsx(Gt,{value:"price-desc",children:"Hoogste bedrag"}),m.jsx(Gt,{value:"price-asc",children:"Laagste bedrag"}),m.jsx(Gt,{value:"client-asc",children:"Klant A-Z"}),m.jsx(Gt,{value:"client-desc",children:"Klant Z-A"})]})]})]}),m.jsxs("div",{className:"flex justify-between items-center mt-4",children:[m.jsxs("p",{className:"text-sm text-gray-500",children:[E.count," factuur/facturen gevonden"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(pt,{variant:N==="grouped"?"default":"outline",size:"sm",onClick:()=>h("grouped"),children:"Gegroepeerd"}),m.jsx(pt,{variant:N==="list"?"default":"outline",size:"sm",onClick:()=>h("list"),children:"Lijst"})]})]})]})}),a?m.jsx("div",{className:"text-center py-8",children:"Laden..."}):_.length===0?m.jsx(Ht,{children:m.jsxs(nr,{className:"py-8 text-center",children:[m.jsx("p",{className:"text-gray-500 mb-4",children:r.length===0?"Nog geen facturen. Maak je eerste factuur aan!":"Geen facturen gevonden met deze filters."}),r.length===0&&m.jsx(pt,{onClick:()=>t("create-invoice"),children:"Eerste Factuur Aanmaken"})]})}):N==="grouped"?m.jsx("div",{className:"space-y-6",children:Object.entries(C).map(([P,O])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 capitalize",children:P}),m.jsxs("span",{className:"text-sm text-gray-500",children:[O.length," factuur/facturen - ",O.reduce((U,le)=>U+(le.price||0),0).toFixed(2)]})]}),m.jsx("div",{className:"space-y-2",children:O.map(U=>{var le,q;return m.jsx("div",{className:"bg-white rounded-lg border p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(`invoice-detail-${U.id}`),children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-semibold ${U.status==="paid"?"bg-green-100 text-green-600":U.status==="overdue"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:((q=(le=U.clientName)==null?void 0:le.charAt(0))==null?void 0:q.toUpperCase())||"?"}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"font-medium",children:U.clientName}),m.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Uv(U.status)}`,children:Bv(U.status)})]}),m.jsxs("p",{className:"text-sm text-gray-500",children:[U.invoiceNumber,"  ",j(U.date),U.dueDate&&m.jsxs("span",{className:U.status==="overdue"?"text-red-500":"",children:[" "," Vervalt: ",j(U.dueDate)]})]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-bold",children:["",(U.price||0).toFixed(2)]}),m.jsx("p",{className:"text-xs text-gray-500",children:"excl. BTW"})]})]})},U.id)})})]},P))}):m.jsx(Ht,{children:m.jsx(nr,{className:"p-0",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50 border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left p-4 font-medium text-gray-600",children:"Klant"}),m.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden md:table-cell",children:"Nummer"}),m.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden md:table-cell",children:"Datum"}),m.jsx("th",{className:"text-left p-4 font-medium text-gray-600 hidden lg:table-cell",children:"Vervaldatum"}),m.jsx("th",{className:"text-left p-4 font-medium text-gray-600",children:"Status"}),m.jsx("th",{className:"text-right p-4 font-medium text-gray-600",children:"Bedrag"})]})}),m.jsx("tbody",{children:_.map((P,O)=>m.jsxs("tr",{className:`border-b hover:bg-gray-50 cursor-pointer ${O%2===0?"bg-white":"bg-gray-50/50"}`,onClick:()=>t(`invoice-detail-${P.id}`),children:[m.jsxs("td",{className:"p-4",children:[m.jsx("p",{className:"font-medium",children:P.clientName}),m.jsx("p",{className:"text-sm text-gray-500 md:hidden",children:P.invoiceNumber})]}),m.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:P.invoiceNumber}),m.jsx("td",{className:"p-4 text-gray-600 hidden md:table-cell",children:j(P.date)}),m.jsx("td",{className:`p-4 hidden lg:table-cell ${P.status==="overdue"?"text-red-600":"text-gray-600"}`,children:P.dueDate?j(P.dueDate):"-"}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`text-xs px-2 py-1 rounded ${Uv(P.status)}`,children:Bv(P.status)})}),m.jsxs("td",{className:"p-4 text-right font-medium",children:["",(P.price||0).toFixed(2)]})]},P.id))})]})})})]})]})},dA=t=>({draft:"Concept",sent:"Verstuurd",paid:"Betaald",overdue:"Vervallen"})[t]||t,hA=t=>({draft:"bg-gray-100 text-gray-800",sent:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",fA=({invoiceId:t,onNavigate:e})=>{const{accessToken:r}=Ss(),[n,a]=Q.useState(null),[o,l]=Q.useState(null),[c,d]=Q.useState(!0);Q.useEffect(()=>{p()},[t,r]);const p=async()=>{if(r)try{const[h,k]=await Promise.all([Nr.getInvoice(r,t),Nr.getProfile(r)]);a(h.invoice),l(k.profile)}catch(h){console.error("Error fetching data:",h)}finally{d(!1)}},v=async()=>{if(confirm("Weet je zeker dat je deze factuur wilt verwijderen?")&&r)try{await Nr.deleteInvoice(r,t),e("invoices")}catch(h){console.error("Error deleting invoice:",h)}},w=async()=>{if(r)try{await Nr.updateInvoice(r,t,{status:"paid",paidDate:new Date().toISOString()}),p()}catch(h){console.error("Error updating invoice:",h)}},N=async()=>{if(!n||!o){alert("Gegevens worden geladen, probeer het over een moment opnieuw.");return}try{console.log("Starting PDF export...");const h=new bt,k=h.internal.pageSize.getWidth(),_=h.internal.pageSize.getHeight(),C=20,E=120;let j=C;const P=[0,102,153],O=[100,100,100],U=[40,40,40],le=[34,139,34];if(o.logo)try{h.addImage(o.logo,"AUTO",C,j,50,25,void 0,"FAST")}catch(ne){console.log("Could not add logo:",ne),h.setFontSize(20),h.setFont("helvetica","bold"),h.setTextColor(...P),h.text(o.companyName||"Bedrijfsnaam",C,j+15)}else h.setFontSize(20),h.setFont("helvetica","bold"),h.setTextColor(...P),h.text(o.companyName||"Bedrijfsnaam",C,j+15);h.setFontSize(10),h.setFont("helvetica","bold"),h.setTextColor(...U),h.text(o.companyName||"",E,j+5),h.setFont("helvetica","normal"),h.setTextColor(...O);let q=j+12;o.address&&o.address.split(`
`).forEach(fe=>{h.text(fe,E,q),q+=5}),q+=2,o.phone&&(h.text(o.phone,E,q),q+=5),o.email&&(h.setTextColor(...P),h.text(o.email,E,q),q+=7),h.setTextColor(...O),o.kvkNumber&&(h.text(`KvK: ${o.kvkNumber}`,E,q),q+=5),o.vatNumber&&(h.text(o.vatNumber,E,q),q+=5),o.iban&&h.text(`IBAN: ${o.iban}`,E,q),j+=50,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...U),h.text(n.clientName,C,j),j+=5,h.setTextColor(...O),n.clientAddress.split(`
`).forEach(ne=>{h.text(ne,C,j),j+=5}),j+=20,h.setFontSize(24),h.setFont("helvetica","bold"),h.setTextColor(...U),h.text("Factuur",C,j),n.status==="paid"&&(h.setFontSize(16),h.setFont("helvetica","bold"),h.setTextColor(...le),h.text("BETAALD",k-C-30,j,{align:"right"})),j+=12,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...O);const K=C,pe=C+35;h.text("Factuurnummer:",K,j),h.setTextColor(...U),h.text(n.invoiceNumber,pe,j),j+=6,h.setTextColor(...O),h.text("Factuurdatum:",K,j),h.setTextColor(...U),h.text(new Date(n.date).toLocaleDateString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric"}),pe,j),j+=6,n.dueDate&&(h.setTextColor(...O),h.text("Vervaldatum:",K,j),h.setTextColor(...U),h.text(new Date(n.dueDate).toLocaleDateString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric"}),pe,j),j+=6),n.quotationNumber&&(h.setTextColor(...O),h.text("Offerte ref:",K,j),h.setTextColor(...U),h.text(n.quotationNumber,pe,j),j+=6),j+=10;const I=C,W=115,ae=145,ie=k-C;h.setDrawColor(...P),h.setLineWidth(.5),h.line(C,j,k-C,j),j+=6,h.setFontSize(9),h.setFont("helvetica","normal"),h.setTextColor(...P),h.text("Omschrijving",I,j),h.text("Bedrag",W,j),h.text("Aantal",ae,j),h.text("Totaal",ie,j,{align:"right"}),j+=4,h.setDrawColor(...P),h.line(C,j,k-C,j),j+=8;const oe=ne=>ne.toLocaleString("nl-NL",{minimumFractionDigits:2,maximumFractionDigits:2});h.setTextColor(...U),h.setFontSize(10);const V=n.lineItems&&n.lineItems.length>0?n.lineItems:[{description:n.description,unitPrice:n.price,quantity:1,vatPercentage:n.vatPercentage}];V.forEach(ne=>{const fe=(parseFloat(ne.unitPrice)||0)*(parseFloat(ne.quantity)||1);j>_-80&&(h.addPage(),j=C);const ge=h.splitTextToSize(ne.description||"",85);if(h.setTextColor(...U),h.setFontSize(10),h.text(ge[0]||"",I,j),h.text("",W,j),h.text(oe(parseFloat(ne.unitPrice)||0),W+8,j),h.text(String(ne.quantity||1),ae,j),h.text("",ie-25,j),h.text(oe(fe),ie,j,{align:"right"}),ge.length>1)for(let _e=1;_e<Math.min(ge.length,3);_e++)j+=5,h.setTextColor(...O),h.setFontSize(9),h.text(ge[_e],I,j);j+=8}),j+=10;const ee=130,F=k-C;let ce=0;const we={};V.forEach(ne=>{const fe=(parseFloat(ne.unitPrice)||0)*(parseFloat(ne.quantity)||1);ce+=fe;const ge=String(ne.vatPercentage||21);we[ge]||(we[ge]=0),we[ge]+=fe*parseFloat(ge)/100});const J=Object.values(we).reduce((ne,fe)=>ne+fe,0),T=ce+J;h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...O),h.text("Subtotaal",ee,j),h.text("",F-25,j),h.setTextColor(...U),h.text(oe(ce),F,j,{align:"right"}),j+=7,Object.entries(we).forEach(([ne,fe])=>{fe>0&&(h.setTextColor(...O),h.text(`${ne}% btw`,ee,j),h.text("",F-25,j),h.setTextColor(...U),h.text(oe(fe),F,j,{align:"right"}),j+=7)}),j+=5,h.setFont("helvetica","bold"),h.setTextColor(...U),h.text("Totaal",ee,j),h.text("",F-30,j),h.setFontSize(12),h.text(oe(T),F,j,{align:"right"}),j+=20,h.setFontSize(10),h.setFont("helvetica","normal"),h.setTextColor(...U),h.text("Betalingsgegevens:",C,j),j+=6,h.setTextColor(...O),o.iban&&(h.text(`IBAN: ${o.iban}`,C,j),j+=5),h.text(`t.n.v. ${o.companyName}`,C,j),j+=5,h.text(`o.v.v. ${n.invoiceNumber}`,C,j);const $=_-35;h.setFontSize(9),h.setFont("helvetica","italic"),h.setTextColor(...le);const X=`Wij verzoeken u vriendelijk het totaalbedrag van ${oe(T)} binnen ${n.paymentTermDays||30} dagen over te maken.`,ue=h.splitTextToSize(X,k-C*2);if(ue.forEach((ne,fe)=>{h.text(ne,k/2,$+fe*5,{align:"center"})}),n.notes){h.setFontSize(8),h.setFont("helvetica","normal"),h.setTextColor(...O);const ne=$+ue.length*5+5;h.splitTextToSize(`Opmerking: ${n.notes}`,k-C*2).forEach((ge,_e)=>{h.text(ge,k/2,ne+_e*4,{align:"center"})})}const de=`Factuur-${n.invoiceNumber}.pdf`;console.log("Saving PDF as:",de),h.save(de),alert("PDF succesvol gedownload!")}catch(h){console.error("PDF export error:",h),alert("Er is een fout opgetreden bij het maken van de PDF. Probeer het opnieuw.")}};return c?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:"Laden..."}):n?m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx(pt,{variant:"ghost",onClick:()=>e("invoices"),children:" Terug naar Overzicht"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(pt,{variant:"outline",onClick:()=>e(`edit-invoice-${t}`),children:"Bewerken"}),m.jsx(pt,{onClick:N,children:"Download PDF"})]})]})})}),m.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs(Ht,{className:"mb-6",children:[m.jsx(Wn,{children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx(Vn,{className:"text-2xl mb-2",children:"Factuur Details"}),m.jsx("p",{className:"text-gray-600",children:n.invoiceNumber}),n.quotationNumber&&m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Op basis van offerte: ",n.quotationNumber]})]}),m.jsx("span",{className:`text-sm px-3 py-1 rounded ${hA(n.status)}`,children:dA(n.status)})]})}),m.jsxs(nr,{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Klantgegevens"}),m.jsx("p",{className:"font-medium",children:n.clientName}),m.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:n.clientAddress})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Factuurdatum"}),m.jsx("p",{children:new Date(n.date).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})})]}),n.dueDate&&m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Vervaldatum"}),m.jsx("p",{children:new Date(n.dueDate).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Omschrijving Werkzaamheden"}),m.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:n.description})]}),m.jsxs("div",{className:"bg-green-50 p-4 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Prijs excl. BTW:"}),m.jsxs("span",{children:["",n.price.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("span",{children:["BTW (",n.vatPercentage,"%):"]}),m.jsxs("span",{children:["",eg(n.price,n.vatPercentage).toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[m.jsx("span",{children:"Totaal incl. BTW:"}),m.jsxs("span",{children:["",Fy(n.price,n.vatPercentage).toFixed(2)]})]})]}),n.notes&&m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Opmerkingen"}),m.jsx("p",{className:"text-gray-700",children:n.notes})]}),m.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.status!=="paid"&&m.jsx(pt,{onClick:w,className:"bg-green-600 hover:bg-green-700",children:"Markeer als Betaald"}),m.jsx(pt,{variant:"destructive",onClick:v,children:"Verwijderen"})]})]})]})})]}):m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"mb-4",children:"Factuur niet gevonden"}),m.jsx(pt,{onClick:()=>e("invoices"),children:"Terug naar Overzicht"})]})})},zv=({clientId:t,onNavigate:e,onSaved:r})=>{const{accessToken:n}=Ss(),[a,o]=Q.useState(!1),[l,c]=Q.useState(""),[d,p]=Q.useState(""),[v,w]=Q.useState({name:"",email:"",phone:"",address:"",postalCode:"",city:"",country:"Nederland",kvkNumber:"",vatNumber:"",notes:""});Q.useEffect(()=>{t&&N()},[t]);const N=async()=>{if(!(!n||!t))try{const _=(await Nr.getClient(n,t)).client;w({name:_.name||"",email:_.email||"",phone:_.phone||"",address:_.address||"",postalCode:_.postalCode||"",city:_.city||"",country:_.country||"Nederland",kvkNumber:_.kvkNumber||"",vatNumber:_.vatNumber||"",notes:_.notes||""})}catch(k){console.error("Error fetching client:",k)}},h=async k=>{k.preventDefault(),c(""),p(""),o(!0);try{if(!n)throw new Error("Je bent niet ingelogd. Log opnieuw in.");if(!v.name.trim())throw new Error("Vul een klantnaam in.");t?await Nr.updateClient(n,t,v):await Nr.createClient(n,v),p("Klant succesvol opgeslagen!"),setTimeout(()=>{r?r():e("clients")},1e3)}catch(_){console.error("Client save error:",_),c(_.message||"Er is een onbekende fout opgetreden bij het opslaan")}finally{o(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsx(pt,{variant:"ghost",onClick:()=>e("clients"),children:" Terug naar Klanten"})})}),m.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs(Ht,{children:[m.jsxs(Wn,{children:[m.jsx(Vn,{children:t?"Klant Bewerken":"Nieuwe Klant"}),m.jsx(Di,{children:"Vul de gegevens van je klant in"})]}),m.jsx(nr,{children:m.jsxs("form",{onSubmit:h,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Basisgegevens"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"name",children:"Bedrijfs-/Klantnaam *"}),m.jsx(lr,{id:"name",value:v.name,onChange:k=>w({...v,name:k.target.value}),placeholder:"Naam van de klant of bedrijf",required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"email",children:"E-mailadres"}),m.jsx(lr,{id:"email",type:"email",value:v.email,onChange:k=>w({...v,email:k.target.value}),placeholder:"klant@voorbeeld.nl"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"phone",children:"Telefoonnummer"}),m.jsx(lr,{id:"phone",value:v.phone,onChange:k=>w({...v,phone:k.target.value}),placeholder:"06-12345678"})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Adresgegevens"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"address",children:"Straat en huisnummer"}),m.jsx(lr,{id:"address",value:v.address,onChange:k=>w({...v,address:k.target.value}),placeholder:"Voorbeeldstraat 123"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"postalCode",children:"Postcode"}),m.jsx(lr,{id:"postalCode",value:v.postalCode,onChange:k=>w({...v,postalCode:k.target.value}),placeholder:"1234 AB"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"city",children:"Plaats"}),m.jsx(lr,{id:"city",value:v.city,onChange:k=>w({...v,city:k.target.value}),placeholder:"Amsterdam"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"country",children:"Land"}),m.jsx(lr,{id:"country",value:v.country,onChange:k=>w({...v,country:k.target.value}),placeholder:"Nederland"})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Zakelijke gegevens (optioneel)"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"kvkNumber",children:"KvK-nummer"}),m.jsx(lr,{id:"kvkNumber",value:v.kvkNumber,onChange:k=>w({...v,kvkNumber:k.target.value}),placeholder:"12345678"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"vatNumber",children:"BTW-nummer"}),m.jsx(lr,{id:"vatNumber",value:v.vatNumber,onChange:k=>w({...v,vatNumber:k.target.value}),placeholder:"NL123456789B01"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"notes",children:"Notities (optioneel)"}),m.jsx(Ad,{id:"notes",value:v.notes,onChange:k=>w({...v,notes:k.target.value}),rows:3,placeholder:"Extra informatie over deze klant..."})]}),l&&m.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:l}),d&&m.jsx("div",{className:"text-green-600 text-sm p-3 bg-green-50 rounded",children:d}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx(pt,{type:"submit",disabled:a,children:a?"Bezig...":t?"Bijwerken":"Aanmaken"}),m.jsx(pt,{type:"button",variant:"outline",onClick:()=>e("clients"),children:"Annuleren"})]})]})})]})})]})},pA=({onNavigate:t})=>{const{accessToken:e}=Ss(),[r,n]=Q.useState([]),[a,o]=Q.useState(!0),[l,c]=Q.useState("");Q.useEffect(()=>{d()},[e]);const d=async()=>{if(e)try{const h=await Nr.getClients(e);n(h.clients||[])}catch(h){console.error("Error fetching clients:",h)}finally{o(!1)}},p=Q.useMemo(()=>{if(!l)return r;const h=l.toLowerCase();return r.filter(k=>{var _,C,E,j;return((_=k.name)==null?void 0:_.toLowerCase().includes(h))||((C=k.email)==null?void 0:C.toLowerCase().includes(h))||((E=k.city)==null?void 0:E.toLowerCase().includes(h))||((j=k.phone)==null?void 0:j.includes(h))})},[r,l]),v=Q.useMemo(()=>[...p].sort((h,k)=>(h.name||"").localeCompare(k.name||"")),[p]),w=Q.useMemo(()=>{const h={};return v.forEach(k=>{const _=(k.name||"?")[0].toUpperCase();h[_]||(h[_]=[]),h[_].push(k)}),h},[v]),N=h=>{const k=[];return h.address&&k.push(h.address),(h.postalCode||h.city)&&k.push([h.postalCode,h.city].filter(Boolean).join(" ")),k.join(", ")||"Geen adres"};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Klanten"}),m.jsxs("div",{className:"flex space-x-4",children:[m.jsx(pt,{onClick:()=>t("create-client"),children:"+ Nieuwe Klant"}),m.jsx(pt,{variant:"outline",onClick:()=>t("dashboard"),children:"Dashboard"})]})]})})}),m.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Totaal Klanten"}),m.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.length})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Met E-mail"}),m.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(h=>h.email).length})]})}),m.jsx(Ht,{className:"bg-white",children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Met Adres"}),m.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.filter(h=>h.address||h.city).length})]})})]}),m.jsx(Ht,{className:"mb-6",children:m.jsxs(nr,{className:"p-4",children:[m.jsx(lr,{placeholder:"Zoek op naam, e-mail, plaats of telefoon...",value:l,onChange:h=>c(h.target.value)}),m.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[p.length," klant(en) gevonden"]})]})}),a?m.jsx("div",{className:"text-center py-8",children:"Laden..."}):p.length===0?m.jsx(Ht,{children:m.jsxs(nr,{className:"py-8 text-center",children:[m.jsx("p",{className:"text-gray-500 mb-4",children:r.length===0?"Nog geen klanten. Voeg je eerste klant toe!":"Geen klanten gevonden met deze zoekopdracht."}),r.length===0&&m.jsx(pt,{onClick:()=>t("create-client"),children:"Eerste Klant Toevoegen"})]})}):m.jsx("div",{className:"space-y-6",children:Object.entries(w).map(([h,k])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center mb-3",children:[m.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm",children:h}),m.jsx("div",{className:"h-px bg-gray-200 flex-1 ml-3"})]}),m.jsx("div",{className:"space-y-2",children:k.map(_=>{var C,E;return m.jsx("div",{className:"bg-white rounded-lg border p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(`client-detail-${_.id}`),children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold text-lg",children:((E=(C=_.name)==null?void 0:C.charAt(0))==null?void 0:E.toUpperCase())||"?"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-lg",children:_.name}),m.jsx("p",{className:"text-sm text-gray-500",children:N(_)}),m.jsxs("div",{className:"flex gap-4 mt-1 text-sm",children:[_.email&&m.jsx("span",{className:"text-blue-600",children:_.email}),_.phone&&m.jsx("span",{className:"text-gray-600",children:_.phone})]})]})]}),m.jsx("div",{className:"text-right text-sm text-gray-500",children:_.kvkNumber&&m.jsxs("p",{children:["KvK: ",_.kvkNumber]})})]})},_.id)})})]},h))})]})]})},mA=t=>({draft:"Concept",sent:"Verstuurd",paid:"Betaald",overdue:"Vervallen"})[t]||t,gA=t=>({draft:"bg-gray-100 text-gray-800",sent:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",vA=({clientId:t,onNavigate:e})=>{var U,le;const{accessToken:r}=Ss(),[n,a]=Q.useState(null),[o,l]=Q.useState([]),[c,d]=Q.useState([]),[p,v]=Q.useState(!0),[w,N]=Q.useState(null);Q.useEffect(()=>{h()},[t,r]);const h=async()=>{if(r)try{const q=await Nr.getClientHistory(r,t);a(q.client),l(q.quotations||[]),d(q.invoices||[])}catch(q){console.error("Error fetching client data:",q)}finally{v(!1)}},k=async()=>{if(confirm("Weet je zeker dat je deze klant wilt verwijderen? De offertes en facturen blijven bestaan.")&&r)try{await Nr.deleteClient(r,t),e("clients")}catch(q){console.error("Error deleting client:",q)}},_=async(q,G)=>{if(G.stopPropagation(),!!r){N(q);try{const K=await Nr.convertQuotationToInvoice(r,q);await h(),e(`invoice-detail-${K.invoice.id}`)}catch(K){console.error("Error converting quotation to invoice:",K),alert("Er is een fout opgetreden bij het omzetten naar factuur.")}finally{N(null)}}},C=()=>{if(!n)return"";const q=[];return n.address&&q.push(n.address),(n.postalCode||n.city)&&q.push([n.postalCode,n.city].filter(Boolean).join(" ")),n.country&&n.country!=="Nederland"&&q.push(n.country),q.join(`
`)},E=q=>new Date(q).toLocaleDateString("nl-NL",{day:"numeric",month:"short",year:"numeric"}),j=o.reduce((q,G)=>q+(G.price||0),0),P=c.reduce((q,G)=>q+(G.price||0),0),O=c.filter(q=>q.status==="paid").reduce((q,G)=>q+(G.price||0),0);return p?m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:"Laden..."}):n?m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx(pt,{variant:"ghost",onClick:()=>e("clients"),children:" Terug naar Klanten"}),m.jsx("div",{className:"flex space-x-2",children:m.jsx(pt,{variant:"outline",onClick:()=>e(`edit-client-${t}`),children:"Bewerken"})})]})})}),m.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsx(Ht,{className:"mb-6",children:m.jsx(nr,{className:"p-6",children:m.jsxs("div",{className:"flex items-start gap-6",children:[m.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-3xl",children:((le=(U=n.name)==null?void 0:U.charAt(0))==null?void 0:le.toUpperCase())||"?"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2",children:n.name}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[C()&&m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 font-medium",children:"Adres"}),m.jsx("p",{className:"whitespace-pre-line",children:C()})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 font-medium",children:"Contact"}),n.email&&m.jsx("p",{className:"text-blue-600",children:n.email}),n.phone&&m.jsx("p",{children:n.phone}),!n.email&&!n.phone&&m.jsx("p",{className:"text-gray-400",children:"Geen contactgegevens"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 font-medium",children:"Zakelijk"}),n.kvkNumber&&m.jsxs("p",{children:["KvK: ",n.kvkNumber]}),n.vatNumber&&m.jsxs("p",{children:["BTW: ",n.vatNumber]}),!n.kvkNumber&&!n.vatNumber&&m.jsx("p",{className:"text-gray-400",children:"Geen zakelijke gegevens"})]})]}),n.notes&&m.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded",children:[m.jsx("p",{className:"text-gray-500 font-medium text-sm",children:"Notities"}),m.jsx("p",{className:"text-sm",children:n.notes})]})]})]})})}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[m.jsx(Ht,{children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Offertes"}),m.jsx("p",{className:"text-2xl font-bold",children:o.length}),m.jsxs("p",{className:"text-sm text-gray-400",children:["",j.toFixed(0)," totaal"]})]})}),m.jsx(Ht,{children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Facturen"}),m.jsx("p",{className:"text-2xl font-bold",children:c.length}),m.jsxs("p",{className:"text-sm text-gray-400",children:["",P.toFixed(0)," totaal"]})]})}),m.jsx(Ht,{children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Betaald"}),m.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",O.toFixed(0)]})]})}),m.jsx(Ht,{children:m.jsxs(nr,{className:"p-4",children:[m.jsx("p",{className:"text-sm text-gray-500",children:"Open"}),m.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["",(P-O).toFixed(0)]})]})})]}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[m.jsx(pt,{onClick:()=>e(`create-quotation?client=${t}`),children:"+ Nieuwe Offerte"}),m.jsx(pt,{onClick:()=>e(`create-invoice?client=${t}`),className:"bg-green-600 hover:bg-green-700",children:"+ Nieuwe Factuur"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs(Ht,{children:[m.jsx(Wn,{children:m.jsxs(Vn,{children:["Offertes (",o.length,")"]})}),m.jsx(nr,{children:o.length===0?m.jsx("p",{className:"text-gray-500 text-sm",children:"Nog geen offertes voor deze klant."}):m.jsx("div",{className:"space-y-2",children:o.map(q=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>e(`quotation-detail-${q.id}`),children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-sm",children:q.quotationNumber}),m.jsx("p",{className:"text-xs text-gray-500",children:E(q.date)})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[(q.status==="sent"||q.status==="accepted")&&m.jsx(pt,{size:"sm",variant:"outline",className:"text-xs bg-green-50 hover:bg-green-100 text-green-700 border-green-200",onClick:G=>_(q.id,G),disabled:w===q.id,children:w===q.id?"Bezig...":" Factuur"}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-medium",children:["",(q.price||0).toFixed(2)]}),m.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${kd(q.status)}`,children:Nd(q.status)})]})]})]},q.id))})})]}),m.jsxs(Ht,{children:[m.jsx(Wn,{children:m.jsxs(Vn,{children:["Facturen (",c.length,")"]})}),m.jsx(nr,{children:c.length===0?m.jsx("p",{className:"text-gray-500 text-sm",children:"Nog geen facturen voor deze klant."}):m.jsx("div",{className:"space-y-2",children:c.map(q=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>e(`invoice-detail-${q.id}`),children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-sm",children:q.invoiceNumber}),m.jsx("p",{className:"text-xs text-gray-500",children:E(q.date)})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-medium",children:["",(q.price||0).toFixed(2)]}),m.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${gA(q.status)}`,children:mA(q.status)})]})]},q.id))})})]})]}),m.jsx("div",{className:"mt-8",children:m.jsx(pt,{variant:"destructive",onClick:k,children:"Klant Verwijderen"})})]})]}):m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"mb-4",children:"Klant niet gevonden"}),m.jsx(pt,{onClick:()=>e("clients"),children:"Terug naar Klanten"})]})})},yA=500*1024,wA=({onNavigate:t})=>{const{accessToken:e}=Ss(),[r,n]=Q.useState(!1),[a,o]=Q.useState(!1),[l,c]=Q.useState(""),[d,p]=Q.useState(!1),[v,w]=Q.useState(null),N=Q.useRef(null),[h,k]=Q.useState({companyName:"",name:"",address:"",email:"",phone:"",kvkNumber:"",vatNumber:"",logo:""});Q.useEffect(()=>{_()},[e]);const _=async()=>{if(e){n(!0);try{const O=(await Nr.getProfile(e)).profile;k({companyName:O.companyName||"",name:O.name||"",address:O.address||"",email:O.email||"",phone:O.phone||"",kvkNumber:O.kvkNumber||"",vatNumber:O.vatNumber||"",logo:O.logo||""}),O.logo&&w(O.logo)}catch(P){console.error("Error fetching profile:",P)}finally{n(!1)}}},C=async P=>{P.preventDefault(),c(""),p(!1),o(!0);try{if(!e)throw new Error("Je bent niet ingelogd. Log opnieuw in.");await Nr.updateProfile(e,h),p(!0),setTimeout(()=>p(!1),3e3)}catch(O){console.error("Profile save error:",O),c(O.message||"Er is een fout opgetreden bij het opslaan")}finally{o(!1)}},E=P=>{var le;const O=(le=P.target.files)==null?void 0:le[0];if(!O)return;if(O.size>yA){c("Logo is te groot. Maximaal 500KB toegestaan.");return}if(!O.type.startsWith("image/")){c("Alleen afbeeldingsbestanden zijn toegestaan.");return}const U=new FileReader;U.onload=q=>{var K;const G=(K=q.target)==null?void 0:K.result;w(G),k({...h,logo:G}),c("")},U.readAsDataURL(O)},j=()=>{w(null),k({...h,logo:""}),N.current&&(N.current.value="")};return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx("header",{className:"bg-white shadow-sm",children:m.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Instellingen"}),m.jsx(pt,{variant:"outline",onClick:()=>t("dashboard"),children:"Terug naar Dashboard"})]})})}),m.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs(Ht,{children:[m.jsxs(Wn,{children:[m.jsx(Vn,{children:"Bedrijfsgegevens"}),m.jsx(Di,{children:"Deze gegevens worden gebruikt op je offertes"})]}),m.jsx(nr,{children:r?m.jsx("div",{className:"text-center py-8",children:"Laden..."}):m.jsxs("form",{onSubmit:C,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"logo",children:"Bedrijfslogo"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Dit logo wordt weergegeven op je offertes (max. 500KB)"}),m.jsxs("div",{className:"flex items-start gap-4",children:[v?m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:v,alt:"Logo preview",className:"h-24 w-auto max-w-48 object-contain border rounded p-2 bg-white"}),m.jsx("button",{type:"button",onClick:j,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600",children:""})]}):m.jsx("div",{className:"h-24 w-48 border-2 border-dashed rounded flex items-center justify-center text-gray-400 bg-gray-50",children:"Geen logo"}),m.jsxs("div",{children:[m.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:E,className:"hidden",id:"logo-upload"}),m.jsx(pt,{type:"button",variant:"outline",onClick:()=>{var P;return(P=N.current)==null?void 0:P.click()},children:v?"Ander logo kiezen":"Logo uploaden"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"companyName",children:"Bedrijfsnaam *"}),m.jsx(lr,{id:"companyName",value:h.companyName,onChange:P=>k({...h,companyName:P.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"name",children:"Naam *"}),m.jsx(lr,{id:"name",value:h.name,onChange:P=>k({...h,name:P.target.value}),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"address",children:"Adres"}),m.jsx(Ad,{id:"address",value:h.address,onChange:P=>k({...h,address:P.target.value}),rows:3,placeholder:`Straat en huisnummer
Postcode en plaats`})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"email",children:"E-mail"}),m.jsx(lr,{id:"email",type:"email",value:h.email,onChange:P=>k({...h,email:P.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"phone",children:"Telefoonnummer"}),m.jsx(lr,{id:"phone",type:"tel",value:h.phone,onChange:P=>k({...h,phone:P.target.value})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"kvkNumber",children:"KvK-nummer"}),m.jsx(lr,{id:"kvkNumber",value:h.kvkNumber,onChange:P=>k({...h,kvkNumber:P.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Vt,{htmlFor:"vatNumber",children:"BTW-nummer (optioneel)"}),m.jsx(lr,{id:"vatNumber",value:h.vatNumber,onChange:P=>k({...h,vatNumber:P.target.value})})]})]}),l&&m.jsx("div",{className:"text-red-600 text-sm p-3 bg-red-50 rounded",children:l}),d&&m.jsx("div",{className:"text-green-600 text-sm p-3 bg-green-50 rounded",children:"Gegevens succesvol bijgewerkt!"}),m.jsx(pt,{type:"submit",disabled:a,children:a?"Bezig met opslaan...":"Opslaan"})]})})]})})]})};function xA(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const bA=t=>{switch(t){case"success":return NA;case"info":return AA;case"warning":return kA;case"error":return jA;default:return null}},_A=Array(12).fill(0),SA=({visible:t,className:e})=>Ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ve.createElement("div",{className:"sonner-spinner"},_A.map((r,n)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),NA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),AA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),jA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EA=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),CA=()=>{const[t,e]=Ve.useState(document.hidden);return Ve.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let Om=1;class LA{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,o=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Om++,l=this.toasts.find(d=>d.id===o),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(d=>d.id===o?(this.publish({...d,...e,id:o,title:n}),{...d,...e,id:o,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let o=n!==void 0,l;const c=a.then(async p=>{if(l=["resolve",p],Ve.isValidElement(p))o=!1,this.create({id:n,type:"default",message:p});else if(TA(p)&&!p.ok){o=!1;const w=typeof r.error=="function"?await r.error(`HTTP error! status: ${p.status}`):r.error,N=typeof r.description=="function"?await r.description(`HTTP error! status: ${p.status}`):r.description,k=typeof w=="object"&&!Ve.isValidElement(w)?w:{message:w};this.create({id:n,type:"error",description:N,...k})}else if(p instanceof Error){o=!1;const w=typeof r.error=="function"?await r.error(p):r.error,N=typeof r.description=="function"?await r.description(p):r.description,k=typeof w=="object"&&!Ve.isValidElement(w)?w:{message:w};this.create({id:n,type:"error",description:N,...k})}else if(r.success!==void 0){o=!1;const w=typeof r.success=="function"?await r.success(p):r.success,N=typeof r.description=="function"?await r.description(p):r.description,k=typeof w=="object"&&!Ve.isValidElement(w)?w:{message:w};this.create({id:n,type:"success",description:N,...k})}}).catch(async p=>{if(l=["reject",p],r.error!==void 0){o=!1;const v=typeof r.error=="function"?await r.error(p):r.error,w=typeof r.description=="function"?await r.description(p):r.description,h=typeof v=="object"&&!Ve.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:w,...h})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((p,v)=>c.then(()=>l[0]==="reject"?v(l[1]):p(l[1])).catch(v));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||Om++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Zi=new LA,PA=(t,e)=>{const r=(e==null?void 0:e.id)||Om++;return Zi.addToast({title:t,...e,id:r}),r},TA=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",OA=PA,RA=()=>Zi.toasts,IA=()=>Zi.getActiveToasts();Object.assign(OA,{success:Zi.success,info:Zi.info,warning:Zi.warning,error:Zi.error,custom:Zi.custom,message:Zi.message,promise:Zi.promise,dismiss:Zi.dismiss,loading:Zi.loading},{getHistory:RA,getToasts:IA});xA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Fh(t){return t.label!==void 0}const DA=3,FA="24px",MA="16px",qv=4e3,BA=356,UA=14,zA=45,qA=200;function za(...t){return t.filter(Boolean).join(" ")}function $A(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const WA=t=>{var e,r,n,a,o,l,c,d,p;const{invert:v,toast:w,unstyled:N,interacting:h,setHeights:k,visibleToasts:_,heights:C,index:E,toasts:j,expanded:P,removeToast:O,defaultRichColors:U,closeButton:le,style:q,cancelButtonStyle:G,actionButtonStyle:K,className:pe="",descriptionClassName:I="",duration:W,position:ae,gap:ie,expandByDefault:oe,classNames:V,icons:ee,closeButtonAriaLabel:F="Close toast"}=t,[ce,we]=Ve.useState(null),[J,T]=Ve.useState(null),[$,X]=Ve.useState(!1),[ue,de]=Ve.useState(!1),[ne,fe]=Ve.useState(!1),[ge,_e]=Ve.useState(!1),[Pe,Me]=Ve.useState(!1),[$e,Ke]=Ve.useState(0),[Z,He]=Ve.useState(0),St=Ve.useRef(w.duration||W||qv),yt=Ve.useRef(null),De=Ve.useRef(null),wt=E===0,Ye=E+1<=_,Qe=w.type,ot=w.dismissible!==!1,ir=w.className||"",Kt=w.descriptionClassName||"",Et=Ve.useMemo(()=>C.findIndex(Je=>Je.toastId===w.id)||0,[C,w.id]),Jt=Ve.useMemo(()=>{var Je;return(Je=w.closeButton)!=null?Je:le},[w.closeButton,le]),Ut=Ve.useMemo(()=>w.duration||W||qv,[w.duration,W]),rt=Ve.useRef(0),kt=Ve.useRef(0),nt=Ve.useRef(0),wr=Ve.useRef(null),[Qt,zt]=ae.split("-"),qt=Ve.useMemo(()=>C.reduce((Je,kr,rr)=>rr>=Et?Je:Je+kr.height,0),[C,Et]),mr=CA(),xt=w.invert||v,ar=Qe==="loading";kt.current=Ve.useMemo(()=>Et*ie+qt,[Et,qt]),Ve.useEffect(()=>{St.current=Ut},[Ut]),Ve.useEffect(()=>{X(!0)},[]),Ve.useEffect(()=>{const Je=De.current;if(Je){const kr=Je.getBoundingClientRect().height;return He(kr),k(rr=>[{toastId:w.id,height:kr,position:w.position},...rr]),()=>k(rr=>rr.filter(Mr=>Mr.toastId!==w.id))}},[k,w.id]),Ve.useLayoutEffect(()=>{if(!$)return;const Je=De.current,kr=Je.style.height;Je.style.height="auto";const rr=Je.getBoundingClientRect().height;Je.style.height=kr,He(rr),k(Mr=>Mr.find(Xe=>Xe.toastId===w.id)?Mr.map(Xe=>Xe.toastId===w.id?{...Xe,height:rr}:Xe):[{toastId:w.id,height:rr,position:w.position},...Mr])},[$,w.title,w.description,k,w.id]);const ht=Ve.useCallback(()=>{de(!0),Ke(kt.current),k(Je=>Je.filter(kr=>kr.toastId!==w.id)),setTimeout(()=>{O(w)},qA)},[w,O,k,kt]);Ve.useEffect(()=>{if(w.promise&&Qe==="loading"||w.duration===1/0||w.type==="loading")return;let Je;return P||h||mr?(()=>{if(nt.current<rt.current){const Mr=new Date().getTime()-rt.current;St.current=St.current-Mr}nt.current=new Date().getTime()})():(()=>{St.current!==1/0&&(rt.current=new Date().getTime(),Je=setTimeout(()=>{w.onAutoClose==null||w.onAutoClose.call(w,w),ht()},St.current))})(),()=>clearTimeout(Je)},[P,h,w,Qe,mr,ht]),Ve.useEffect(()=>{w.delete&&ht()},[ht,w.delete]);function Tt(){var Je;if(ee!=null&&ee.loading){var kr;return Ve.createElement("div",{className:za(V==null?void 0:V.loader,w==null||(kr=w.classNames)==null?void 0:kr.loader,"sonner-loader"),"data-visible":Qe==="loading"},ee.loading)}return Ve.createElement(SA,{className:za(V==null?void 0:V.loader,w==null||(Je=w.classNames)==null?void 0:Je.loader),visible:Qe==="loading"})}const cr=w.icon||(ee==null?void 0:ee[Qe])||bA(Qe);var Rt,Nt;return Ve.createElement("li",{tabIndex:0,ref:De,className:za(pe,ir,V==null?void 0:V.toast,w==null||(e=w.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Qe],w==null||(r=w.classNames)==null?void 0:r[Qe]),"data-sonner-toast":"","data-rich-colors":(Rt=w.richColors)!=null?Rt:U,"data-styled":!(w.jsx||w.unstyled||N),"data-mounted":$,"data-promise":!!w.promise,"data-swiped":Pe,"data-removed":ue,"data-visible":Ye,"data-y-position":Qt,"data-x-position":zt,"data-index":E,"data-front":wt,"data-swiping":ne,"data-dismissible":ot,"data-type":Qe,"data-invert":xt,"data-swipe-out":ge,"data-swipe-direction":J,"data-expanded":!!(P||oe&&$),style:{"--index":E,"--toasts-before":E,"--z-index":j.length-E,"--offset":`${ue?$e:kt.current}px`,"--initial-height":oe?"auto":`${Z}px`,...q,...w.style},onDragEnd:()=>{fe(!1),we(null),wr.current=null},onPointerDown:Je=>{ar||!ot||(yt.current=new Date,Ke(kt.current),Je.target.setPointerCapture(Je.pointerId),Je.target.tagName!=="BUTTON"&&(fe(!0),wr.current={x:Je.clientX,y:Je.clientY}))},onPointerUp:()=>{var Je,kr,rr;if(ge||!ot)return;wr.current=null;const Mr=Number(((Je=De.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rn=Number(((kr=De.current)==null?void 0:kr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Xe=new Date().getTime()-((rr=yt.current)==null?void 0:rr.getTime()),Tr=ce==="x"?Mr:Rn,Hn=Math.abs(Tr)/Xe;if(Math.abs(Tr)>=zA||Hn>.11){Ke(kt.current),w.onDismiss==null||w.onDismiss.call(w,w),T(ce==="x"?Mr>0?"right":"left":Rn>0?"down":"up"),ht(),_e(!0);return}else{var xr,Br;(xr=De.current)==null||xr.style.setProperty("--swipe-amount-x","0px"),(Br=De.current)==null||Br.style.setProperty("--swipe-amount-y","0px")}Me(!1),fe(!1),we(null)},onPointerMove:Je=>{var kr,rr,Mr;if(!wr.current||!ot||((kr=window.getSelection())==null?void 0:kr.toString().length)>0)return;const Xe=Je.clientY-wr.current.y,Tr=Je.clientX-wr.current.x;var Hn;const xr=(Hn=t.swipeDirections)!=null?Hn:$A(ae);!ce&&(Math.abs(Tr)>1||Math.abs(Xe)>1)&&we(Math.abs(Tr)>Math.abs(Xe)?"x":"y");let Br={x:0,y:0};const gr=vr=>1/(1.5+Math.abs(vr)/20);if(ce==="y"){if(xr.includes("top")||xr.includes("bottom"))if(xr.includes("top")&&Xe<0||xr.includes("bottom")&&Xe>0)Br.y=Xe;else{const vr=Xe*gr(Xe);Br.y=Math.abs(vr)<Math.abs(Xe)?vr:Xe}}else if(ce==="x"&&(xr.includes("left")||xr.includes("right")))if(xr.includes("left")&&Tr<0||xr.includes("right")&&Tr>0)Br.x=Tr;else{const vr=Tr*gr(Tr);Br.x=Math.abs(vr)<Math.abs(Tr)?vr:Tr}(Math.abs(Br.x)>0||Math.abs(Br.y)>0)&&Me(!0),(rr=De.current)==null||rr.style.setProperty("--swipe-amount-x",`${Br.x}px`),(Mr=De.current)==null||Mr.style.setProperty("--swipe-amount-y",`${Br.y}px`)}},Jt&&!w.jsx&&Qe!=="loading"?Ve.createElement("button",{"aria-label":F,"data-disabled":ar,"data-close-button":!0,onClick:ar||!ot?()=>{}:()=>{ht(),w.onDismiss==null||w.onDismiss.call(w,w)},className:za(V==null?void 0:V.closeButton,w==null||(n=w.classNames)==null?void 0:n.closeButton)},(Nt=ee==null?void 0:ee.close)!=null?Nt:EA):null,(Qe||w.icon||w.promise)&&w.icon!==null&&((ee==null?void 0:ee[Qe])!==null||w.icon)?Ve.createElement("div",{"data-icon":"",className:za(V==null?void 0:V.icon,w==null||(a=w.classNames)==null?void 0:a.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||Tt():null,w.type!=="loading"?cr:null):null,Ve.createElement("div",{"data-content":"",className:za(V==null?void 0:V.content,w==null||(o=w.classNames)==null?void 0:o.content)},Ve.createElement("div",{"data-title":"",className:za(V==null?void 0:V.title,w==null||(l=w.classNames)==null?void 0:l.title)},w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title),w.description?Ve.createElement("div",{"data-description":"",className:za(I,Kt,V==null?void 0:V.description,w==null||(c=w.classNames)==null?void 0:c.description)},typeof w.description=="function"?w.description():w.description):null),Ve.isValidElement(w.cancel)?w.cancel:w.cancel&&Fh(w.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||G,onClick:Je=>{Fh(w.cancel)&&ot&&(w.cancel.onClick==null||w.cancel.onClick.call(w.cancel,Je),ht())},className:za(V==null?void 0:V.cancelButton,w==null||(d=w.classNames)==null?void 0:d.cancelButton)},w.cancel.label):null,Ve.isValidElement(w.action)?w.action:w.action&&Fh(w.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||K,onClick:Je=>{Fh(w.action)&&(w.action.onClick==null||w.action.onClick.call(w.action,Je),!Je.defaultPrevented&&ht())},className:za(V==null?void 0:V.actionButton,w==null||(p=w.classNames)==null?void 0:p.actionButton)},w.action.label):null)};function $v(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function VA(t,e){const r={};return[t,e].forEach((n,a)=>{const o=a===1,l=o?"--mobile-offset":"--offset",c=o?MA:FA;function d(p){["top","right","bottom","left"].forEach(v=>{r[`${l}-${v}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${l}-${p}`]=c:r[`${l}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):d(c)}),r}const HA=Ve.forwardRef(function(e,r){const{invert:n,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:d,offset:p,mobileOffset:v,theme:w="light",richColors:N,duration:h,style:k,visibleToasts:_=DA,toastOptions:C,dir:E=$v(),gap:j=UA,icons:P,containerAriaLabel:O="Notifications"}=e,[U,le]=Ve.useState([]),q=Ve.useMemo(()=>Array.from(new Set([a].concat(U.filter(J=>J.position).map(J=>J.position)))),[U,a]),[G,K]=Ve.useState([]),[pe,I]=Ve.useState(!1),[W,ae]=Ve.useState(!1),[ie,oe]=Ve.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=Ve.useRef(null),ee=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=Ve.useRef(null),ce=Ve.useRef(!1),we=Ve.useCallback(J=>{le(T=>{var $;return($=T.find(X=>X.id===J.id))!=null&&$.delete||Zi.dismiss(J.id),T.filter(({id:X})=>X!==J.id)})},[]);return Ve.useEffect(()=>Zi.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{le(T=>T.map($=>$.id===J.id?{...$,delete:!0}:$))});return}setTimeout(()=>{N2.flushSync(()=>{le(T=>{const $=T.findIndex(X=>X.id===J.id);return $!==-1?[...T.slice(0,$),{...T[$],...J},...T.slice($+1)]:[J,...T]})})})}),[U]),Ve.useEffect(()=>{if(w!=="system"){oe(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:T})=>{oe(T?"dark":"light")})}catch{J.addListener(({matches:$})=>{try{oe($?"dark":"light")}catch(X){console.error(X)}})}},[w]),Ve.useEffect(()=>{U.length<=1&&I(!1)},[U]),Ve.useEffect(()=>{const J=T=>{var $;if(o.every(de=>T[de]||T.code===de)){var ue;I(!0),(ue=V.current)==null||ue.focus()}T.code==="Escape"&&(document.activeElement===V.current||($=V.current)!=null&&$.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[o]),Ve.useEffect(()=>{if(V.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,ce.current=!1)}},[V.current]),Ve.createElement("section",{ref:r,"aria-label":`${O} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((J,T)=>{var $;const[X,ue]=J.split("-");return U.length?Ve.createElement("ol",{key:J,dir:E==="auto"?$v():E,tabIndex:-1,ref:V,className:d,"data-sonner-toaster":!0,"data-sonner-theme":ie,"data-y-position":X,"data-lifted":pe&&U.length>1&&!l,"data-x-position":ue,style:{"--front-toast-height":`${(($=G[0])==null?void 0:$.height)||0}px`,"--width":`${BA}px`,"--gap":`${j}px`,...k,...VA(p,v)},onBlur:de=>{ce.current&&!de.currentTarget.contains(de.relatedTarget)&&(ce.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||ce.current||(ce.current=!0,F.current=de.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{W||I(!1)},onDragEnd:()=>I(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},U.filter(de=>!de.position&&T===0||de.position===J).map((de,ne)=>{var fe,ge;return Ve.createElement(WA,{key:de.id,icons:P,index:ne,toast:de,defaultRichColors:N,duration:(fe=C==null?void 0:C.duration)!=null?fe:h,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:n,visibleToasts:_,closeButton:(ge=C==null?void 0:C.closeButton)!=null?ge:c,interacting:W,position:J,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:we,toasts:U.filter(_e=>_e.position==de.position),heights:G.filter(_e=>_e.position==de.position),setHeights:K,expandByDefault:l,gap:j,expanded:pe,swipeDirections:e.swipeDirections})})):null}))}),GA=({...t})=>m.jsx(HA,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t}),KA=()=>{const t=Ss();if(!t)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-red-600",children:"Er is een fout opgetreden bij het laden van de applicatie."}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Ververs de pagina om opnieuw te proberen."})]})});const{user:e,loading:r}=t,[n,a]=Q.useState("landing"),[o,l]=Q.useState("signin"),c=d=>{console.log("Navigating to:",d),a(d)};if(Q.useEffect(()=>{r||(e&&(n==="landing"||n==="signin"||n==="signup")?(console.log("User logged in, redirecting to dashboard"),a("dashboard")):!e&&n!=="landing"&&n!=="signin"&&n!=="signup"&&(console.log("User not logged in, redirecting to landing"),a("landing")))},[e,r,n]),r)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Laden..."})]})});if(!e)return n==="signin"||n==="signup"?m.jsx(W_,{mode:o,onModeChange:l,onBack:()=>a("landing")}):m.jsx(B_,{onSignUp:()=>{l("signup"),a("signup")},onSignIn:()=>{l("signin"),a("signin")}});if(n==="dashboard")return m.jsx(G0,{onNavigate:c});if(n==="create-quotation")return m.jsx(b1,{onNavigate:c});if(n.startsWith("edit-quotation-")){const d=n.replace("edit-quotation-","");return m.jsx(b1,{quotationId:d,onNavigate:c})}if(n==="quotations")return m.jsx(yN,{onNavigate:c});if(n.startsWith("quotation-detail-")){const d=n.replace("quotation-detail-","");return m.jsx(cA,{quotationId:d,onNavigate:c})}if(n==="create-invoice")return m.jsx(Mv,{onNavigate:c});if(n.startsWith("edit-invoice-")){const d=n.replace("edit-invoice-","");return m.jsx(Mv,{invoiceId:d,onNavigate:c})}if(n==="invoices")return m.jsx(uA,{onNavigate:c});if(n.startsWith("invoice-detail-")){const d=n.replace("invoice-detail-","");return m.jsx(fA,{invoiceId:d,onNavigate:c})}if(n==="create-client")return m.jsx(zv,{onNavigate:c});if(n.startsWith("edit-client-")){const d=n.replace("edit-client-","");return m.jsx(zv,{clientId:d,onNavigate:c})}if(n==="clients")return m.jsx(pA,{onNavigate:c});if(n.startsWith("client-detail-")){const d=n.replace("client-detail-","");return m.jsx(vA,{clientId:d,onNavigate:c})}return n==="settings"?m.jsx(wA,{onNavigate:c}):m.jsx(G0,{onNavigate:c})},JA=()=>m.jsxs(Qb,{children:[m.jsx(KA,{}),m.jsx(GA,{})]});vw.createRoot(document.getElementById("root")).render(m.jsx(JA,{}));export{Pr as _,XA as c,Wv as g};
